{"version":3,"file":"index.esm.js","sources":["../src/constants/nodeTypes.js","../src/constants/standardProps.js","../src/constants/reactProps.js","../src/attrsToProps.js","../src/nodeNameToType.js","../src/nodesToElements.js","../src/Markup.js","../src/renderMarkup.js"],"sourcesContent":["// See https://dom.spec.whatwg.org/#dom-node-nodetype\nexport const ELEMENT_NODE = 1;\nexport const TEXT_NODE = 3;\n","// Mapping of standard attribute names to prop names.\n// Based off https://github.com/facebook/react/blob/feb134c30d20ef332771d71d8d1cb66d34311637/packages/react-dom/src/shared/possibleStandardNames.js\nexport default new Map([\n  // HTML\n  ['accept-charset', 'acceptCharset'],\n  ['accesskey', 'accessKey'],\n  ['allowfullscreen', 'allowFullScreen'],\n  ['autocapitalize', 'autoCapitalize'],\n  ['autocomplete', 'autoComplete'],\n  ['autocorrect', 'autoCorrect'],\n  ['autofocus', 'autoFocus'],\n  ['autoplay', 'autoPlay'],\n  ['autosave', 'autoSave'],\n  ['cellpadding', 'cellPadding'],\n  ['cellspacing', 'cellSpacing'],\n  ['charset', 'charSet'],\n  ['class', 'className'],\n  ['classid', 'classID'],\n  ['classname', 'className'],\n  ['colspan', 'colSpan'],\n  ['contenteditable', 'contentEditable'],\n  ['contextmenu', 'contextMenu'],\n  ['controlslist', 'controlsList'],\n  ['crossorigin', 'crossOrigin'],\n  ['datetime', 'dateTime'],\n  ['disablepictureinpicture', 'disablePictureInPicture'],\n  ['disableremoteplayback', 'disableRemotePlayback'],\n  ['enctype', 'encType'],\n  ['enterkeyhint', 'enterKeyHint'],\n  ['for', 'htmlFor'],\n  ['formmethod', 'formMethod'],\n  ['formaction', 'formAction'],\n  ['formenctype', 'formEncType'],\n  ['formnovalidate', 'formNoValidate'],\n  ['formtarget', 'formTarget'],\n  ['frameborder', 'frameBorder'],\n  ['hreflang', 'hrefLang'],\n  ['htmlfor', 'htmlFor'],\n  ['http-equiv', 'httpEquiv'],\n  ['inputmode', 'inputMode'],\n  ['itemid', 'itemID'],\n  ['itemprop', 'itemProp'],\n  ['itemref', 'itemRef'],\n  ['itemscope', 'itemScope'],\n  ['itemtype', 'itemType'],\n  ['keyparams', 'keyParams'],\n  ['keytype', 'keyType'],\n  ['marginwidth', 'marginWidth'],\n  ['marginheight', 'marginHeight'],\n  ['maxlength', 'maxLength'],\n  ['mediagroup', 'mediaGroup'],\n  ['minlength', 'minLength'],\n  ['nomodule', 'noModule'],\n  ['novalidate', 'noValidate'],\n  ['playsinline', 'playsInline'],\n  ['radiogroup', 'radioGroup'],\n  ['readonly', 'readOnly'],\n  ['referrerpolicy', 'referrerPolicy'],\n  ['rowspan', 'rowSpan'],\n  ['spellcheck', 'spellCheck'],\n  ['srcdoc', 'srcDoc'],\n  ['srclang', 'srcLang'],\n  ['srcset', 'srcSet'],\n  ['tabindex', 'tabIndex'],\n  ['usemap', 'useMap'],\n\n  // SVG\n  ['accent-height', 'accentHeight'],\n  ['alignment-baseline', 'alignmentBaseline'],\n  ['allowreorder', 'allowReorder'],\n  ['arabic-form', 'arabicForm'],\n  ['attributename', 'attributeName'],\n  ['attributetype', 'attributeType'],\n  ['autoreverse', 'autoReverse'],\n  ['basefrequency', 'baseFrequency'],\n  ['baseline-shift', 'baselineShift'],\n  ['baseprofile', 'baseProfile'],\n  ['calcmode', 'calcMode'],\n  ['cap-height', 'capHeight'],\n  ['clip-path', 'clipPath'],\n  ['clippathunits', 'clipPathUnits'],\n  ['clip-rule', 'clipRule'],\n  ['color-interpolation', 'colorInterpolation'],\n  ['color-interpolation-filters', 'colorInterpolationFilters'],\n  ['color-profile', 'colorProfile'],\n  ['color-rendering', 'colorRendering'],\n  ['contentscripttype', 'contentScriptType'],\n  ['contentstyletype', 'contentStyleType'],\n  ['diffuseconstant', 'diffuseConstant'],\n  ['dominantbaseline', 'dominantBaseline'],\n  ['dominant-baseline', 'dominantBaseline'],\n  ['edgemode', 'edgeMode'],\n  ['enable-background', 'enableBackground'],\n  ['externalresourcesrequired', 'externalResourcesRequired'],\n  ['fill-opacity', 'fillOpacity'],\n  ['fill-rule', 'fillRule'],\n  ['filterres', 'filterRes'],\n  ['filterunits', 'filterUnits'],\n  ['flood-opacity', 'floodOpacity'],\n  ['flood-color', 'floodColor'],\n  ['fontfamily', 'fontFamily'],\n  ['font-family', 'fontFamily'],\n  ['font-size', 'fontSize'],\n  ['font-size-adjust', 'fontSizeAdjust'],\n  ['font-stretch', 'fontStretch'],\n  ['font-style', 'fontStyle'],\n  ['font-variant', 'fontVariant'],\n  ['font-weight', 'fontWeight'],\n  ['glyph-name', 'glyphName'],\n  ['glyph-orientation-horizontal', 'glyphOrientationHorizontal'],\n  ['glyph-orientation-vertical', 'glyphOrientationVertical'],\n  ['glyphref', 'glyphRef'],\n  ['gradienttransform', 'gradientTransform'],\n  ['gradientunits', 'gradientUnits'],\n  ['horiz-adv-x', 'horizAdvX'],\n  ['horiz-origin-x', 'horizOriginX'],\n  ['image-rendering', 'imageRendering'],\n  ['kernelmatrix', 'kernelMatrix'],\n  ['kernelunitlength', 'kernelUnitLength'],\n  ['keypoints', 'keyPoints'],\n  ['keysplines', 'keySplines'],\n  ['keytimes', 'keyTimes'],\n  ['lengthadjust', 'lengthAdjust'],\n  ['letter-spacing', 'letterSpacing'],\n  ['lighting-color', 'lightingColor'],\n  ['limitingconeangle', 'limitingConeAngle'],\n  ['marker-end', 'markerEnd'],\n  ['markerheight', 'markerHeight'],\n  ['marker-mid', 'markerMid'],\n  ['marker-start', 'markerStart'],\n  ['markerunits', 'markerUnits'],\n  ['markerwidth', 'markerWidth'],\n  ['maskcontentunits', 'maskContentUnits'],\n  ['maskunits', 'maskUnits'],\n  ['numoctaves', 'numOctaves'],\n  ['overline-position', 'overlinePosition'],\n  ['overline-thickness', 'overlineThickness'],\n  ['paintorder', 'paintOrder'],\n  ['paint-order', 'paintOrder'],\n  ['panose-1', 'panose1'],\n  ['pathlength', 'pathLength'],\n  ['patterncontentunits', 'patternContentUnits'],\n  ['patterntransform', 'patternTransform'],\n  ['patternunits', 'patternUnits'],\n  ['pointerevents', 'pointerEvents'],\n  ['pointer-events', 'pointerEvents'],\n  ['pointsatx', 'pointsAtX'],\n  ['pointsaty', 'pointsAtY'],\n  ['pointsatz', 'pointsAtZ'],\n  ['preservealpha', 'preserveAlpha'],\n  ['preserveaspectratio', 'preserveAspectRatio'],\n  ['primitiveunits', 'primitiveUnits'],\n  ['refx', 'refX'],\n  ['refy', 'refY'],\n  ['rendering-intent', 'renderingIntent'],\n  ['repeatcount', 'repeatCount'],\n  ['repeatdur', 'repeatDur'],\n  ['requiredextensions', 'requiredExtensions'],\n  ['requiredfeatures', 'requiredFeatures'],\n  ['shape-rendering', 'shapeRendering'],\n  ['specularconstant', 'specularConstant'],\n  ['specularexponent', 'specularExponent'],\n  ['spreadmethod', 'spreadMethod'],\n  ['startoffset', 'startOffset'],\n  ['stddeviation', 'stdDeviation'],\n  ['stitchtiles', 'stitchTiles'],\n  ['stop-color', 'stopColor'],\n  ['stop-opacity', 'stopOpacity'],\n  ['strikethrough-position', 'strikethroughPosition'],\n  ['strikethrough-thickness', 'strikethroughThickness'],\n  ['stroke-dasharray', 'strokeDasharray'],\n  ['stroke-dashoffset', 'strokeDashoffset'],\n  ['stroke-linecap', 'strokeLinecap'],\n  ['stroke-linejoin', 'strokeLinejoin'],\n  ['stroke-miterlimit', 'strokeMiterlimit'],\n  ['stroke-width', 'strokeWidth'],\n  ['stroke-opacity', 'strokeOpacity'],\n  ['surfacescale', 'surfaceScale'],\n  ['systemlanguage', 'systemLanguage'],\n  ['tablevalues', 'tableValues'],\n  ['targetx', 'targetX'],\n  ['targety', 'targetY'],\n  ['text-anchor', 'textAnchor'],\n  ['text-decoration', 'textDecoration'],\n  ['textlength', 'textLength'],\n  ['text-rendering', 'textRendering'],\n  ['underline-position', 'underlinePosition'],\n  ['underline-thickness', 'underlineThickness'],\n  ['unicode-bidi', 'unicodeBidi'],\n  ['unicode-range', 'unicodeRange'],\n  ['units-per-em', 'unitsPerEm'],\n  ['v-alphabetic', 'vAlphabetic'],\n  ['vector-effect', 'vectorEffect'],\n  ['vert-adv-y', 'vertAdvY'],\n  ['vert-origin-x', 'vertOriginX'],\n  ['vert-origin-y', 'vertOriginY'],\n  ['v-hanging', 'vHanging'],\n  ['v-ideographic', 'vIdeographic'],\n  ['viewbox', 'viewBox'],\n  ['viewtarget', 'viewTarget'],\n  ['v-mathematical', 'vMathematical'],\n  ['word-spacing', 'wordSpacing'],\n  ['writing-mode', 'writingMode'],\n  ['xchannelselector', 'xChannelSelector'],\n  ['x-height', 'xHeight'],\n  ['xlink:actuate', 'xlinkActuate'],\n  ['xlink:arcrole', 'xlinkArcrole'],\n  ['xlink:href', 'xlinkHref'],\n  ['xlink:role', 'xlinkRole'],\n  ['xlink:show', 'xlinkShow'],\n  ['xlink:title', 'xlinkTitle'],\n  ['xlink:type', 'xlinkType'],\n  ['xml:base', 'xmlBase'],\n  ['xml:lang', 'xmlLang'],\n  ['xml:space', 'xmlSpace'],\n  ['xmlns:xlink', 'xmlnsXlink'],\n  ['ychannelselector', 'yChannelSelector'],\n  ['zoomandpan', 'zoomAndPan'],\n]);\n","export default new Set([\n  'children',\n  'dangerouslySetInnerHTML',\n  'key',\n  'ref',\n  'defaultValue',\n  'defaultChecked',\n  'innerHTML',\n  'suppressContentEditableWarning',\n  'suppressHydrationWarning',\n  // deprecated\n  'valueLink',\n]);\n","import cssToStyle from 'css-to-style';\nimport standardProps from './constants/standardProps';\nimport reactProps from './constants/reactProps';\n\nconst attrsToProps = (attrs) => {\n  const props = {};\n  for (let i = 0; i < attrs.length; i++) {\n    const { name, value } = attrs[i];\n    // Disallow event attributes and react props.\n    if (name.startsWith('on') || reactProps.has(name)) {\n      continue;\n    }\n    // Don't modify aria-* or data-* attributes.\n    if (name.startsWith('aria-') || name.startsWith('data-')) {\n      props[name] = value;\n      continue;\n    }\n    // Handle style attribute.\n    if (name === 'style') {\n      props[name] = cssToStyle(value);\n      continue;\n    }\n    props[standardProps.get(name) ?? name] = value === '' ? true : value;\n  }\n  return props;\n};\n\nexport default attrsToProps;\n","// HTML elements are always in the canonical upper-case form,\n// i.e. <h1> will have a tagName of \"H1\"\nconst isHTMLTagName = /^[A-Z]/;\nconst nodeNameToType = (nodeName) =>\n  isHTMLTagName.test(nodeName) ? nodeName.toLowerCase() : nodeName;\n\nexport default nodeNameToType;\n","import * as React from 'react';\nimport getDisplayName from 'react-display-name';\nimport { ELEMENT_NODE, TEXT_NODE } from './constants/nodeTypes';\nimport attrsToProps from './attrsToProps';\nimport nodeNameToType from './nodeNameToType';\n\nconst nodesToElements = (nodeList, options) => {\n  const tree = [];\n  for (let i = 0; i < nodeList.length; i++) {\n    const node = nodeList[i];\n    // Only render element nodes and text nodes.\n    if (node.nodeType === ELEMENT_NODE) {\n      let type = nodeNameToType(node.nodeName);\n      if (\n        // Never render <script> elements.\n        type === 'script' ||\n        // Handle allowed option to only render elements that are allowed.\n        (options.allowed &&\n          (typeof options.allowed === 'function'\n            ? !options.allowed(node)\n            : !options.allowed.includes(type)))\n      ) {\n        continue;\n      }\n      // Handle replace option.\n      if (options.replace) {\n        const replacement =\n          typeof options.replace === 'function'\n            ? options.replace(node)\n            : Object.prototype.hasOwnProperty.call(options.replace, type)\n            ? options.replace[type]\n            : undefined;\n        // Don't render element if replacement is null.\n        if (replacement === null) {\n          continue;\n        }\n        // Replace element replacement (if not undefined).\n        if (replacement !== undefined) {\n          type = replacement;\n        }\n      }\n      const props = attrsToProps(node.attributes);\n      props.key = `${getDisplayName(type)}-${i}`;\n      tree.push(\n        React.createElement(\n          type,\n          props,\n          nodesToElements(node.childNodes, options)\n        )\n      );\n    } else if (node.nodeType === TEXT_NODE) {\n      // Handle trim option to remove whitespace text nodes.\n      if (!options.trim || node.textContent.trim() !== '') {\n        tree.push(node.textContent);\n      }\n    }\n  }\n  return tree.length > 0 ? tree : null;\n};\n\nexport default nodesToElements;\n","import parseDom from 'dom-parse';\nimport PropTypes from 'prop-types';\nimport * as React from 'react';\nimport nodesToElements from './nodesToElements';\n\nconst Markup = React.memo(function Markup({\n  allowed = null,\n  markup = null,\n  replace = null,\n  trim = null,\n}) {\n  return markup\n    ? nodesToElements(parseDom(markup), { allowed, replace, trim })\n    : null;\n});\n\nif (process.env.NODE_ENV !== 'production') {\n  Markup.propTypes = {\n    allowed: PropTypes.oneOfType([\n      PropTypes.arrayOf(PropTypes.string),\n      PropTypes.func,\n    ]),\n    markup: PropTypes.string,\n    replace: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.objectOf(PropTypes.elementType),\n    ]),\n    trim: PropTypes.bool,\n  };\n}\n\nexport default Markup;\n","import parseDom from 'dom-parse';\nimport kindOf from 'kind-of';\nimport nodesToElements from './nodesToElements';\n\nconst renderMarkup = (markup, options = {}) => {\n  if (process.env.NODE_ENV !== 'production') {\n    if (markup != null && kindOf(markup) !== 'string') {\n      throw new TypeError(\n        `Expected \\`markup\\` to be of type \\`string\\`, but received type \\`${kindOf(\n          markup\n        )}\\``\n      );\n    }\n    if (kindOf(options) !== 'object') {\n      throw new TypeError(\n        `Expected \\`options\\` to be of type \\`object\\`, but received type \\`${kindOf(\n          options\n        )}\\``\n      );\n    }\n    if (\n      options.allowed != null &&\n      !['array', 'function'].includes(kindOf(options.allowed))\n    ) {\n      throw new TypeError(\n        `Expected property \\`allowed\\` to be of type \\`array\\` or \\`function\\` but received type \\`${kindOf(\n          options.allowed\n        )}\\` in object \\`options\\``\n      );\n    }\n    if (\n      options.replace != null &&\n      !['function', 'object'].includes(kindOf(options.replace))\n    ) {\n      throw new TypeError(\n        `Expected property \\`replace\\` to be of type \\`function\\` or \\`object\\` but received type \\`${kindOf(\n          options.replace\n        )}\\` in object \\`options\\``\n      );\n    }\n    if (options.trim != null && kindOf(options.trim) !== 'boolean') {\n      throw new TypeError(\n        `Expected property \\`trim\\` to be of type \\`boolean\\` but received type \\`${kindOf(\n          options.trim\n        )}\\` in object \\`options\\``\n      );\n    }\n  }\n  return markup ? nodesToElements(parseDom(markup), options) : null;\n};\n\nexport default renderMarkup;\n"],"names":["ELEMENT_NODE","TEXT_NODE","Map","Set","attrsToProps","attrs","props","i","length","name","value","startsWith","reactProps","has","cssToStyle","standardProps","get","isHTMLTagName","nodeNameToType","nodeName","test","toLowerCase","nodesToElements","nodeList","options","tree","node","nodeType","type","allowed","includes","replace","replacement","Object","prototype","hasOwnProperty","call","undefined","attributes","key","getDisplayName","push","React","childNodes","trim","textContent","Markup","markup","parseDom","process","env","NODE_ENV","propTypes","PropTypes","oneOfType","arrayOf","string","func","objectOf","elementType","bool","renderMarkup","kindOf","TypeError"],"mappings":"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"}