{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Digivox\\\\dev\\\\Digivox\\\\Refatoracao\\\\squad\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Modal,ModalHeader,ModalBody,CardBody,Button,Input,ModalFooter}from\"reactstrap\";import{useModal}from\"../contexts/ModalContext\";import{useContact}from'./../contexts/ContactContext';import{useChat}from\"../contexts/ChatContext\";import{useGroup}from\"../contexts/GroupContext\";import{useTranslation}from\"react-i18next\";import SimpleBar from\"simplebar-react\";import SelectMember from\"./SelectMember\";var ModalAddContacts=function ModalAddContacts(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var _useChat=useChat(),activeChat=_useChat.activeChat;var _useGroup=useGroup(),groups=_useGroup.groups;var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),selectedContact=_useState4[0],setSelectedContact=_useState4[1];var _useTranslation=useTranslation(),t=_useTranslation.t;var _useContact=useContact(),setToggleAddingMembers=_useContact.setToggleAddingMembers,setCheckedMembers=_useContact.setCheckedMembers,setGroupToInsertMember=_useContact.setGroupToInsertMember;var _useModal=useModal(),showModalAddMember=_useModal.showModalAddMember,setShowModalAddMember=_useModal.setShowModalAddMember;var toggle=function toggle(){if(showModalAddMember){setShowModalAddMember(!showModalAddMember);}};var handleCheckContact=function handleCheckContact(selected,contact){if(selected){var _selected=selectedContact;_selected.push(contact);setSelectedContact(_selected);}else{setSelectedContact(selectedContact.filter(function(sel){if(sel.id===contact.id){return false;}return true;}));}};return/*#__PURE__*/React.createElement(Modal,{backdrop:\"static\",isOpen:!!showModalAddMember,centered:true,toggle:toggle},/*#__PURE__*/React.createElement(ModalHeader,{toggle:toggle},t(\"Add Contacts\")),/*#__PURE__*/React.createElement(ModalBody,null,/*#__PURE__*/React.createElement(CardBody,{className:\"p-2 border\"},/*#__PURE__*/React.createElement(\"div\",{className:\"pt-2 pb-3 border-bottom\"},/*#__PURE__*/React.createElement(Input,{type:\"text\",className:\"form-control mb-3\",id:\"addgroupname-input\",value:search,onChange:function onChange(e){return setSearch(e.target.value);},placeholder:t(\"Search users..\")}),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(SimpleBar,{style:{height:\"500px\"}},/*#__PURE__*/React.createElement(SelectMember,{handleCheckContact:handleCheckContact,search:search}))),/*#__PURE__*/React.createElement(ModalFooter,{className:\"border-0\"},/*#__PURE__*/React.createElement(Button,{color:\"default\",onClick:function onClick(){setCheckedMembers([]);toggle();}},t(\"Close\")),/*#__PURE__*/React.createElement(Button,{color:\"primary\",onClick:function onClick(){setToggleAddingMembers(true);toggle();groups.forEach(function(grp){if(grp.groupId===activeChat.groupId){setGroupToInsertMember(grp);setCheckedMembers(selectedContact);};});}},t(\"Add Contacts\"))))));};export default ModalAddContacts;","map":{"version":3,"sources":["C:/Users/Digivox/dev/Digivox/Refatoracao/squad/src/components/ModalAddMember.tsx"],"names":["React","useState","Modal","ModalHeader","ModalBody","CardBody","Button","Input","ModalFooter","useModal","useContact","useChat","useGroup","useTranslation","SimpleBar","SelectMember","ModalAddContacts","search","setSearch","activeChat","groups","selectedContact","setSelectedContact","t","setToggleAddingMembers","setCheckedMembers","setGroupToInsertMember","showModalAddMember","setShowModalAddMember","toggle","handleCheckContact","selected","contact","push","filter","sel","id","e","target","value","height","forEach","grp","groupId"],"mappings":"gLAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OACEC,KADF,CAEEC,WAFF,CAGEC,SAHF,CAIEC,QAJF,CAKEC,MALF,CAMEC,KANF,CAOEC,WAPF,KAQO,YARP,CAUA,OAASC,QAAT,KAAyB,0BAAzB,CACA,OAASC,UAAT,KAA2B,8BAA3B,CACA,OAASC,OAAT,KAAwB,yBAAxB,CACA,OAASC,QAAT,KAAyB,0BAAzB,CACA,OAASC,cAAT,KAA+B,eAA/B,CAEA,MAAOC,CAAAA,SAAP,KAAsB,iBAAtB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CAEA,GAAMC,CAAAA,gBAA0B,CAAG,QAA7BA,CAAAA,gBAA6B,EAAM,eACXf,QAAQ,CAAC,EAAD,CADG,wCAChCgB,MADgC,eACxBC,SADwB,4BAEhBP,OAAO,EAFS,CAE/BQ,UAF+B,UAE/BA,UAF+B,eAGpBP,QAAQ,EAHY,CAG/BQ,MAH+B,WAG/BA,MAH+B,gBAKOnB,QAAQ,CAAa,EAAb,CALf,yCAKhCoB,eALgC,eAKfC,kBALe,mCAOzBT,cAAc,EAPW,CAO/BU,CAP+B,iBAO/BA,CAP+B,iBAQuCb,UAAU,EARjD,CAQ/Bc,sBAR+B,aAQ/BA,sBAR+B,CAQPC,iBARO,aAQPA,iBARO,CAQYC,sBARZ,aAQYA,sBARZ,eAanCjB,QAAQ,EAb2B,CAWrCkB,kBAXqC,WAWrCA,kBAXqC,CAYrCC,qBAZqC,WAYrCA,qBAZqC,CAevC,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACnB,GAAIF,kBAAJ,CAAwB,CACtBC,qBAAqB,CAAC,CAACD,kBAAF,CAArB,CACD,CACF,CAJD,CAMA,GAAMG,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CACzBC,QADyB,CAEzBC,OAFyB,CAGtB,CACH,GAAID,QAAJ,CAAc,CACZ,GAAIA,CAAAA,SAAQ,CAAGV,eAAf,CACAU,SAAQ,CAACE,IAAT,CAAcD,OAAd,EACAV,kBAAkB,CAACS,SAAD,CAAlB,CACD,CAJD,IAIO,CACLT,kBAAkB,CAChBD,eAAe,CAACa,MAAhB,CAAuB,SAACC,GAAD,CAAS,CAC9B,GAAIA,GAAG,CAACC,EAAJ,GAAWJ,OAAO,CAACI,EAAvB,CAA2B,CACzB,MAAO,MAAP,CACD,CACD,MAAO,KAAP,CACD,CALD,CADgB,CAAlB,CAQD,CACF,CAlBD,CAoBA,mBACE,oBAAC,KAAD,EACE,QAAQ,CAAC,QADX,CAEE,MAAM,CAAE,CAAC,CAACT,kBAFZ,CAGE,QAAQ,KAHV,CAIE,MAAM,CAAEE,MAJV,eAME,oBAAC,WAAD,EAAa,MAAM,CAAEA,MAArB,EAA8BN,CAAC,CAAC,cAAD,CAA/B,CANF,cAOE,oBAAC,SAAD,mBACE,oBAAC,QAAD,EAAU,SAAS,CAAC,YAApB,eACE,2BAAK,SAAS,CAAC,yBAAf,eACE,oBAAC,KAAD,EACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,mBAFZ,CAGE,EAAE,CAAC,oBAHL,CAIE,KAAK,CAAEN,MAJT,CAKE,QAAQ,CAAE,kBAACoB,CAAD,QAAOnB,CAAAA,SAAS,CAACmB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAhB,EALZ,CAME,WAAW,CAAEhB,CAAC,CAAC,gBAAD,CANhB,EADF,cASE,8BATF,cAUE,oBAAC,SAAD,EAAW,KAAK,CAAE,CAAEiB,MAAM,CAAE,OAAV,CAAlB,eACE,oBAAC,YAAD,EAAc,kBAAkB,CAAEV,kBAAlC,CAAsD,MAAM,CAAEb,MAA9D,EADF,CAVF,CADF,cAeE,oBAAC,WAAD,EAAa,SAAS,CAAC,UAAvB,eACE,oBAAC,MAAD,EAAQ,KAAK,CAAC,SAAd,CAAwB,OAAO,CAAE,kBAAM,CACrCQ,iBAAiB,CAAC,EAAD,CAAjB,CACAI,MAAM,GACL,CAHH,EAIGN,CAAC,CAAC,OAAD,CAJJ,CADF,cAOE,oBAAC,MAAD,EAAQ,KAAK,CAAC,SAAd,CACA,OAAO,CAAE,kBAAM,CACbC,sBAAsB,CAAC,IAAD,CAAtB,CACAK,MAAM,GACNT,MAAM,CAACqB,OAAP,CAAe,SAACC,GAAD,CAAS,CACtB,GAAGA,GAAG,CAACC,OAAJ,GAAgBxB,UAAU,CAACwB,OAA9B,CAAsC,CACpCjB,sBAAsB,CAACgB,GAAD,CAAtB,CACAjB,iBAAiB,CAACJ,eAAD,CAAjB,CACD,EACF,CALD,EAMC,CAVH,EAWCE,CAAC,CAAC,cAAD,CAXF,CAPF,CAfF,CADF,CAPF,CADF,CAiDD,CA1FD,CA4FA,cAAeP,CAAAA,gBAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport {\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  CardBody,\r\n  Button,\r\n  Input,\r\n  ModalFooter,\r\n} from \"reactstrap\";\r\n\r\nimport { useModal } from \"../contexts/ModalContext\";\r\nimport { useContact } from './../contexts/ContactContext'\r\nimport { useChat } from \"../contexts/ChatContext\";\r\nimport { useGroup } from \"../contexts/GroupContext\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport IContact from \"../alias/IContact\";\r\nimport SimpleBar from \"simplebar-react\";\r\nimport SelectMember from \"./SelectMember\";\r\n\r\nconst ModalAddContacts: React.FC = () => {\r\n  const [search, setSearch] = useState(\"\");\r\n  const { activeChat } = useChat();\r\n  const { groups } = useGroup();\r\n\r\n  const [selectedContact, setSelectedContact] = useState<IContact[]>([]);\r\n\r\n  const { t } = useTranslation();\r\n  const { setToggleAddingMembers, setCheckedMembers, setGroupToInsertMember } = useContact();\r\n\r\n  const {\r\n    showModalAddMember,\r\n    setShowModalAddMember,\r\n  } = useModal();\r\n\r\n  const toggle = () => {\r\n    if (showModalAddMember) {\r\n      setShowModalAddMember(!showModalAddMember);\r\n    }\r\n  };\r\n\r\n  const handleCheckContact = (\r\n    selected: boolean,\r\n    contact: IContact\r\n  ) => {\r\n    if (selected) {\r\n      let selected = selectedContact;\r\n      selected.push(contact);\r\n      setSelectedContact(selected);\r\n    } else {\r\n      setSelectedContact(\r\n        selectedContact.filter((sel) => {\r\n          if (sel.id === contact.id) {\r\n            return false;\r\n          }\r\n          return true;\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      backdrop=\"static\"\r\n      isOpen={!!showModalAddMember}\r\n      centered\r\n      toggle={toggle}\r\n    >\r\n      <ModalHeader toggle={toggle}>{t(\"Add Contacts\")}</ModalHeader>\r\n      <ModalBody>\r\n        <CardBody className=\"p-2 border\">\r\n          <div className=\"pt-2 pb-3 border-bottom\">\r\n            <Input\r\n              type=\"text\"\r\n              className=\"form-control mb-3\"\r\n              id=\"addgroupname-input\"\r\n              value={search}\r\n              onChange={(e) => setSearch(e.target.value)}\r\n              placeholder={t(\"Search users..\")}\r\n            />\r\n            <hr />\r\n            <SimpleBar style={{ height: \"500px\" }}>\r\n              <SelectMember handleCheckContact={handleCheckContact} search={search}/>\r\n            </SimpleBar>\r\n          </div>\r\n          <ModalFooter className=\"border-0\">\r\n            <Button color=\"default\" onClick={() => {\r\n              setCheckedMembers([]);\r\n              toggle();\r\n              }}>\r\n              {t(\"Close\")}\r\n            </Button>\r\n            <Button color=\"primary\" \r\n            onClick={() => {\r\n              setToggleAddingMembers(true);\r\n              toggle();\r\n              groups.forEach((grp) => {\r\n                if(grp.groupId === activeChat.groupId){\r\n                  setGroupToInsertMember(grp);\r\n                  setCheckedMembers(selectedContact);\r\n                };\r\n              })\r\n              }}>\r\n            {t(\"Add Contacts\")}\r\n            </Button>\r\n          </ModalFooter>\r\n        </CardBody>\r\n      </ModalBody>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default ModalAddContacts;\r\n"]},"metadata":{},"sourceType":"module"}