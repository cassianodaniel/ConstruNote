{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Digivox\\\\dev\\\\Digivox\\\\Refatoracao\\\\squad\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{createContext,useContext,useState}from\"react\";import{activeChat as activeChatData}from\"./../data/chat\";//alias\nexport var ChatContext=createContext({});export var ChatProvider=function ChatProvider(_ref){var children=_ref.children;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showChat=_useState2[0],setShowChat=_useState2[1];var _useState3=useState(activeChatData),_useState4=_slicedToArray(_useState3,2),activeChat=_useState4[0],setActiveChat=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),chats=_useState6[0],setChats=_useState6[1];var _useState7=useState(undefined),_useState8=_slicedToArray(_useState7,2),flagToLoadFavoriteMessages=_useState8[0],setFlagToLoadFavoriteMessages=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),showChatProfileSidebar=_useState10[0],setShowChatProfileSidebar=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),forwardMessageList=_useState12[0],setForwardMessageList=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),replyMsg=_useState14[0],setReplyMsg=_useState14[1];var _useState15=useState(undefined),_useState16=_slicedToArray(_useState15,2),favoriteMessagePayload=_useState16[0],setFavoriteMessagePayload=_useState16[1];var _useState17=useState(null),_useState18=_slicedToArray(_useState17,2),favoriteMessages=_useState18[0],setFavoriteMessages=_useState18[1];var _useState19=useState(undefined),_useState20=_slicedToArray(_useState19,2),deleteFavoriteMessage=_useState20[0],setDeleteFavoriteMessage=_useState20[1];var openChat=function openChat(obj){if((activeChat===null||activeChat===void 0?void 0:activeChat.jid)===obj.jid)return;setShowChat(true);setChats(chats.map(function(item){if(item.jid===obj.jid){item.unRead=0;item.mencioned=0;item.messageLoaded=item.messages.length>=20?false:true;setActiveChat(item);}return item;}));};return/*#__PURE__*/React.createElement(ChatContext.Provider,{value:{showChat:showChat,setShowChat:setShowChat,activeChat:activeChat,setActiveChat:setActiveChat,openChat:openChat,chats:chats,setChats:setChats,forwardMessageList:forwardMessageList,setForwardMessageList:setForwardMessageList,replyMsg:replyMsg,setReplyMsg:setReplyMsg,showChatProfileSidebar:showChatProfileSidebar,setShowChatProfileSidebar:setShowChatProfileSidebar,favoriteMessagePayload:favoriteMessagePayload,setFavoriteMessagePayload:setFavoriteMessagePayload,flagToLoadFavoriteMessages:flagToLoadFavoriteMessages,setFlagToLoadFavoriteMessages:setFlagToLoadFavoriteMessages,favoriteMessages:favoriteMessages,setFavoriteMessages:setFavoriteMessages,deleteFavoriteMessage:deleteFavoriteMessage,setDeleteFavoriteMessage:setDeleteFavoriteMessage}},children);};export function useChat(){return useContext(ChatContext);}","map":{"version":3,"sources":["C:/Users/Digivox/dev/Digivox/Refatoracao/squad/src/contexts/ChatContext.tsx"],"names":["React","createContext","useContext","useState","activeChat","activeChatData","ChatContext","ChatProvider","children","showChat","setShowChat","setActiveChat","chats","setChats","undefined","flagToLoadFavoriteMessages","setFlagToLoadFavoriteMessages","showChatProfileSidebar","setShowChatProfileSidebar","forwardMessageList","setForwardMessageList","replyMsg","setReplyMsg","favoriteMessagePayload","setFavoriteMessagePayload","favoriteMessages","setFavoriteMessages","deleteFavoriteMessage","setDeleteFavoriteMessage","openChat","obj","jid","map","item","unRead","mencioned","messageLoaded","messages","length","useChat"],"mappings":"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","sourcesContent":["import React, { createContext, useContext, useState } from \"react\";\r\nimport { activeChat as activeChatData } from \"./../data/chat\";\r\n\r\n//alias\r\nimport IChat from \"../alias/IChat\";\r\nimport IContact from \"../alias/IContact\";\r\nimport IGroup from \"../alias/IGroup\";\r\nimport IMessage from \"../alias/IMessage\";\r\nimport {\r\n  FavoriteMessagePayload,\r\n  ListFavoriteMessagesPayload,\r\n  FavoriteMessage,\r\n} from \"@digivox/apicommunicator/dist/types/types/types\";\r\n\r\ninterface IChatContextData {\r\n  showChat: boolean;\r\n  setShowChat(value: boolean): void;\r\n  activeChat: IChat;\r\n  setActiveChat(value: IChat): void;\r\n  openChat(obj: IChat): void;\r\n  chats: IChat[];\r\n  setChats(value: IChat[]): void;\r\n  forwardMessageList: (IContact | IGroup)[] | undefined;\r\n  setForwardMessageList(value: (IContact | IGroup)[] | undefined): void;\r\n  replyMsg: IMessage | undefined;\r\n  setReplyMsg(msg: IMessage | undefined): void;\r\n  showChatProfileSidebar: boolean;\r\n  setShowChatProfileSidebar(value: boolean): void;\r\n  favoriteMessagePayload: FavoriteMessagePayload | undefined;\r\n  setFavoriteMessagePayload(value: FavoriteMessagePayload | undefined): void;\r\n  flagToLoadFavoriteMessages: ListFavoriteMessagesPayload | undefined;\r\n  setFlagToLoadFavoriteMessages(\r\n    value: ListFavoriteMessagesPayload | undefined\r\n  ): void;\r\n  favoriteMessages: FavoriteMessage[] | null;\r\n  setFavoriteMessages(value: FavoriteMessage[]): void;\r\n  deleteFavoriteMessage: IDeleteMessage | undefined;\r\n  setDeleteFavoriteMessage(value: IDeleteMessage | undefined): void;\r\n}\r\n\r\ninterface IDeleteMessage {\r\n  messageId: string;\r\n  contactType: string;\r\n  id: string;\r\n}\r\n\r\nexport const ChatContext = createContext<IChatContextData>(\r\n  {} as IChatContextData\r\n);\r\n\r\nexport const ChatProvider: React.FC = ({ children }) => {\r\n  const [showChat, setShowChat] = useState(false);\r\n  const [activeChat, setActiveChat] = useState(activeChatData);\r\n  const [chats, setChats] = useState<IChat[]>([]);\r\n  const [flagToLoadFavoriteMessages, setFlagToLoadFavoriteMessages] = useState<\r\n    ListFavoriteMessagesPayload | undefined\r\n  >(undefined);\r\n  const [showChatProfileSidebar, setShowChatProfileSidebar] = useState(false);\r\n  const [forwardMessageList, setForwardMessageList] = useState<\r\n    (IContact | IGroup)[] | undefined\r\n  >();\r\n  const [replyMsg, setReplyMsg] = useState<IMessage | undefined>();\r\n  const [favoriteMessagePayload, setFavoriteMessagePayload] = useState<\r\n    FavoriteMessagePayload | undefined\r\n  >(undefined);\r\n  const [favoriteMessages, setFavoriteMessages] = useState<\r\n  FavoriteMessage[] | null\r\n  >(null);\r\n  const [deleteFavoriteMessage, setDeleteFavoriteMessage] = useState<\r\n    IDeleteMessage | undefined\r\n  >(undefined);\r\n  const openChat = (obj: IChat) => {\r\n    if (activeChat?.jid === obj.jid) return;\r\n    setShowChat(true);\r\n    setChats(\r\n      chats.map((item) => {\r\n        if (item.jid === obj.jid) {\r\n          \r\n          item.unRead = 0;\r\n          item.mencioned = 0;\r\n          item.messageLoaded = item.messages.length >= 20 ? false : true;\r\n          setActiveChat(item);\r\n        }\r\n        return item;\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <ChatContext.Provider\r\n      value={{\r\n        showChat,\r\n        setShowChat,\r\n        activeChat,\r\n        setActiveChat,\r\n        openChat,\r\n        chats,\r\n        setChats,\r\n        forwardMessageList,\r\n        setForwardMessageList,\r\n        replyMsg,\r\n        setReplyMsg,\r\n        showChatProfileSidebar,\r\n        setShowChatProfileSidebar,\r\n        favoriteMessagePayload,\r\n        setFavoriteMessagePayload,\r\n        flagToLoadFavoriteMessages,\r\n        setFlagToLoadFavoriteMessages,\r\n        favoriteMessages,\r\n        setFavoriteMessages,\r\n        deleteFavoriteMessage,\r\n        setDeleteFavoriteMessage,\r\n      }}\r\n    >\r\n      {children}\r\n    </ChatContext.Provider>\r\n  );\r\n};\r\n\r\nexport function useChat() {\r\n  return useContext(ChatContext);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}