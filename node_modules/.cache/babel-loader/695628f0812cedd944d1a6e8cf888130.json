{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Digivox\\\\dev\\\\Digivox\\\\Refatoracao\\\\squad\\\\src\\\\components\\\\ChatInput.tsx\";\nimport React, { useState } from \"react\";\nimport { Button, Input, Row, Col, UncontrolledTooltip, ButtonDropdown, DropdownToggle, DropdownMenu, Label, Form } from \"reactstrap\";\nimport { Picker, Emoji } from \"emoji-mart\";\nimport \"emoji-mart/css/emoji-mart.css\";\nimport { activeChat } from \"../data/chat\";\nimport { useSquadCommunicator } from \"./../services/SquadCommunicator\";\n\nconst ChatInput = () => {\n  const {\n    sendFiles,\n    pasteFiles\n  } = useSquadCommunicator();\n  const [textMessage, settextMessage] = useState(\"\");\n  const [isOpen, setisOpen] = useState(false);\n  const [file, setFile] = useState({\n    name: \"\",\n    size: \"\"\n  });\n  const [fileImage, setFileImage] = useState(\"\");\n  console.log(textMessage);\n\n  const toggle = () => setisOpen(!isOpen);\n\n  const handleChange = e => {\n    settextMessage(e.target.value);\n  };\n\n  const addEmoji = e => {\n    let emoji = e.native;\n    settextMessage(textMessage + emoji);\n  };\n\n  const handleFileChange = e => {\n    console.log(\"CONSOLE.LOG DE CORPO RECEBIDO PARA APRESENTAÇÃO DA SPRINT (CTRL+V)\" + e.target.files);\n\n    if (e.target.files.length !== 0) {\n      setFile({\n        name: e.target.files[0].name,\n        size: e.target.files[0].size\n      });\n    }\n\n    for (var i = 0; i < e.target.files.length; i++) {\n      if (e.target.files[i].size > 15000) {\n        alert(\"Tamanho de arquivo \" + e.target.files[i].name + \" não suportado. Por favor, envie um arquivo menor do que 15mb\");\n      } else {\n        sendFiles(activeChat, e.target.files[i]);\n      }\n    }\n  };\n\n  const handlePaste = e => {\n    console.log(\"CONSOLE.LOG DE CORPO RECEBIDO PARA APRESENTAÇÃO DA SPRINT (CTRL+V)\" + e.clipboardData.files);\n\n    if (e.clipboardData.files.length !== 0) {\n      setFile({\n        name: e.clipboardData.files[0].name,\n        size: e.clipboardData.files[0].size\n      });\n    }\n\n    for (var i = 0; i < e.clipboardData.files.length; i++) {\n      if (e.clipboardData.files.size > 15000) {\n        alert(\"Tamanho de arquivo \" + e.target.files[i].name + \" não suportado. Por favor, envie um arquivo menor do que 15mb\");\n      } else {\n        pasteFiles(activeChat, e.clipboardData.files[i]);\n      }\n    }\n  };\n\n  const handleImageChange = e => {\n    if (e.target.files.length !== 0) setFileImage(URL.createObjectURL(e.target.files[0]));\n  };\n\n  const onaddMessage = (e, textMessage) => {\n    e.preventDefault();\n\n    if (textMessage !== \"\") {\n      settextMessage(\"\");\n    }\n\n    if (file.name !== \"\") {\n      setFile({\n        name: \"\",\n        size: \"\"\n      });\n    }\n\n    if (fileImage !== \"\") {\n      setFileImage(\"\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-3 p-lg-4 border-top mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: e => onaddMessage(e, textMessage),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    noGutters: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    value: textMessage,\n    onChange: handleChange,\n    className: \"form-control form-control-lg bg-light border-light\",\n    placeholder: \"Send message...\",\n    onPaste: e => handlePaste(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      color: \"red\",\n      fontSize: 12\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 17\n    }\n  }, textMessage.length > 9900 ? 10000 - textMessage.length + \" caracteres restantes\" : null))), /*#__PURE__*/React.createElement(Col, {\n    xs: \"auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-input-links ml-md-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"list-inline mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"list-inline-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(ButtonDropdown, {\n    className: \"emoji-dropdown\",\n    direction: \"up\",\n    isOpen: isOpen,\n    toggle: toggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(DropdownToggle, {\n    id: \"emoji\",\n    color: \"link\",\n    className: \"text-decoration-none font-size-16 btn-lg waves-effect\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ri-emotion-happy-line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(DropdownMenu, {\n    className: \"dropdown-menu-lg-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Picker, {\n    set: \"apple\",\n    onSelect: addEmoji,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Emoji, {\n    emoji: \"santa\",\n    set: \"apple\",\n    size: 16,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(UncontrolledTooltip, {\n    target: \"emoji\",\n    placement: \"top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 21\n    }\n  }, \"Emoji\")), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"list-inline-item input-file\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    id: \"files\",\n    className: \"btn btn-link text-decoration-none font-size-16 btn-lg waves-effect\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ri-attachment-line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    onChange: e => handleFileChange(e),\n    type: \"file\",\n    name: \"fileInput\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(UncontrolledTooltip, {\n    target: \"files\",\n    placement: \"top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 21\n    }\n  }, \"Attached File\")), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"list-inline-item input-file\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    id: \"images\",\n    className: \"mr-1 btn btn-link text-decoration-none font-size-16 btn-lg waves-effect\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ri-image-fill\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    onChange: e => handleImageChange(e),\n    accept: \"image/*\",\n    type: \"file\",\n    name: \"fileInput\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(UncontrolledTooltip, {\n    target: \"images\",\n    placement: \"top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 21\n    }\n  }, \"Images\")), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"list-inline-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: textMessage.length < 10000 ? \"submit\" : \"button\",\n    color: \"primary\",\n    className: \"font-size-16 btn-lg chat-send waves-effect waves-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ri-send-plane-2-fill\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 23\n    }\n  }))))))))));\n};\n\nexport default ChatInput;","map":{"version":3,"sources":["C:/Users/Digivox/dev/Digivox/Refatoracao/squad/src/components/ChatInput.tsx"],"names":["React","useState","Button","Input","Row","Col","UncontrolledTooltip","ButtonDropdown","DropdownToggle","DropdownMenu","Label","Form","Picker","Emoji","activeChat","useSquadCommunicator","ChatInput","sendFiles","pasteFiles","textMessage","settextMessage","isOpen","setisOpen","file","setFile","name","size","fileImage","setFileImage","console","log","toggle","handleChange","e","target","value","addEmoji","emoji","native","handleFileChange","files","length","i","alert","handlePaste","clipboardData","handleImageChange","URL","createObjectURL","onaddMessage","preventDefault","color","fontSize"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport {\r\n  Button,\r\n  Input,\r\n  Row,\r\n  Col,\r\n  UncontrolledTooltip,\r\n  ButtonDropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  Label,\r\n  Form,\r\n} from \"reactstrap\";\r\n\r\nimport { Picker, Emoji } from \"emoji-mart\";\r\nimport \"emoji-mart/css/emoji-mart.css\";\r\n\r\nimport { activeChat } from \"../data/chat\";\r\n\r\nimport { useSquadCommunicator } from \"./../services/SquadCommunicator\";\r\n\r\nconst ChatInput: React.FC = () => {\r\n  const { sendFiles, pasteFiles } = useSquadCommunicator();\r\n  const [textMessage, settextMessage] = useState(\"\");\r\n  const [isOpen, setisOpen] = useState(false);\r\n  const [file, setFile] = useState({\r\n    name: \"\",\r\n    size: \"\",\r\n  });\r\n  const [fileImage, setFileImage] = useState(\"\");\r\n\r\n  console.log(textMessage);\r\n\r\n  const toggle = () => setisOpen(!isOpen);\r\n\r\n  const handleChange = (e: any) => {\r\n    settextMessage(e.target.value);\r\n  };\r\n\r\n  const addEmoji = (e: any) => {\r\n    let emoji = e.native;\r\n    settextMessage(textMessage + emoji);\r\n  };\r\n\r\n  const handleFileChange = (e: any) => {\r\n    console.log(\r\n      \"CONSOLE.LOG DE CORPO RECEBIDO PARA APRESENTAÇÃO DA SPRINT (CTRL+V)\" +\r\n        e.target.files\r\n    );\r\n    if (e.target.files.length !== 0) {\r\n      setFile({\r\n        name: e.target.files[0].name,\r\n        size: e.target.files[0].size,\r\n      });\r\n    }\r\n    for (var i = 0; i < e.target.files.length; i++) {\r\n      if (e.target.files[i].size > 15000) {\r\n        alert(\r\n          \"Tamanho de arquivo \" +\r\n            e.target.files[i].name +\r\n            \" não suportado. Por favor, envie um arquivo menor do que 15mb\"\r\n        );\r\n      } else {\r\n        sendFiles(activeChat, e.target.files[i]);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handlePaste = (e: any) => {\r\n    console.log(\r\n      \"CONSOLE.LOG DE CORPO RECEBIDO PARA APRESENTAÇÃO DA SPRINT (CTRL+V)\" +\r\n        e.clipboardData.files\r\n    );\r\n    if (e.clipboardData.files.length !== 0) {\r\n      setFile({\r\n        name: e.clipboardData.files[0].name,\r\n        size: e.clipboardData.files[0].size,\r\n      });\r\n    }\r\n    for (var i = 0; i < e.clipboardData.files.length; i++) {\r\n      if (e.clipboardData.files.size > 15000) {\r\n        alert(\r\n          \"Tamanho de arquivo \" +\r\n            e.target.files[i].name +\r\n            \" não suportado. Por favor, envie um arquivo menor do que 15mb\"\r\n        );\r\n      } else {\r\n        pasteFiles(activeChat, e.clipboardData.files[i]);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleImageChange = (e: any) => {\r\n    if (e.target.files.length !== 0)\r\n      setFileImage(URL.createObjectURL(e.target.files[0]));\r\n  };\r\n\r\n  const onaddMessage = (e: any, textMessage: any) => {\r\n    e.preventDefault();\r\n    if (textMessage !== \"\") {\r\n      settextMessage(\"\");\r\n    }\r\n\r\n    if (file.name !== \"\") {\r\n      setFile({\r\n        name: \"\",\r\n        size: \"\",\r\n      });\r\n    }\r\n\r\n    if (fileImage !== \"\") {\r\n      setFileImage(\"\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"p-3 p-lg-4 border-top mb-0\">\r\n        <Form onSubmit={(e) => onaddMessage(e, textMessage)}>\r\n          <Row noGutters>\r\n            <Col>\r\n              <div>\r\n                <Input\r\n                  type=\"text\"\r\n                  value={textMessage}\r\n                  onChange={handleChange}\r\n                  className=\"form-control form-control-lg bg-light border-light\"\r\n                  placeholder={\"Send message...\"}\r\n                  onPaste={(e) => handlePaste(e)}\r\n                ></Input>\r\n                <div\r\n                  style={{\r\n                    color: \"red\",\r\n                    fontSize: 12,\r\n                  }}\r\n                >\r\n                  {textMessage.length > 9900\r\n                    ? 10000 - textMessage.length + \" caracteres restantes\"\r\n                    : null}\r\n                </div>\r\n              </div>\r\n            </Col>\r\n            <Col xs=\"auto\">\r\n              <div className=\"chat-input-links ml-md-2\">\r\n                <ul className=\"list-inline mb-0\">\r\n                  <li className=\"list-inline-item\">\r\n                    <ButtonDropdown\r\n                      className=\"emoji-dropdown\"\r\n                      direction=\"up\"\r\n                      isOpen={isOpen}\r\n                      toggle={toggle}\r\n                    >\r\n                      <DropdownToggle\r\n                        id=\"emoji\"\r\n                        color=\"link\"\r\n                        className=\"text-decoration-none font-size-16 btn-lg waves-effect\"\r\n                      >\r\n                        <i className=\"ri-emotion-happy-line\"></i>\r\n                      </DropdownToggle>\r\n                      <DropdownMenu className=\"dropdown-menu-lg-right\">\r\n                        <Picker set=\"apple\" onSelect={addEmoji} />\r\n                        <Emoji emoji=\"santa\" set=\"apple\" size={16} />\r\n                      </DropdownMenu>\r\n                    </ButtonDropdown>\r\n                    <UncontrolledTooltip target=\"emoji\" placement=\"top\">\r\n                      Emoji\r\n                    </UncontrolledTooltip>\r\n                  </li>\r\n                  <li className=\"list-inline-item input-file\">\r\n                    <Label\r\n                      id=\"files\"\r\n                      className=\"btn btn-link text-decoration-none font-size-16 btn-lg waves-effect\"\r\n                    >\r\n                      <i className=\"ri-attachment-line\"></i>\r\n                      <Input\r\n                        onChange={(e) => handleFileChange(e)}\r\n                        type=\"file\"\r\n                        name=\"fileInput\"\r\n                      />\r\n                    </Label>\r\n                    <UncontrolledTooltip target=\"files\" placement=\"top\">\r\n                      Attached File\r\n                    </UncontrolledTooltip>\r\n                  </li>\r\n                  <li className=\"list-inline-item input-file\">\r\n                    <Label\r\n                      id=\"images\"\r\n                      className=\"mr-1 btn btn-link text-decoration-none font-size-16 btn-lg waves-effect\"\r\n                    >\r\n                      <i className=\"ri-image-fill\"></i>\r\n                      <Input\r\n                        onChange={(e) => handleImageChange(e)}\r\n                        accept=\"image/*\"\r\n                        type=\"file\"\r\n                        name=\"fileInput\"\r\n                      />\r\n                    </Label>\r\n                    <UncontrolledTooltip target=\"images\" placement=\"top\">\r\n                      Images\r\n                    </UncontrolledTooltip>\r\n                  </li>\r\n                  <li className=\"list-inline-item\">\r\n                    <Button\r\n                      type={textMessage.length < 10000 ? \"submit\" : \"button\"}\r\n                      color=\"primary\"\r\n                      className=\"font-size-16 btn-lg chat-send waves-effect waves-light\"\r\n                    >\r\n                      <i className=\"ri-send-plane-2-fill\"></i>\r\n                    </Button>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Form>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default ChatInput;\r\n"]},"metadata":{},"sourceType":"module"}