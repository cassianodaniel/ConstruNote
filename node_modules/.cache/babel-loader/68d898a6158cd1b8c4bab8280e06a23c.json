{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Digivox\\\\dev\\\\DathApp\\\\ConstruNote\\\\src\\\\components\\\\GroupMember.tsx\";\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Card, Media, Badge, Button } from 'reactstrap';\nimport ReactImageFallback from \"react-image-fallback\";\nimport { Link } from \"react-router-dom\";\nimport { useContact } from '../contexts/ContactContext';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useChat } from '../contexts/ChatContext';\nimport { useGroup } from '../contexts/GroupContext';\nimport { useConference } from '../contexts/ConferenceContext';\nimport ScreenType from \"../enuns/ScreenType\";\nimport { useMainBox } from \"../contexts/MainBoxContext\";\nimport ModalGenerics from './ModalGenerics';\nimport { toastSuccess } from './../helpers/toastCaller';\n\nconst ChangeGroupNameButton = ({\n  isAdmin,\n  defaultAvatar,\n  member\n}) => {\n  var _activeChat$conferenc, _activeChat$conferenc2;\n\n  const {\n    activeChat,\n    chats,\n    openChat\n  } = useChat();\n  const [showRemoveMember, setShowRemoveMember] = useState(false);\n  const [showModalToggleRole, setShowModalToggleRole] = useState(false);\n  const [showModalToggleRoleAdminOrModerator, setShowModalToggleRoleAdminOrModerator] = useState(false);\n  const {\n    setToggleMemberRole,\n    setRemovedMember,\n    setGroupToRemoveContact\n  } = useGroup();\n  const {\n    setClickedContact,\n    contacts,\n    contactsOutsideUserContacts,\n    openContact\n  } = useContact();\n  const {\n    setRemovingParticipantsPayload,\n    setUpdateParticipantPayload\n  } = useConference();\n  const {\n    setScreen\n  } = useMainBox();\n  const {\n    user\n  } = useAuth();\n  const {\n    t\n  } = useTranslation();\n  const amIaModerator = ((_activeChat$conferenc = activeChat.conferenceRoomParticipants) === null || _activeChat$conferenc === void 0 ? void 0 : (_activeChat$conferenc2 = _activeChat$conferenc.find(member => member.userUuid === user.id)) === null || _activeChat$conferenc2 === void 0 ? void 0 : _activeChat$conferenc2.userModerator) === true;\n\n  const openChatAction = chat => {\n    openChat(chat);\n    setScreen(ScreenType.CHAT);\n  };\n\n  const toggleMemberRole = (member, activeChat) => {\n    setToggleMemberRole({\n      mbId: member.userId,\n      gpId: activeChat.groupId ? activeChat.groupId : \"\",\n      mbRole: member.role,\n      mb: member\n    });\n  };\n  /* if(activeChat.members){\r\n    let userThatWeWantId = activeChat?.members.map((mbr) => {\r\n      if(mbr.userId === )\r\n    })\r\n  } */\n\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ModalGenerics, {\n    setShow: setShowRemoveMember,\n    show: showRemoveMember,\n    title: t(\"Remove\") + \" \" + member.name + \"?\",\n    children: /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }\n    }, t(\"Confirm\")), /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      color: \"link\",\n      onClick: () => {\n        setShowRemoveMember(!showRemoveMember);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }\n    }, t(\"Cancel\")))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(ModalGenerics, {\n    setShow: setShowModalToggleRole,\n    show: showModalToggleRole,\n    title: t(\"Turn\") + \" \" + member.name + \" \" + t(\"a member?\"),\n    children: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      color: \"link\",\n      onClick: () => setShowModalToggleRole(!showModalToggleRole),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }\n    }, t(\"Cancel\")), activeChat.conferenceRoomParticipants ? /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      color: \"primary\",\n      onClick: () => {\n        toastSuccess(t(\"Sucess!\"));\n        setShowModalToggleRole(!showModalToggleRole);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 15\n      }\n    }, t(\"Confirm\")) : /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      color: \"primary\",\n      onClick: () => {\n        toastSuccess(t(\"Sucess!\"));\n        toggleMemberRole(member, activeChat);\n        setShowModalToggleRole(!showModalToggleRole);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 15\n      }\n    }, t(\"Confirm\"))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(ModalGenerics, {\n    setShow: setShowModalToggleRoleAdminOrModerator,\n    show: showModalToggleRoleAdminOrModerator,\n    title: t(\"Turn\") + \" \" + member.name + \" \" + t(\"an administrator?\"),\n    children: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      color: \"link\",\n      onClick: () => setShowModalToggleRoleAdminOrModerator(!showModalToggleRoleAdminOrModerator),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }\n    }, t(\"Cancel\")), activeChat.conferenceRoomParticipants ? /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      color: \"primary\",\n      onClick: () => {\n        toastSuccess(t(\"Sucess!\"));\n        setShowModalToggleRoleAdminOrModerator(!showModalToggleRoleAdminOrModerator);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 15\n      }\n    }, t(\"Confirm\")) : /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      color: \"primary\",\n      onClick: () => {\n        toastSuccess(t(\"Sucess!\"));\n        toggleMemberRole(member, activeChat);\n        setShowModalToggleRoleAdminOrModerator(!showModalToggleRoleAdminOrModerator);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 15\n      }\n    }, t(\"Confirm\"))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Card, {\n    key: member.userId,\n    className: \"p-2 mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Media, {\n    className: \"align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ReactImageFallback, {\n    src: member.profilePicture,\n    className: \"rounded-circle avatar-xs mr-2\",\n    alt: \"chatvia\",\n    fallbackImage: defaultAvatar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Media, {\n    body: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"font-size-14 mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"#\",\n    onClick: () => {\n      chats.forEach(cht => {\n        if (cht.id === member.userId) {\n          openChatAction(cht);\n          contacts.forEach(ctc => {\n            if (ctc.id === member.userId) {\n              setClickedContact(ctc);\n            }\n          });\n        } else {\n          contactsOutsideUserContacts.forEach(ctcOut => {\n            if (ctcOut.id === member.userId) {\n              openContact(ctcOut);\n              setClickedContact(ctcOut);\n            }\n          });\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }\n  }, member.name), (isAdmin || amIaModerator) && user.id !== member.userId && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"float-right ml-2\",\n    style: {\n      cursor: \"pointer\"\n    },\n    onClick: () => setShowRemoveMember(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ri-close-fill\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 17\n    }\n  })), \"(\", /*#__PURE__*/React.createElement(Badge, {\n    color: activeChat.conferenceRoomParticipants ? \"warning\" : \"danger\",\n    className: activeChat.conferenceRoomParticipants ? \"badge-soft-warning float-right\" : \"badge-soft-danger float-right\",\n    onClick: () => (isAdmin || amIaModerator) && member.userId !== user.id && setShowModalToggleRole(true),\n    style: {\n      cursor: \"pointer\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 15\n    }\n  }, activeChat.conferenceRoomParticipants ? t(\"Moderator\") : t(\"Admin\")), \") : (\", /*#__PURE__*/React.createElement(Badge, {\n    color: \"success\",\n    className: \"badge-soft-success float-right\",\n    style: {\n      cursor: \"pointer\"\n    },\n    onClick: () => (isAdmin || amIaModerator) && member.userId !== user.id && setShowModalToggleRoleAdminOrModerator(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 15\n    }\n  }, t(\"Member\"))))))));\n};\n\nexport default ChangeGroupNameButton;","map":{"version":3,"sources":["C:/Users/Digivox/dev/DathApp/ConstruNote/src/components/GroupMember.tsx"],"names":["React","useState","useTranslation","Card","Media","Badge","Button","ReactImageFallback","Link","useContact","useAuth","useChat","useGroup","useConference","ScreenType","useMainBox","ModalGenerics","toastSuccess","ChangeGroupNameButton","isAdmin","defaultAvatar","member","activeChat","chats","openChat","showRemoveMember","setShowRemoveMember","showModalToggleRole","setShowModalToggleRole","showModalToggleRoleAdminOrModerator","setShowModalToggleRoleAdminOrModerator","setToggleMemberRole","setRemovedMember","setGroupToRemoveContact","setClickedContact","contacts","contactsOutsideUserContacts","openContact","setRemovingParticipantsPayload","setUpdateParticipantPayload","setScreen","user","t","amIaModerator","conferenceRoomParticipants","find","userUuid","id","userModerator","openChatAction","chat","CHAT","toggleMemberRole","mbId","userId","gpId","groupId","mbRole","role","mb","name","profilePicture","forEach","cht","ctc","ctcOut","cursor"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Card, Media, Badge, Button } from 'reactstrap';\r\nimport ReactImageFallback from \"react-image-fallback\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useContact } from '../contexts/ContactContext';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { useChat } from '../contexts/ChatContext';\r\nimport { useGroup } from '../contexts/GroupContext';\r\nimport IChat from '../alias/IChat';\r\nimport IMember from '../alias/IMember';\r\nimport { useConference } from '../contexts/ConferenceContext';\r\nimport ScreenType from \"../enuns/ScreenType\";\r\nimport { useMainBox } from \"../contexts/MainBoxContext\";\r\nimport ModalGenerics from './ModalGenerics';\r\nimport { toastSuccess } from './../helpers/toastCaller';\r\n\r\ninterface IProps {\r\n  member: IMember;\r\n  defaultAvatar: any;\r\n  isAdmin: any;\r\n}\r\n\r\nconst ChangeGroupNameButton : React.FC<IProps> = ({ isAdmin, defaultAvatar, member, }) => {\r\n    const { activeChat, chats, openChat } = useChat();\r\n    const [showRemoveMember, setShowRemoveMember] = useState<boolean>(false);\r\n    const [showModalToggleRole, setShowModalToggleRole] = useState<boolean>(false);\r\n    const [showModalToggleRoleAdminOrModerator, setShowModalToggleRoleAdminOrModerator] = useState<boolean>(false);\r\n    const { setToggleMemberRole, setRemovedMember, setGroupToRemoveContact } = useGroup();\r\n    const { setClickedContact, contacts, contactsOutsideUserContacts, openContact } = useContact();\r\n    const { setRemovingParticipantsPayload, setUpdateParticipantPayload } = useConference();\r\n    const { setScreen } = useMainBox();\r\n    const { user } = useAuth();\r\n    const { t } = useTranslation();\r\n    const amIaModerator =\r\n    activeChat.conferenceRoomParticipants?.find((member) => member.userUuid === user.id)?.userModerator ===\r\n    true;\r\n\r\n    const openChatAction = (chat: IChat) => {\r\n        openChat(chat);\r\n        setScreen(ScreenType.CHAT);\r\n    };\r\n\r\n    const toggleMemberRole = (member: IMember, activeChat: IChat) => {\r\n      setToggleMemberRole({\r\n        mbId: member.userId,\r\n        gpId: activeChat.groupId\r\n          ? activeChat.groupId\r\n          : \"\",\r\n        mbRole: member.role,\r\n        mb: member,\r\n      });\r\n    }\r\n\r\n\r\n      /* if(activeChat.members){\r\n        let userThatWeWantId = activeChat?.members.map((mbr) => {\r\n          if(mbr.userId === )\r\n        })\r\n      } */\r\n\r\n      \r\n\r\n    return (<>\r\n    <ModalGenerics\r\n      setShow={setShowRemoveMember}\r\n      show={showRemoveMember}\r\n      title={t(\"Remove\") + \" \" + member.name + \"?\"}\r\n      children={\r\n        <div>\r\n          <>\r\n          <Button type=\"button\" color=\"primary\" \r\n          >{t(\"Confirm\")}</Button>\r\n          <Button type=\"button\" color=\"link\" onClick={() => \r\n            {\r\n              setShowRemoveMember(!showRemoveMember);\r\n            }\r\n          }>\r\n            {t(\"Cancel\")}\r\n          </Button>\r\n          </>\r\n        </div>\r\n      }\r\n      />\r\n    <ModalGenerics\r\n      setShow={setShowModalToggleRole}\r\n      show={showModalToggleRole}\r\n      title={t(\"Turn\") +\r\n      \" \" +\r\n      member.name +\r\n      \" \" +\r\n      t(\"a member?\")}\r\n      children={\r\n        <>\r\n          <Button type=\"button\" color=\"link\" onClick={() => setShowModalToggleRole(!showModalToggleRole)}>\r\n              {t(\"Cancel\")}\r\n          </Button>\r\n          {\r\n            activeChat.conferenceRoomParticipants ?\r\n              <Button type=\"button\" color=\"primary\" \r\n              onClick={() => {\r\n                toastSuccess(t(\"Sucess!\")); \r\n                setShowModalToggleRole(!showModalToggleRole);\r\n              }}>\r\n                {t(\"Confirm\")}\r\n              </Button>\r\n                :\r\n              <Button type=\"button\" color=\"primary\" \r\n              onClick={() => \r\n                {\r\n                  toastSuccess(t(\"Sucess!\")); \r\n                  toggleMemberRole(member, activeChat);\r\n                  setShowModalToggleRole(!showModalToggleRole);\r\n                }\r\n              }>\r\n                {t(\"Confirm\")}\r\n              </Button>\r\n          }\r\n        </>\r\n      }\r\n      />\r\n\r\n\r\n      <ModalGenerics\r\n      setShow={setShowModalToggleRoleAdminOrModerator}\r\n      show={showModalToggleRoleAdminOrModerator}\r\n      title={t(\"Turn\") + \" \" + member.name + \" \" + t(\"an administrator?\")}\r\n      children={\r\n        <>\r\n          <Button type=\"button\" color=\"link\" onClick={() => setShowModalToggleRoleAdminOrModerator(!showModalToggleRoleAdminOrModerator)}>\r\n              {t(\"Cancel\")}\r\n          </Button>\r\n          {\r\n            activeChat.conferenceRoomParticipants ?\r\n              <Button type=\"button\" color=\"primary\" \r\n              onClick={() => {\r\n                toastSuccess(t(\"Sucess!\")); \r\n                setShowModalToggleRoleAdminOrModerator(!showModalToggleRoleAdminOrModerator)\r\n              }}>\r\n                {t(\"Confirm\")}\r\n              </Button>\r\n                :\r\n              <Button type=\"button\" color=\"primary\" \r\n              onClick={() => \r\n                {\r\n                  toastSuccess(t(\"Sucess!\")); \r\n                  toggleMemberRole(member, activeChat)\r\n                  setShowModalToggleRoleAdminOrModerator(!showModalToggleRoleAdminOrModerator);\r\n                }\r\n              }>\r\n                {t(\"Confirm\")}\r\n              </Button>\r\n          }\r\n        </>\r\n      }\r\n      /> \r\n\r\n    <Card key={member.userId} className=\"p-2 mb-2\">\r\n    <Media className=\"align-items-center\">\r\n      <ReactImageFallback\r\n        src={member.profilePicture}\r\n        className=\"rounded-circle avatar-xs mr-2\"\r\n        alt=\"chatvia\"\r\n        fallbackImage={defaultAvatar}\r\n      />\r\n      <Media body>\r\n        <div className=\"text-left\">\r\n          <h5 className=\"font-size-14 mb-1\">\r\n            <Link\r\n              to=\"#\"\r\n              onClick={() => {\r\n                chats.forEach((cht: any) => {\r\n                  if (cht.id === member.userId) {\r\n                    openChatAction(cht);\r\n                    contacts.forEach((ctc: any) => {\r\n                      if (ctc.id === member.userId) {\r\n                        setClickedContact(ctc);\r\n                      }\r\n                    });\r\n                  } else {\r\n                    contactsOutsideUserContacts.forEach(\r\n                      (ctcOut) => {\r\n                        if (ctcOut.id === member.userId) {\r\n                          openContact(ctcOut);\r\n                          setClickedContact(ctcOut);\r\n                        }\r\n                      });\r\n                    }\r\n                  });\r\n                }}\r\n              >\r\n                {member.name}\r\n              </Link>\r\n\r\n            {(((isAdmin || amIaModerator) && user.id !== member.userId) && (\r\n              <span\r\n                className=\"float-right ml-2\"\r\n                style={{ cursor: \"pointer\" }}\r\n                onClick={() =>\r\n                  setShowRemoveMember(true)\r\n                }\r\n              >\r\n                <i className=\"ri-close-fill\"></i>\r\n              </span>\r\n            ))}\r\n\r\n              (\r\n              <Badge\r\n                color={activeChat.conferenceRoomParticipants ? \"warning\" : \"danger\"}\r\n                className={activeChat.conferenceRoomParticipants ? \"badge-soft-warning float-right\" : \"badge-soft-danger float-right\"}\r\n                onClick={() =>\r\n                  (isAdmin || amIaModerator) && (member.userId !== user.id) &&\r\n                  setShowModalToggleRole(true)\r\n                }\r\n                style={{ cursor: \"pointer\" }}\r\n              >\r\n                {activeChat.conferenceRoomParticipants ? t(\"Moderator\") : t(\"Admin\")}\r\n              </Badge>\r\n              ) : (\r\n              <Badge\r\n                color=\"success\"\r\n                className=\"badge-soft-success float-right\"\r\n                style={{ cursor: \"pointer\" }}\r\n                onClick={() =>\r\n                  (isAdmin || amIaModerator) && (member.userId !== user.id) &&\r\n                  setShowModalToggleRoleAdminOrModerator(true)\r\n                }\r\n              >\r\n                {t(\"Member\")}\r\n              </Badge>\r\n\r\n          </h5>\r\n        </div>\r\n      </Media>\r\n    </Media>\r\n  </Card>\r\n  </>\r\n  );\r\n}\r\n\r\nexport default ChangeGroupNameButton;\r\n"]},"metadata":{},"sourceType":"module"}