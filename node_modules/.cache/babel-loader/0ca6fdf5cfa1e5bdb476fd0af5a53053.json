{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Digivox\\\\dev\\\\Digivox\\\\Refatoracao\\\\squad\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{BrowserRouter as Router}from\"react-router-dom\";import Routes from\"./routes\";import Dashboard from\"./pages/Dashboard\";import IncomingCall from\"./components/IncomingCall\";import{useLoading}from\"./contexts/LoadingContext\";import LoadingPage from\"./components/LoadingPage\";import{useChat}from\"./contexts/ChatContext\";import Favicon from\"react-favicon\";function App(){var _useLoading=useLoading(),isLoadingApp=_useLoading.isLoadingApp;var _useChat=useChat(),chats=_useChat.chats;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),unreadSum=_useState2[0],setUnreadSum=_useState2[1];var init=function init(){var aux=0;chats.forEach(function(cht){aux+=cht.unRead;});setUnreadSum(aux);};useEffect(init,[chats]);return/*#__PURE__*/React.createElement(Router,null,isLoadingApp?/*#__PURE__*/React.createElement(LoadingPage,null):/*#__PURE__*/React.createElement(React.Fragment,null,unreadSum<=0?/*#__PURE__*/React.createElement(Favicon,{url:\"./favicon.ico\"}):/*#__PURE__*/React.createElement(Favicon,{alertCount:unreadSum,url:\"./favicon.ico\"}),/*#__PURE__*/React.createElement(Dashboard,null,/*#__PURE__*/React.createElement(Routes,null)),/*#__PURE__*/React.createElement(IncomingCall,null)));}export default App;","map":{"version":3,"sources":["C:/Users/Digivox/dev/Digivox/Refatoracao/squad/src/App.tsx"],"names":["React","useEffect","useState","BrowserRouter","Router","Routes","Dashboard","IncomingCall","useLoading","LoadingPage","useChat","Favicon","App","isLoadingApp","chats","unreadSum","setUnreadSum","init","aux","forEach","cht","unRead"],"mappings":"gLAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,aAAa,GAAIC,CAAAA,MAA1B,KAAwC,kBAAxC,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,mBAAtB,CACA,MAAOC,CAAAA,YAAP,KAAyB,2BAAzB,CACA,OAASC,UAAT,KAA2B,2BAA3B,CACA,MAAOC,CAAAA,WAAP,KAAwB,0BAAxB,CACA,OAASC,OAAT,KAAwB,wBAAxB,CACA,MAAOC,CAAAA,OAAP,KAAoB,eAApB,CAEA,QAASC,CAAAA,GAAT,EAAe,iBACYJ,UAAU,EADtB,CACLK,YADK,aACLA,YADK,cAEGH,OAAO,EAFV,CAENI,KAFM,UAENA,KAFM,eAGqBZ,QAAQ,CAAC,CAAD,CAH7B,wCAGNa,SAHM,eAGKC,YAHL,eAIb,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,CACjB,GAAIC,CAAAA,GAAG,CAAG,CAAV,CACAJ,KAAK,CAACK,OAAN,CAAc,SAACC,GAAD,CAAS,CACrBF,GAAG,EAAIE,GAAG,CAACC,MAAX,CACD,CAFD,EAGAL,YAAY,CAACE,GAAD,CAAZ,CACD,CAND,CAQAjB,SAAS,CAACgB,IAAD,CAAO,CAACH,KAAD,CAAP,CAAT,CAEA,mBACE,oBAAC,MAAD,MACGD,YAAY,cACX,oBAAC,WAAD,MADW,cAGX,wCACGE,SAAS,EAAI,CAAb,cACE,oBAAC,OAAD,EAAS,GAAG,CAAC,eAAb,EADF,cAEE,oBAAC,OAAD,EAAS,UAAU,CAAEA,SAArB,CAAgC,GAAG,CAAC,eAApC,EAHL,cAKE,oBAAC,SAAD,mBACE,oBAAC,MAAD,MADF,CALF,cAQE,oBAAC,YAAD,MARF,CAJJ,CADF,CAkBD,CAED,cAAeH,CAAAA,GAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport Routes from \"./routes\";\r\nimport Dashboard from \"./pages/Dashboard\";\r\nimport IncomingCall from \"./components/IncomingCall\";\r\nimport { useLoading } from \"./contexts/LoadingContext\";\r\nimport LoadingPage from \"./components/LoadingPage\";\r\nimport { useChat } from \"./contexts/ChatContext\";\r\nimport Favicon from \"react-favicon\";\r\n\r\nfunction App() {\r\n  const { isLoadingApp } = useLoading();\r\n  const {chats} = useChat();\r\n  const [unreadSum, setUnreadSum] = useState(0);\r\n  const init = () => {\r\n    let aux = 0;\r\n    chats.forEach((cht) => {\r\n      aux += cht.unRead;  \r\n    });\r\n    setUnreadSum(aux);\r\n  }\r\n\r\n  useEffect(init, [chats]);\r\n\r\n  return (\r\n    <Router>\r\n      {isLoadingApp ? (\r\n        <LoadingPage />\r\n      ) : (\r\n        <>\r\n          {unreadSum <= 0 ? \r\n            (<Favicon url=\"./favicon.ico\"/>) : \r\n            (<Favicon alertCount={unreadSum} url=\"./favicon.ico\"/>) \r\n          }\r\n          <Dashboard>\r\n            <Routes />\r\n          </Dashboard>\r\n          <IncomingCall />\r\n        </>\r\n      )}\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}