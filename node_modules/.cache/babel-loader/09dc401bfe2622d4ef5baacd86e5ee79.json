{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Digivox\\\\dev\\\\Digivox\\\\Refatoracao\\\\squad\\\\src\\\\contexts\\\\GroupContext.tsx\";\nimport React, { createContext, useContext, useState } from \"react\";\nimport { useChat } from \"./ChatContext\"; //alias\n\nimport ChatType from \"../enuns/ChatType\";\nexport const GroupContext = createContext({});\nexport const GroupProvider = ({\n  children\n}) => {\n  const [groups, setGroups] = useState([]);\n  const {\n    chats,\n    setChats,\n    setActiveChat,\n    setShowChat\n  } = useChat();\n\n  const openGroup = obj => {\n    let find = false;\n    setChats(chats.map(item => {\n      if (item.jid === obj.jid) {\n        item.unRead = 0;\n        item.messageLoaded = true;\n        setActiveChat(item);\n        find = true;\n      }\n\n      return item;\n    }));\n\n    if (!find) {\n      let newChat = {\n        id: obj.jid.split(\"@\")[0],\n        jid: obj.jid,\n        name: obj.name,\n        profilePicture: obj.profilePicture,\n        messageLoaded: true,\n        unRead: 1,\n        chatType: ChatType.GROUP,\n        inputMessage: \"\",\n        isTyping: false,\n        messages: [],\n        favorite: obj.favorite,\n        added: obj.added\n      };\n      setShowChat(true);\n      setActiveChat(newChat);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(GroupContext.Provider, {\n    value: {\n      openGroup,\n      groups,\n      setGroups\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, children);\n};\nexport function useGroup() {\n  return useContext(GroupContext);\n}","map":{"version":3,"sources":["C:/Users/Digivox/dev/Digivox/Refatoracao/squad/src/contexts/GroupContext.tsx"],"names":["React","createContext","useContext","useState","useChat","ChatType","GroupContext","GroupProvider","children","groups","setGroups","chats","setChats","setActiveChat","setShowChat","openGroup","obj","find","map","item","jid","unRead","messageLoaded","newChat","id","split","name","profilePicture","chatType","GROUP","inputMessage","isTyping","messages","favorite","added","useGroup"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,UAA/B,EAA2CC,QAA3C,QAA2D,OAA3D;AACA,SAASC,OAAT,QAAwB,eAAxB,C,CAEA;;AAEA,OAAOC,QAAP,MAAqB,mBAArB;AAQA,OAAO,MAAMC,YAAY,GAAGL,aAAa,CACvC,EADuC,CAAlC;AAIP,OAAO,MAAMM,aAAuB,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AACvD,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBP,QAAQ,CAAW,EAAX,CAApC;AACA,QAAM;AAAEQ,IAAAA,KAAF;AAASC,IAAAA,QAAT;AAAmBC,IAAAA,aAAnB;AAAkCC,IAAAA;AAAlC,MAAkDV,OAAO,EAA/D;;AAEA,QAAMW,SAAS,GAAIC,GAAD,IAAiB;AACjC,QAAIC,IAAI,GAAG,KAAX;AAEAL,IAAAA,QAAQ,CACND,KAAK,CAACO,GAAN,CAAWC,IAAD,IAAU;AAClB,UAAIA,IAAI,CAACC,GAAL,KAAaJ,GAAG,CAACI,GAArB,EAA0B;AACxBD,QAAAA,IAAI,CAACE,MAAL,GAAc,CAAd;AACAF,QAAAA,IAAI,CAACG,aAAL,GAAqB,IAArB;AACAT,QAAAA,aAAa,CAACM,IAAD,CAAb;AACAF,QAAAA,IAAI,GAAG,IAAP;AACD;;AACD,aAAOE,IAAP;AACD,KARD,CADM,CAAR;;AAYA,QAAI,CAACF,IAAL,EAAW;AACT,UAAIM,OAAO,GAAG;AACZC,QAAAA,EAAE,EAAER,GAAG,CAACI,GAAJ,CAAQK,KAAR,CAAc,GAAd,EAAmB,CAAnB,CADQ;AAEZL,QAAAA,GAAG,EAAEJ,GAAG,CAACI,GAFG;AAGZM,QAAAA,IAAI,EAAEV,GAAG,CAACU,IAHE;AAIZC,QAAAA,cAAc,EAAEX,GAAG,CAACW,cAJR;AAKZL,QAAAA,aAAa,EAAE,IALH;AAMZD,QAAAA,MAAM,EAAE,CANI;AAOZO,QAAAA,QAAQ,EAAEvB,QAAQ,CAACwB,KAPP;AAQZC,QAAAA,YAAY,EAAE,EARF;AASZC,QAAAA,QAAQ,EAAE,KATE;AAUZC,QAAAA,QAAQ,EAAE,EAVE;AAWZC,QAAAA,QAAQ,EAAEjB,GAAG,CAACiB,QAXF;AAYZC,QAAAA,KAAK,EAAElB,GAAG,CAACkB;AAZC,OAAd;AAcApB,MAAAA,WAAW,CAAC,IAAD,CAAX;AACAD,MAAAA,aAAa,CAACU,OAAD,CAAb;AACD;AACF,GAjCD;;AAmCA,sBACE,oBAAC,YAAD,CAAc,QAAd;AACE,IAAA,KAAK,EAAE;AACLR,MAAAA,SADK;AAELN,MAAAA,MAFK;AAGLC,MAAAA;AAHK,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOGF,QAPH,CADF;AAWD,CAlDM;AAoDP,OAAO,SAAS2B,QAAT,GAAoB;AACzB,SAAOjC,UAAU,CAACI,YAAD,CAAjB;AACD","sourcesContent":["import React, { createContext, useContext, useState } from \"react\";\r\nimport { useChat } from \"./ChatContext\";\r\n\r\n//alias\r\nimport IGroup from \"./../alias/IGroup\";\r\nimport ChatType from \"../enuns/ChatType\";\r\n\r\ninterface IGroupContextData {\r\n  openGroup(obj: IGroup): void;\r\n  groups: IGroup[];\r\n  setGroups(value: IGroup[]): void;\r\n}\r\n\r\nexport const GroupContext = createContext<IGroupContextData>(\r\n  {} as IGroupContextData\r\n);\r\n\r\nexport const GroupProvider: React.FC = ({ children }) => {\r\n  const [groups, setGroups] = useState<IGroup[]>([]);\r\n  const { chats, setChats, setActiveChat, setShowChat } = useChat();\r\n\r\n  const openGroup = (obj: IGroup) => {\r\n    let find = false;\r\n\r\n    setChats(\r\n      chats.map((item) => {\r\n        if (item.jid === obj.jid) {\r\n          item.unRead = 0;\r\n          item.messageLoaded = true;\r\n          setActiveChat(item);\r\n          find = true;\r\n        }\r\n        return item;\r\n      })\r\n    );\r\n\r\n    if (!find) {\r\n      let newChat = {\r\n        id: obj.jid.split(\"@\")[0],\r\n        jid: obj.jid,\r\n        name: obj.name,\r\n        profilePicture: obj.profilePicture,\r\n        messageLoaded: true,\r\n        unRead: 1,\r\n        chatType: ChatType.GROUP,\r\n        inputMessage: \"\",\r\n        isTyping: false,\r\n        messages: [],\r\n        favorite: obj.favorite,\r\n        added: obj.added,\r\n      };\r\n      setShowChat(true);\r\n      setActiveChat(newChat);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <GroupContext.Provider\r\n      value={{\r\n        openGroup,\r\n        groups,\r\n        setGroups,\r\n      }}\r\n    >\r\n      {children}\r\n    </GroupContext.Provider>\r\n  );\r\n};\r\n\r\nexport function useGroup() {\r\n  return useContext(GroupContext);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}