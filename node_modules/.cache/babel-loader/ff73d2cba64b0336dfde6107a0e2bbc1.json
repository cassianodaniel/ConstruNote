{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Digivox\\\\dev\\\\Digivox\\\\Refatoracao\\\\squad\\\\src\\\\components\\\\IncomingCall.tsx\";\nimport React, { useEffect, useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { Button } from \"reactstrap\";\nimport { useCall } from \"./../contexts/CallContext\";\nimport CallStatus from \"../enuns/CallStatus\";\nimport ReactImageFallback from \"react-image-fallback\";\nimport defaultAvatar from \"../assets/images/default.png\";\nimport { useContact } from \"../contexts/ContactContext\";\nimport { useGroup } from \"../contexts/GroupContext\";\n\nfunction width() {\n  return window.innerWidth || document.documentElement.clientWidth || document.getElementsByTagName(\"body\")[0].clientWidth;\n}\n\nfunction height() {\n  return window.innerHeight || document.documentElement.clientHeight || document.getElementsByTagName(\"body\")[0].clientHeight;\n}\n\nvar audio = new Audio();\n\nconst IncomingCall = () => {\n  var _currentCall$callerNa;\n\n  const {\n    show,\n    setShow,\n    currentCalls\n  } = useCall();\n  const {\n    openContact\n  } = useContact();\n  const {\n    openGroup\n  } = useGroup();\n  const [ringing, setRinging] = useState(false);\n  const currentCall = Array.from(currentCalls.values()).find(call => call.callStatus === CallStatus.RINGING);\n\n  const open = () => {\n    setShow(true);\n    setRinging(true);\n    audio.play();\n  };\n\n  const close = () => {\n    setShow(false);\n    setRinging(false);\n    audio.pause();\n  };\n\n  const acceptCall = (video = false) => {\n    if (currentCall && currentCall.accept) {\n      if (currentCall.isGroup) {\n        openGroup(currentCall.callerObject);\n      } else {\n        openContact(currentCall.callerObject);\n      }\n\n      currentCall.accept(video);\n      close();\n    }\n  };\n\n  const rejectCall = () => {\n    if (currentCall && currentCall.endCall) {\n      currentCall.endCall();\n    }\n  };\n\n  const init = () => {\n    const callRinging = Array.from(currentCalls.values()).find(call => call.callStatus === CallStatus.RINGING);\n\n    if (callRinging && !ringing) {\n      audio.loop = true;\n      audio.src = \"https://m.toqueparacelular.com.br/a/z2/Ascent_Alarm_Loud.mp3\";\n      audio.load();\n      open();\n    }\n\n    if (!callRinging) {\n      close();\n    }\n  };\n\n  useEffect(init, [currentCalls]);\n  if (!show) return /*#__PURE__*/React.createElement(React.Fragment, null);\n  return /*#__PURE__*/React.createElement(motion.div, {\n    initial: {\n      bottom: \"-150px\"\n    },\n    animate: {\n      bottom: \"30px\"\n    },\n    transition: {\n      duration: 1\n    },\n    drag: true,\n    dragConstraints: {\n      top: (height() - 210) * -1,\n      bottom: 0,\n      left: (width() - 260) * -1,\n      right: 0\n    },\n    style: {\n      position: \"fixed\",\n      bottom: \"30px\",\n      right: \"30px\",\n      border: \"4px solid #ffffff\",\n      backgroundColor: \"rgba(255,255,255,.7)\",\n      width: \"200px\",\n      height: \"150px\",\n      zIndex: 100,\n      borderRadius: \"3px\",\n      boxShadow: \"0 5px 5px 5px rgba(0,0,0,0.03)\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      flexDirection: \"column\",\n      height: \"60%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }\n  }, (currentCall === null || currentCall === void 0 ? void 0 : currentCall.callerProfilePicture) ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mr-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ReactImageFallback, {\n    src: currentCall === null || currentCall === void 0 ? void 0 : currentCall.callerProfilePicture,\n    style: {\n      maxHeight: \"40px\",\n      maxWidth: \"40px\"\n    },\n    fallbackImage: defaultAvatar,\n    className: \"rounded-circle avatar-lg img-thumbnail\",\n    alt: \"chatvia\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-user-img align-self-center mr-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"avatar-xs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"avatar-title rounded-circle bg-soft-primary text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 15\n    }\n  }, (currentCall === null || currentCall === void 0 ? void 0 : (_currentCall$callerNa = currentCall.callerName) === null || _currentCall$callerNa === void 0 ? void 0 : _currentCall$callerNa.trim().charAt(0)) || \"C\"))), /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }\n  }, (currentCall === null || currentCall === void 0 ? void 0 : currentCall.callerName) || (currentCall === null || currentCall === void 0 ? void 0 : currentCall.callerNumber))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      height: \"40%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    color: \"none\",\n    onClick: () => acceptCall(),\n    className: \"nav-btn user-profile-show bg-primary mr-2\",\n    style: {\n      color: \"#ffffff\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ri-phone-line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    color: \"none\",\n    onClick: () => acceptCall(true),\n    className: \"nav-btn user-profile-show bg-success\",\n    style: {\n      color: \"#ffffff\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ri-vidicon-line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    color: \"none\",\n    onClick: () => rejectCall(),\n    className: \"nav-btn user-profile-show bg-danger ml-2\",\n    style: {\n      color: \"#ffffff\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ri-close-line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default IncomingCall;","map":{"version":3,"sources":["C:/Users/Digivox/dev/Digivox/Refatoracao/squad/src/components/IncomingCall.tsx"],"names":["React","useEffect","useState","motion","Button","useCall","CallStatus","ReactImageFallback","defaultAvatar","useContact","useGroup","width","window","innerWidth","document","documentElement","clientWidth","getElementsByTagName","height","innerHeight","clientHeight","audio","Audio","IncomingCall","show","setShow","currentCalls","openContact","openGroup","ringing","setRinging","currentCall","Array","from","values","find","call","callStatus","RINGING","open","play","close","pause","acceptCall","video","accept","isGroup","callerObject","rejectCall","endCall","init","callRinging","loop","src","load","bottom","duration","top","left","right","position","border","backgroundColor","zIndex","borderRadius","boxShadow","display","justifyContent","alignItems","flexDirection","callerProfilePicture","maxHeight","maxWidth","callerName","trim","charAt","callerNumber","color"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { Button } from \"reactstrap\";\r\nimport { useCall } from \"./../contexts/CallContext\";\r\nimport CallStatus from \"../enuns/CallStatus\";\r\nimport ReactImageFallback from \"react-image-fallback\";\r\nimport defaultAvatar from \"../assets/images/default.png\";\r\nimport { useContact } from \"../contexts/ContactContext\";\r\nimport IGroup from \"../alias/IGroup\";\r\nimport IContact from \"../alias/IContact\";\r\nimport { useGroup } from \"../contexts/GroupContext\";\r\n\r\nfunction width() {\r\n  return (\r\n    window.innerWidth ||\r\n    document.documentElement.clientWidth ||\r\n    document.getElementsByTagName(\"body\")[0].clientWidth\r\n  );\r\n}\r\n\r\nfunction height() {\r\n  return (\r\n    window.innerHeight ||\r\n    document.documentElement.clientHeight ||\r\n    document.getElementsByTagName(\"body\")[0].clientHeight\r\n  );\r\n}\r\n\r\nvar audio = new Audio();\r\n\r\nconst IncomingCall: React.FC = () => {\r\n  const { show, setShow, currentCalls } = useCall();\r\n  const { openContact } = useContact();\r\n  const { openGroup } = useGroup();\r\n  const [ringing, setRinging] = useState(false);\r\n\r\n  const currentCall = Array.from(currentCalls.values()).find(\r\n    (call) => call.callStatus === CallStatus.RINGING\r\n  );\r\n  const open = () => {\r\n    setShow(true);\r\n    setRinging(true);\r\n    audio.play();\r\n  };\r\n\r\n  const close = () => {\r\n    setShow(false);\r\n    setRinging(false);\r\n    audio.pause();\r\n  };\r\n\r\n  const acceptCall = (video = false) => {\r\n    if (currentCall && currentCall.accept) {\r\n      if (currentCall.isGroup) {\r\n        openGroup(currentCall.callerObject as IGroup);\r\n      } else {\r\n        openContact(currentCall.callerObject as IContact);\r\n      }\r\n      currentCall.accept(video);\r\n      close();\r\n    }\r\n  };\r\n\r\n  const rejectCall = () => {\r\n    if (currentCall && currentCall.endCall) {\r\n      currentCall.endCall();\r\n    }\r\n  };\r\n\r\n  const init = () => {\r\n    const callRinging = Array.from(currentCalls.values()).find(\r\n      (call) => call.callStatus === CallStatus.RINGING\r\n    );\r\n    if (callRinging && !ringing) {\r\n      audio.loop = true;\r\n      audio.src =\r\n        \"https://m.toqueparacelular.com.br/a/z2/Ascent_Alarm_Loud.mp3\";\r\n      audio.load();\r\n      open();\r\n    }\r\n\r\n    if (!callRinging) {\r\n      close();\r\n    }\r\n  };\r\n\r\n  useEffect(init, [currentCalls]);\r\n\r\n  if (!show) return <></>;\r\n  return (\r\n    <motion.div\r\n      initial={{ bottom: \"-150px\" }}\r\n      animate={{ bottom: \"30px\" }}\r\n      transition={{ duration: 1 }}\r\n      drag\r\n      dragConstraints={{\r\n        top: (height() - 210) * -1,\r\n        bottom: 0,\r\n        left: (width() - 260) * -1,\r\n        right: 0,\r\n      }}\r\n      style={{\r\n        position: \"fixed\",\r\n        bottom: \"30px\",\r\n        right: \"30px\",\r\n        border: \"4px solid #ffffff\",\r\n        backgroundColor: \"rgba(255,255,255,.7)\",\r\n        width: \"200px\",\r\n        height: \"150px\",\r\n        zIndex: 100,\r\n        borderRadius: \"3px\",\r\n        boxShadow: \"0 5px 5px 5px rgba(0,0,0,0.03)\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          flexDirection: \"column\",\r\n          height: \"60%\",\r\n        }}\r\n      >\r\n        {currentCall?.callerProfilePicture ? (\r\n          <div className=\"mr-3\">\r\n            <ReactImageFallback\r\n              src={currentCall?.callerProfilePicture}\r\n              style={{ maxHeight: \"40px\", maxWidth: \"40px\" }}\r\n              fallbackImage={defaultAvatar}\r\n              className=\"rounded-circle avatar-lg img-thumbnail\"\r\n              alt=\"chatvia\"\r\n            />\r\n          </div>\r\n        ) : (\r\n          <div className=\"chat-user-img align-self-center mr-3\">\r\n            <div className=\"avatar-xs\">\r\n              <span className=\"avatar-title rounded-circle bg-soft-primary text-primary\">\r\n                {currentCall?.callerName?.trim().charAt(0) || \"C\"}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        )}\r\n        <h6>{currentCall?.callerName || currentCall?.callerNumber}</h6>\r\n      </div>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          height: \"40%\",\r\n        }}\r\n      >\r\n        <Button\r\n          type=\"button\"\r\n          color=\"none\"\r\n          onClick={() => acceptCall()}\r\n          className=\"nav-btn user-profile-show bg-primary mr-2\"\r\n          style={{\r\n            color: \"#ffffff\",\r\n          }}\r\n        >\r\n          <i className=\"ri-phone-line\"></i>\r\n        </Button>\r\n        <Button\r\n          type=\"button\"\r\n          color=\"none\"\r\n          onClick={() => acceptCall(true)}\r\n          className=\"nav-btn user-profile-show bg-success\"\r\n          style={{\r\n            color: \"#ffffff\",\r\n          }}\r\n        >\r\n          <i className=\"ri-vidicon-line\"></i>\r\n        </Button>\r\n        <Button\r\n          type=\"button\"\r\n          color=\"none\"\r\n          onClick={() => rejectCall()}\r\n          className=\"nav-btn user-profile-show bg-danger ml-2\"\r\n          style={{\r\n            color: \"#ffffff\",\r\n          }}\r\n        >\r\n          <i className=\"ri-close-line\"></i>\r\n        </Button>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default IncomingCall;\r\n"]},"metadata":{},"sourceType":"module"}