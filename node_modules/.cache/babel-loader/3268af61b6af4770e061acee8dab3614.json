{"ast":null,"code":"import React from\"react\";import{Media,Button,Row,Col}from\"reactstrap\";import{Link}from\"react-router-dom\";import{useChat}from\"../contexts/ChatContext\";import ReactImageFallback from\"react-image-fallback\";import{onImgError}from\"../helpers/ImageUtils\";import{useGroup}from\"../contexts/GroupContext\";import defaultAvatar from\"../assets/images/default.png\";import{useContact}from\"../contexts/ContactContext\";import{useModal}from\"../contexts/ModalContext\";import{useAuth}from\"../contexts/AuthContext\";import{useCall}from\"../contexts/CallContext\";import{useConference}from\"../contexts/ConferenceContext\";var ChatHead=function ChatHead(_ref){var _activeChat$members,_activeChat$members$f;var chatProfileSidebarOpen=_ref.chatProfileSidebarOpen,setChatProfileSidebarOpen=_ref.setChatProfileSidebarOpen;var _useAuth=useAuth(),user=_useAuth.user;var _useChat=useChat(),chats=_useChat.chats,activeChat=_useChat.activeChat,setChats=_useChat.setChats,setShowChat=_useChat.setShowChat;var _useGroup=useGroup(),groups=_useGroup.groups,setGroups=_useGroup.setGroups;var _useContact=useContact(),contacts=_useContact.contacts,setContacts=_useContact.setContacts;var _useConference=useConference(),conferenceList=_useConference.conferenceList;var _useModal=useModal(),setShowModalAddMember=_useModal.setShowModalAddMember;var _useCall=useCall(),setCallNumber=_useCall.setCallNumber;var ChatProfileSidebar=function ChatProfileSidebar(){setChatProfileSidebarOpen(!chatProfileSidebarOpen);};var makeCall=function makeCall(useVideo){var contact=contacts.find(function(item){return item.jid===activeChat.jid;});var group=groups.find(function(gr){return gr.jid===activeChat.jid;});var conference=conferenceList.find(function(conf){return conf.jid===activeChat.jid;});var number;if(contact)number=contact===null||contact===void 0?void 0:contact.number;else if(group)number=\"citrus-conference-authenticated-\".concat(group===null||group===void 0?void 0:group.groupId);else if(conference){var _conference$conferenc;if((_conference$conferenc=conference.conferenceRoomParticipants.find(function(part){return part.userUuid===user.id;}))===null||_conference$conferenc===void 0?void 0:_conference$conferenc.userModerator)number=\"citrus-conference_\".concat(conference.id,\"_\").concat(conference.moderatorPin);else number=\"citrus-conference_\".concat(conference.id,\"_\").concat(conference.participantPin);}if(number){setCallNumber({number:number,useAudio:true,useVideo:useVideo});}};function closeUserChat(){setShowChat(false);}var isAdmin=((_activeChat$members=activeChat.members)===null||_activeChat$members===void 0?void 0:(_activeChat$members$f=_activeChat$members.find(function(member){return member.userId===user.id;}))===null||_activeChat$members$f===void 0?void 0:_activeChat$members$f.role)===\"admin\";return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"p-3 p-lg-4 border-bottom\"},/*#__PURE__*/React.createElement(Row,{className:\"align-items-center\"},/*#__PURE__*/React.createElement(Col,{sm:4,xs:8},/*#__PURE__*/React.createElement(Media,{className:\"align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-block d-lg-none mr-2\"},/*#__PURE__*/React.createElement(Link,{to:\"#\",onClick:function onClick(){return closeUserChat();},className:\"user-chat-remove text-muted font-size-16 p-2\"},/*#__PURE__*/React.createElement(\"i\",{className:\"ri-arrow-left-s-line\"}))),activeChat.profilePicture?/*#__PURE__*/React.createElement(\"div\",{className:\"mr-3\"},/*#__PURE__*/React.createElement(ReactImageFallback,{src:activeChat.profilePicture,onError:function onError(){if(activeChat.jid.includes(\"@conference.\"))onImgError(chats,groups,contacts,setChats,setGroups,setContacts,activeChat);},style:{maxHeight:\"40px\",maxWidth:\"40px\"},fallbackImage:defaultAvatar,className:\"rounded-circle avatar-lg img-thumbnail\",alt:\"chatvia\"})):/*#__PURE__*/React.createElement(\"div\",{className:\"chat-user-img align-self-center mr-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"avatar-xs\"},/*#__PURE__*/React.createElement(\"span\",{className:\"avatar-title rounded-circle bg-soft-primary text-primary\"},activeChat.name.trim().charAt(0)))),/*#__PURE__*/React.createElement(Media,{body:true,className:\"overflow-hidden\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"font-size-16 mb-0 text-truncate\"},/*#__PURE__*/React.createElement(Link,{to:\"#\",onClick:function onClick(){return ChatProfileSidebar();},className:\"text-reset user-profile-show\"},activeChat.name),function(){switch(activeChat.status){case\"online\":return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"i\",{className:\"ri-record-circle-fill font-size-10 text-success d-inline-block ml-1\"}));case\"away\":return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"i\",{className:\"ri-record-circle-fill font-size-10 text-warning d-inline-block ml-1\"}));case\"offline\":return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"i\",{className:\"ri-record-circle-fill font-size-10 text-secondary d-inline-block ml-1\"}));default:return;}}())))),/*#__PURE__*/React.createElement(Col,{sm:8,xs:4},/*#__PURE__*/React.createElement(\"ul\",{className:\"list-inline user-chat-nav text-right mb-0\"},activeChat.jid.includes(\"@conference.\")&&isAdmin&&/*#__PURE__*/React.createElement(\"li\",{className:\"list-inline-item d-none d-lg-inline-block\"},/*#__PURE__*/React.createElement(Button,{type:\"button\",color:\"none\",onClick:function onClick(){return setShowModalAddMember(true);},className:\"nav-btn user-profile-show\"},/*#__PURE__*/React.createElement(\"i\",{className:\"ri-user-add-line\"}))),/*#__PURE__*/React.createElement(\"li\",{className:\"list-inline-item d-none d-lg-inline-block\"},/*#__PURE__*/React.createElement(Button,{type:\"button\",color:\"none\",onClick:function onClick(){makeCall(false);},className:\"nav-btn user-profile-show\"},/*#__PURE__*/React.createElement(\"i\",{className:\"ri-phone-line\"}))),/*#__PURE__*/React.createElement(\"li\",{className:\"list-inline-item d-none d-lg-inline-block\"},/*#__PURE__*/React.createElement(Button,{type:\"button\",color:\"none\",onClick:function onClick(){makeCall(true);},className:\"nav-btn user-profile-show\"},/*#__PURE__*/React.createElement(\"i\",{className:\"ri-vidicon-line\"}))),/*#__PURE__*/React.createElement(\"li\",{className:\"list-inline-item d-none d-lg-inline-block\"},/*#__PURE__*/React.createElement(Button,{type:\"button\",color:\"none\",onClick:function onClick(){return ChatProfileSidebar();},className:\"nav-btn user-profile-show\"},/*#__PURE__*/React.createElement(\"i\",{className:\"ri-menu-line\"}))))))));};export default ChatHead;/*\r\n\r\n  <li className=\"list-inline-item\">\r\n    // SEARCH\r\n    <Dropdown isOpen={dropdownOpen} toggle={toggle}>\r\n    <DropdownToggle\r\n        color=\"none\"\r\n        className=\"btn nav-btn \"\r\n        type=\"button\"\r\n    >\r\n        <i className=\"ri-search-line\"></i>\r\n    </DropdownToggle>\r\n    \r\n    <DropdownMenu right className=\"p-0  dropdown-menu-md\">\r\n        <div className=\"search-box p-2\">\r\n        <Input\r\n            type=\"text\"\r\n            className=\"form-control bg-light border-0\"\r\n            placeholder=\"Search..\"\r\n        />\r\n        </div>\r\n    </DropdownMenu>\r\n    </Dropdown>\r\n  </li>\r\n\r\n  <li className=\"list-inline-item\">\r\n    <Dropdown isOpen={dropdownOpen} toggle={toggle}>\r\n      <DropdownToggle\r\n        className=\"btn nav-btn \"\r\n        color=\"none\"\r\n        type=\"button\"\r\n      >\r\n        <i className=\"ri-more-fill\"></i>\r\n      </DropdownToggle>\r\n      <DropdownMenu right>\r\n        <DropdownItem\r\n          className=\"d-block d-lg-none user-profile-show\"\r\n          onClick={() => ChatProfileSidebar()}\r\n        >\r\n          View profile{\" \"}\r\n          <i className=\"ri-user-2-line float-right text-muted\"></i>\r\n        </DropdownItem>\r\n        <DropdownItem>\r\n          Archive{\" \"}\r\n          <i className=\"ri-archive-line float-right text-muted\"></i>\r\n        </DropdownItem>\r\n        <DropdownItem>\r\n          Muted{\" \"}\r\n          <i className=\"ri-volume-mute-line float-right text-muted\"></i>\r\n        </DropdownItem>\r\n        <DropdownItem onClick={(e) => deleteMessage(e)}>\r\n          Delete{\" \"}\r\n          <i className=\"ri-delete-bin-line float-right text-muted\"></i>\r\n        </DropdownItem>\r\n      </DropdownMenu>\r\n    </Dropdown>\r\n  </li>\r\n\r\n*/","map":{"version":3,"sources":["C:/Users/Digivox/dev/Digivox/Refatoracao/squad/src/components/ChatHead.tsx"],"names":["React","Media","Button","Row","Col","Link","useChat","ReactImageFallback","onImgError","useGroup","defaultAvatar","useContact","useModal","useAuth","useCall","useConference","ChatHead","chatProfileSidebarOpen","setChatProfileSidebarOpen","user","chats","activeChat","setChats","setShowChat","groups","setGroups","contacts","setContacts","conferenceList","setShowModalAddMember","setCallNumber","ChatProfileSidebar","makeCall","useVideo","contact","find","item","jid","group","gr","conference","conf","number","groupId","conferenceRoomParticipants","part","userUuid","id","userModerator","moderatorPin","participantPin","useAudio","closeUserChat","isAdmin","members","member","userId","role","profilePicture","includes","maxHeight","maxWidth","name","trim","charAt","status"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Media, Button, Row, Col } from \"reactstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useChat } from \"../contexts/ChatContext\";\r\nimport ReactImageFallback from \"react-image-fallback\";\r\nimport { onImgError } from \"../helpers/ImageUtils\";\r\nimport { useGroup } from \"../contexts/GroupContext\";\r\nimport defaultAvatar from \"../assets/images/default.png\";\r\nimport { useContact } from \"../contexts/ContactContext\";\r\nimport { useModal } from \"../contexts/ModalContext\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\nimport { useCall } from \"../contexts/CallContext\";\r\nimport { useConference } from \"../contexts/ConferenceContext\";\r\n\r\ninterface IProps {\r\n  chatProfileSidebarOpen: boolean;\r\n  setChatProfileSidebarOpen(value: boolean): void;\r\n}\r\n\r\nconst ChatHead: React.FC<IProps> = ({\r\n  chatProfileSidebarOpen,\r\n  setChatProfileSidebarOpen,\r\n}) => {\r\n  const { user } = useAuth();\r\n  const { chats, activeChat, setChats, setShowChat } = useChat();\r\n  const { groups, setGroups } = useGroup();\r\n  const { contacts, setContacts } = useContact();\r\n  const { conferenceList } = useConference();\r\n  const { setShowModalAddMember } = useModal();\r\n  const { setCallNumber } = useCall();\r\n\r\n  const ChatProfileSidebar = () => {\r\n    setChatProfileSidebarOpen(!chatProfileSidebarOpen);\r\n  };\r\n\r\n  const makeCall = (useVideo: boolean) => {\r\n    let contact = contacts.find((item) => item.jid === activeChat.jid);\r\n    let group = groups.find((gr) => gr.jid === activeChat.jid);\r\n    let conference = conferenceList.find((conf) => conf.jid === activeChat.jid);\r\n    let number;\r\n    if (contact) number = contact?.number;\r\n    else if (group)\r\n      number = `citrus-conference-authenticated-${group?.groupId}`;\r\n    else if (conference) {\r\n      if (\r\n        conference.conferenceRoomParticipants.find(\r\n          (part) => part.userUuid === user.id\r\n        )?.userModerator\r\n      )\r\n        number = `citrus-conference_${conference.id}_${conference.moderatorPin}`;\r\n      else\r\n        number = `citrus-conference_${conference.id}_${conference.participantPin}`;\r\n    }\r\n    if (number) {\r\n      setCallNumber({\r\n        number,\r\n        useAudio: true,\r\n        useVideo,\r\n      });\r\n    }\r\n  };\r\n  function closeUserChat() {\r\n    setShowChat(false);\r\n  }\r\n  const isAdmin =\r\n    activeChat.members?.find((member) => member.userId === user.id)?.role ===\r\n    \"admin\";\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {/* <ModalManageGroup /> */}\r\n      <div className=\"p-3 p-lg-4 border-bottom\">\r\n        <Row className=\"align-items-center\">\r\n          <Col sm={4} xs={8}>\r\n            <Media className=\"align-items-center\">\r\n              <div className=\"d-block d-lg-none mr-2\">\r\n                <Link\r\n                  to=\"#\"\r\n                  onClick={() => closeUserChat()}\r\n                  className=\"user-chat-remove text-muted font-size-16 p-2\"\r\n                >\r\n                  <i className=\"ri-arrow-left-s-line\"></i>\r\n                </Link>\r\n              </div>\r\n              {activeChat.profilePicture ? (\r\n                <div className=\"mr-3\">\r\n                  <ReactImageFallback\r\n                    src={activeChat.profilePicture}\r\n                    onError={() => {\r\n                      if (activeChat.jid.includes(\"@conference.\"))\r\n                        onImgError(\r\n                          chats,\r\n                          groups,\r\n                          contacts,\r\n                          setChats,\r\n                          setGroups,\r\n                          setContacts,\r\n                          activeChat\r\n                        );\r\n                    }}\r\n                    style={{ maxHeight: \"40px\", maxWidth: \"40px\" }}\r\n                    fallbackImage={defaultAvatar}\r\n                    className=\"rounded-circle avatar-lg img-thumbnail\"\r\n                    alt=\"chatvia\"\r\n                  />\r\n                </div>\r\n              ) : (\r\n                <div className=\"chat-user-img align-self-center mr-3\">\r\n                  <div className=\"avatar-xs\">\r\n                    <span className=\"avatar-title rounded-circle bg-soft-primary text-primary\">\r\n                      {activeChat.name.trim().charAt(0)}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              <Media body className=\"overflow-hidden\">\r\n                <h5 className=\"font-size-16 mb-0 text-truncate\">\r\n                  <Link\r\n                    to=\"#\"\r\n                    onClick={() => ChatProfileSidebar()}\r\n                    className=\"text-reset user-profile-show\"\r\n                  >\r\n                    {activeChat.name}\r\n                  </Link>\r\n                  {(() => {\r\n                    switch (activeChat.status) {\r\n                      case \"online\":\r\n                        return (\r\n                          <>\r\n                            <i className=\"ri-record-circle-fill font-size-10 text-success d-inline-block ml-1\"></i>\r\n                          </>\r\n                        );\r\n\r\n                      case \"away\":\r\n                        return (\r\n                          <>\r\n                            <i className=\"ri-record-circle-fill font-size-10 text-warning d-inline-block ml-1\"></i>\r\n                          </>\r\n                        );\r\n\r\n                      case \"offline\":\r\n                        return (\r\n                          <>\r\n                            <i className=\"ri-record-circle-fill font-size-10 text-secondary d-inline-block ml-1\"></i>\r\n                          </>\r\n                        );\r\n\r\n                      default:\r\n                        return;\r\n                    }\r\n                  })()}\r\n                </h5>\r\n              </Media>\r\n            </Media>\r\n          </Col>\r\n          <Col sm={8} xs={4}>\r\n            <ul className=\"list-inline user-chat-nav text-right mb-0\">\r\n              {activeChat.jid.includes(\"@conference.\") && isAdmin && (\r\n                <li className=\"list-inline-item d-none d-lg-inline-block\">\r\n                  <Button\r\n                    type=\"button\"\r\n                    color=\"none\"\r\n                    onClick={() => setShowModalAddMember(true)}\r\n                    className=\"nav-btn user-profile-show\"\r\n                  >\r\n                    <i className=\"ri-user-add-line\"></i>\r\n                  </Button>\r\n                </li>\r\n              )}\r\n              <li className=\"list-inline-item d-none d-lg-inline-block\">\r\n                <Button\r\n                  type=\"button\"\r\n                  color=\"none\"\r\n                  onClick={() => {\r\n                    makeCall(false);\r\n                  }}\r\n                  className=\"nav-btn user-profile-show\"\r\n                >\r\n                  <i className=\"ri-phone-line\"></i>\r\n                </Button>\r\n              </li>\r\n              <li className=\"list-inline-item d-none d-lg-inline-block\">\r\n                <Button\r\n                  type=\"button\"\r\n                  color=\"none\"\r\n                  onClick={() => {\r\n                    makeCall(true);\r\n                  }}\r\n                  className=\"nav-btn user-profile-show\"\r\n                >\r\n                  <i className=\"ri-vidicon-line\"></i>\r\n                </Button>\r\n              </li>\r\n              <li className=\"list-inline-item d-none d-lg-inline-block\">\r\n                <Button\r\n                  type=\"button\"\r\n                  color=\"none\"\r\n                  onClick={() => ChatProfileSidebar()}\r\n                  className=\"nav-btn user-profile-show\"\r\n                >\r\n                  <i className=\"ri-menu-line\"></i>\r\n                </Button>\r\n              </li>\r\n            </ul>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default ChatHead;\r\n\r\n/*\r\n\r\n  <li className=\"list-inline-item\">\r\n    // SEARCH\r\n    <Dropdown isOpen={dropdownOpen} toggle={toggle}>\r\n    <DropdownToggle\r\n        color=\"none\"\r\n        className=\"btn nav-btn \"\r\n        type=\"button\"\r\n    >\r\n        <i className=\"ri-search-line\"></i>\r\n    </DropdownToggle>\r\n    \r\n    <DropdownMenu right className=\"p-0  dropdown-menu-md\">\r\n        <div className=\"search-box p-2\">\r\n        <Input\r\n            type=\"text\"\r\n            className=\"form-control bg-light border-0\"\r\n            placeholder=\"Search..\"\r\n        />\r\n        </div>\r\n    </DropdownMenu>\r\n    </Dropdown>\r\n  </li>\r\n\r\n  <li className=\"list-inline-item\">\r\n    <Dropdown isOpen={dropdownOpen} toggle={toggle}>\r\n      <DropdownToggle\r\n        className=\"btn nav-btn \"\r\n        color=\"none\"\r\n        type=\"button\"\r\n      >\r\n        <i className=\"ri-more-fill\"></i>\r\n      </DropdownToggle>\r\n      <DropdownMenu right>\r\n        <DropdownItem\r\n          className=\"d-block d-lg-none user-profile-show\"\r\n          onClick={() => ChatProfileSidebar()}\r\n        >\r\n          View profile{\" \"}\r\n          <i className=\"ri-user-2-line float-right text-muted\"></i>\r\n        </DropdownItem>\r\n        <DropdownItem>\r\n          Archive{\" \"}\r\n          <i className=\"ri-archive-line float-right text-muted\"></i>\r\n        </DropdownItem>\r\n        <DropdownItem>\r\n          Muted{\" \"}\r\n          <i className=\"ri-volume-mute-line float-right text-muted\"></i>\r\n        </DropdownItem>\r\n        <DropdownItem onClick={(e) => deleteMessage(e)}>\r\n          Delete{\" \"}\r\n          <i className=\"ri-delete-bin-line float-right text-muted\"></i>\r\n        </DropdownItem>\r\n      </DropdownMenu>\r\n    </Dropdown>\r\n  </li>\r\n\r\n*/\r\n"]},"metadata":{},"sourceType":"module"}