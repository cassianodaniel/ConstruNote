{"ast":null,"code":"export function isGroupEvent(stanza) {\n  return stanza.getChild(\"subject\") && stanza.getChild(\"subject\").children[0] === \"KEY_ROOM_GENERAL\";\n}\nexport function isNewGroup(stanza) {\n  return stanza.getChild(\"x\") && stanza.getChild(\"x\").attrs.xmlns === \"jabber:x:conference\" && stanza.getChild(\"x\").attrs.jid;\n}\nexport function getEventId(stanza) {\n  var _stanza$getChild, _stanza$getChild$getC;\n\n  const eventId = (_stanza$getChild = stanza.getChild(\"extraParams\")) === null || _stanza$getChild === void 0 ? void 0 : (_stanza$getChild$getC = _stanza$getChild.getChild(\"key_room_event\")) === null || _stanza$getChild$getC === void 0 ? void 0 : _stanza$getChild$getC.children[0];\n  return parseInt(eventId);\n}\nexport function getEventBody(stanza) {\n  var _stanza$getChild2, _stanza$getChild2$get;\n\n  const eventBody = (_stanza$getChild2 = stanza.getChild(\"extraParams\")) === null || _stanza$getChild2 === void 0 ? void 0 : (_stanza$getChild2$get = _stanza$getChild2.getChild(\"key_room_event_body\")) === null || _stanza$getChild2$get === void 0 ? void 0 : _stanza$getChild2$get.children[0];\n  return eventBody;\n}\nexport function isTextMessage(stanza) {\n  return stanza.getChild(\"body\") !== undefined && (!stanza.getChild(\"x\") || stanza.getChild(\"x\").attrs.xmlns !== \"jabber:x:oob\");\n}\nexport function isFileMessage(stanza) {\n  return stanza.getChild(\"x\") && stanza.getChild(\"x\").attrs.xmlns === \"jabber:x:oob\";\n}\nexport function isReceived(stanza) {\n  return !!stanza.getChild(\"received\");\n}\nexport function isDisplayed(stanza) {\n  return !!stanza.getChild(\"displayed\");\n}\nexport function isComposing(stanza) {\n  return !!stanza.getChild(\"composing\");\n}\nexport function isActive(stanza) {\n  return !!stanza.getChild(\"active\");\n}\nexport function getReceivedMessageId(stanza) {\n  return stanza.getChild(\"received\").attrs.id;\n}\nexport function getDisplayedMessageId(stanza) {\n  return stanza.getChild(\"displayed\").attrs.id;\n}\nexport function getMessage(stanza) {\n  if (isTextMessage(stanza)) {\n    return stanza.getChild(\"body\").children[0];\n  }\n}\nexport function getFileUrl(stanza) {\n  return stanza.getChild(\"body\").children[0];\n}\nexport function getMessageId(stanza) {\n  return stanza.attrs.id;\n}\nexport function getFrom(stanza) {\n  if (stanza.attrs.from.includes(\"@conference.\")) {\n    return stanza.attrs.from;\n  }\n\n  return stanza.attrs.from.split(\"/\")[0];\n}\nexport function getTo(stanza) {\n  return stanza.attrs.to.split(\"/\")[0];\n}\nexport function getMessageType(stanza) {\n  return stanza.attrs.type;\n}\nexport function getMessagFileUrl(stanza) {\n  return stanza.getChild(\"body\").children[0];\n}\nexport function getReplyTo(stanza) {\n  var _stanza$getChild3, _stanza$getChild3$get;\n\n  if ((_stanza$getChild3 = stanza.getChild(\"extraParams\")) === null || _stanza$getChild3 === void 0 ? void 0 : (_stanza$getChild3$get = _stanza$getChild3.getChild(\"reply_to\")) === null || _stanza$getChild3$get === void 0 ? void 0 : _stanza$getChild3$get.children) return stanza.getChild(\"extraParams\").getChild(\"reply_to\").children[0];else return undefined;\n}\nexport function getReplyMsg(stanza) {\n  var _stanza$getChild4, _stanza$getChild4$get;\n\n  if ((_stanza$getChild4 = stanza.getChild(\"extraParams\")) === null || _stanza$getChild4 === void 0 ? void 0 : (_stanza$getChild4$get = _stanza$getChild4.getChild(\"reply_msg\")) === null || _stanza$getChild4$get === void 0 ? void 0 : _stanza$getChild4$get.children) return stanza.getChild(\"extraParams\").getChild(\"reply_msg\").children[0];else return undefined;\n}\nexport function getReplyMsgId(stanza) {\n  var _stanza$getChild5, _stanza$getChild5$get;\n\n  if ((_stanza$getChild5 = stanza.getChild(\"extraParams\")) === null || _stanza$getChild5 === void 0 ? void 0 : (_stanza$getChild5$get = _stanza$getChild5.getChild(\"reply_msg_id\")) === null || _stanza$getChild5$get === void 0 ? void 0 : _stanza$getChild5$get.children) return stanza.getChild(\"extraParams\").getChild(\"reply_msg_id\").children[0];else return undefined;\n}","map":{"version":3,"sources":["C:/Users/Digivox/dev/Digivox/Refatoracao/squad/src/services/chat/util/stanzaUtils.ts"],"names":["isGroupEvent","stanza","getChild","children","isNewGroup","attrs","xmlns","jid","getEventId","eventId","parseInt","getEventBody","eventBody","isTextMessage","undefined","isFileMessage","isReceived","isDisplayed","isComposing","isActive","getReceivedMessageId","id","getDisplayedMessageId","getMessage","getFileUrl","getMessageId","getFrom","from","includes","split","getTo","to","getMessageType","type","getMessagFileUrl","getReplyTo","getReplyMsg","getReplyMsgId"],"mappings":"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","sourcesContent":["export function isGroupEvent(stanza: any) {\r\n  return (\r\n    stanza.getChild(\"subject\") &&\r\n    stanza.getChild(\"subject\").children[0] === \"KEY_ROOM_GENERAL\"\r\n  );\r\n}\r\nexport function isNewGroup(stanza: any){\r\n  return(\r\n    stanza.getChild(\"x\") &&\r\n    stanza.getChild(\"x\").attrs.xmlns === \"jabber:x:conference\" &&\r\n    stanza.getChild(\"x\").attrs.jid \r\n  )\r\n}\r\nexport function getEventId(stanza: any) {\r\n  const eventId: string = stanza\r\n    .getChild(\"extraParams\")\r\n    ?.getChild(\"key_room_event\")?.children[0];\r\n  return parseInt(eventId);\r\n}\r\nexport function getEventBody(stanza: any) {\r\n  const eventBody: string = stanza\r\n    .getChild(\"extraParams\")\r\n    ?.getChild(\"key_room_event_body\")?.children[0];\r\n  return eventBody;\r\n}\r\nexport function isTextMessage(stanza: any) {\r\n  return (\r\n    stanza.getChild(\"body\") !== undefined &&\r\n    (!stanza.getChild(\"x\") ||\r\n      stanza.getChild(\"x\").attrs.xmlns !== \"jabber:x:oob\")\r\n  );\r\n}\r\nexport function isFileMessage(stanza: any) {\r\n  return (\r\n    stanza.getChild(\"x\") && stanza.getChild(\"x\").attrs.xmlns === \"jabber:x:oob\"\r\n  );\r\n}\r\nexport function isReceived(stanza: any) {\r\n  return !!stanza.getChild(\"received\");\r\n}\r\nexport function isDisplayed(stanza: any) {\r\n  return !!stanza.getChild(\"displayed\");\r\n}\r\nexport function isComposing(stanza: any) {\r\n  return !!stanza.getChild(\"composing\");\r\n}\r\nexport function isActive(stanza: any) {\r\n  return !!stanza.getChild(\"active\");\r\n}\r\nexport function getReceivedMessageId(stanza: any) {\r\n  return stanza.getChild(\"received\").attrs.id;\r\n}\r\nexport function getDisplayedMessageId(stanza: any) {\r\n  return stanza.getChild(\"displayed\").attrs.id;\r\n}\r\nexport function getMessage(stanza: any) {\r\n  if (isTextMessage(stanza)) {\r\n    return stanza.getChild(\"body\").children[0];\r\n  }\r\n}\r\nexport function getFileUrl(stanza: any) {\r\n  return stanza.getChild(\"body\").children[0];\r\n}\r\nexport function getMessageId(stanza: any) {\r\n  return stanza.attrs.id;\r\n}\r\nexport function getFrom(stanza: any): string {\r\n  if (stanza.attrs.from.includes(\"@conference.\")) {\r\n    return stanza.attrs.from;\r\n  }\r\n  return stanza.attrs.from.split(\"/\")[0];\r\n}\r\nexport function getTo(stanza: any) {\r\n  return stanza.attrs.to.split(\"/\")[0];\r\n}\r\nexport function getMessageType(stanza: any) {\r\n  return stanza.attrs.type;\r\n}\r\nexport function getMessagFileUrl(stanza: any) {\r\n  return stanza.getChild(\"body\").children[0];\r\n}\r\nexport function getReplyTo(stanza: any) {\r\n  if (stanza.getChild(\"extraParams\")?.getChild(\"reply_to\")?.children)\r\n    return stanza.getChild(\"extraParams\").getChild(\"reply_to\").children[0];\r\n  else return undefined;\r\n}\r\nexport function getReplyMsg(stanza: any) {\r\n  if (stanza.getChild(\"extraParams\")?.getChild(\"reply_msg\")?.children)\r\n    return stanza.getChild(\"extraParams\").getChild(\"reply_msg\").children[0];\r\n  else return undefined;\r\n}\r\nexport function getReplyMsgId(stanza: any) {\r\n  if (stanza.getChild(\"extraParams\")?.getChild(\"reply_msg_id\")?.children)\r\n    return stanza.getChild(\"extraParams\").getChild(\"reply_msg_id\").children[0];\r\n  else return undefined;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}