{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Digivox\\\\dev\\\\Digivox\\\\Refatoracao\\\\squad\\\\src\\\\components\\\\ChatHeadConference.tsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { Dropdown, DropdownMenu, DropdownItem, DropdownToggle, Media, Button, Row, Col } from \"reactstrap\";\nimport { Link } from \"react-router-dom\";\nimport { useChat } from \"../contexts/ChatContext\";\nimport { useTranslation } from \"react-i18next\";\nimport ReactImageFallback from \"react-image-fallback\";\nimport defaultAvatar from \"../assets/images/default.png\";\nimport { onImgError } from \"../helpers/ImageUtils\";\nimport { useGroup } from \"../contexts/GroupContext\";\nimport { useContact } from \"../contexts/ContactContext\";\nimport { zeroLeft } from \"../helpers/zeroLeft\";\nimport { useCall } from \"../contexts/CallContext\";\n\nconst ChatHeadConference = ({\n  chatProfileSidebarOpen,\n  setChatProfileSidebarOpen\n}) => {\n  const {\n    chats,\n    activeChat,\n    setChats,\n    setShowChat\n  } = useChat();\n  const {\n    groups,\n    setGroups\n  } = useGroup();\n  const {\n    contacts,\n    setContacts\n  } = useContact();\n  const {\n    currentCall\n  } = useCall();\n  const [sec, setSec] = useState(0);\n  const [mute, setMute] = useState(false);\n  const [dropdownOpen, setDropdownOpen] = useState(false);\n\n  const toggle = () => setDropdownOpen(!dropdownOpen);\n\n  const ChatProfileSidebar = () => {\n    setChatProfileSidebarOpen(!chatProfileSidebarOpen);\n  };\n\n  function closeUserChat() {\n    setShowChat(false);\n  }\n\n  function deleteMessage(e) {}\n\n  const init = () => {\n    var loop = setTimeout(() => {\n      setSec(sec + 1);\n    }, 1000);\n    return () => clearTimeout(loop);\n  };\n\n  function segundosParaHora() {\n    var horas = Math.floor(sec / (60 * 60));\n    var resto = sec % (60 * 60);\n    var minutos = Math.floor(sec / 60);\n    resto %= 60;\n    var segundos = Math.ceil(resto);\n    return `${zeroLeft(horas, 2)}:${zeroLeft(minutos, 2)}:${zeroLeft(segundos, 2)}`;\n  }\n\n  useEffect(init, [sec]);\n  const {\n    t\n  } = useTranslation();\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-3 border-bottom\",\n    style: {\n      backgroundColor: \"#e6ebf5\",\n      height: \"89px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    sm: 4,\n    xs: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Media, {\n    className: \"align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-block d-lg-none mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"#\",\n    onClick: () => closeUserChat(),\n    className: \"user-chat-remove text-muted font-size-16 p-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ri-arrow-left-s-line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 19\n    }\n  }))), activeChat.profilePicture ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mr-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ReactImageFallback, {\n    src: activeChat.profilePicture,\n    onError: () => {\n      if (activeChat.jid.includes(\"@conference.\")) onImgError(chats, groups, contacts, setChats, setGroups, setContacts, activeChat);\n    },\n    style: {\n      maxHeight: \"40px\",\n      maxWidth: \"40px\"\n    },\n    fallbackImage: defaultAvatar,\n    className: \"rounded-circle avatar-lg img-thumbnail\",\n    alt: \"chatvia\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 19\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-user-img align-self-center mr-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"avatar-xs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"avatar-title rounded-circle bg-soft-primary text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 21\n    }\n  }, activeChat.name.trim().charAt(0)))), /*#__PURE__*/React.createElement(Media, {\n    body: true,\n    className: \"overflow-hidden\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"font-size-16 mb-0 text-truncate\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"#\",\n    onClick: () => ChatProfileSidebar(),\n    className: \"text-reset user-profile-show\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 23\n    }\n  }, activeChat.name), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-muted h7 mt-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 23\n    }\n  }, \"Kaline, Vinicius, Lucas, Romero, Daniel e 2+\"))))))), /*#__PURE__*/React.createElement(Col, {\n    sm: 8,\n    xs: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"list-inline user-chat-nav text-right mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"list-inline-item d-none d-lg-inline-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-center align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"h4 mr-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 19\n    }\n  }, t(\"Call In Progress\")), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"h4 d-flex justify-content-center align-items-center\",\n    style: {\n      width: \"100px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 19\n    }\n  }, segundosParaHora()))), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"list-inline-item d-none d-lg-inline-block ml-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    color: \"none\",\n    onClick: () => (currentCall === null || currentCall === void 0 ? void 0 : currentCall.endCall) && currentCall.endCall(),\n    className: \"nav-btn user-profile-show btn-head-conference red\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ri-phone-line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"list-inline-item d-none d-lg-inline-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    color: \"none\",\n    onClick: () => setMute(!mute),\n    className: `nav-btn user-profile-show btn-head-conference ${mute ? \"red\" : \"white\"}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 17\n    }\n  }, !mute ? /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ri-mic-line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 21\n    }\n  }) : /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ri-mic-off-line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"list-inline-item d-none d-lg-inline-block mr-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    color: \"none\",\n    onClick: () => alert(\"start video\"),\n    className: \"nav-btn user-profile-show btn-head-conference white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ri-vidicon-line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"list-inline-item d-none d-lg-inline-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    color: \"none\",\n    onClick: () => ChatProfileSidebar(),\n    className: \"nav-btn user-profile-show d-flex justify-content-center align-items-center h-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ri-user-2-line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"list-inline-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown, {\n    isOpen: dropdownOpen,\n    toggle: toggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(DropdownToggle, {\n    className: \"btn nav-btn d-flex justify-content-center align-items-center h-100\",\n    color: \"none\",\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ri-more-fill\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(DropdownMenu, {\n    right: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(DropdownItem, {\n    className: \"d-block d-lg-none user-profile-show\",\n    onClick: () => ChatProfileSidebar(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 21\n    }\n  }, t(\"View profile\"), \" \", /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ri-user-2-line float-right text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(DropdownItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 21\n    }\n  }, t(\"Archive\"), \" \", /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ri-archive-line float-right text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(DropdownItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 21\n    }\n  }, t(\"Muted\"), \" \", /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ri-volume-mute-line float-right text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(DropdownItem, {\n    onClick: e => deleteMessage(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 21\n    }\n  }, t(\"Remove\"), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ri-delete-bin-line float-right text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 23\n    }\n  }))))))))));\n};\n\nexport default ChatHeadConference;","map":{"version":3,"sources":["C:/Users/Digivox/dev/Digivox/Refatoracao/squad/src/components/ChatHeadConference.tsx"],"names":["React","useState","useEffect","Dropdown","DropdownMenu","DropdownItem","DropdownToggle","Media","Button","Row","Col","Link","useChat","useTranslation","ReactImageFallback","defaultAvatar","onImgError","useGroup","useContact","zeroLeft","useCall","ChatHeadConference","chatProfileSidebarOpen","setChatProfileSidebarOpen","chats","activeChat","setChats","setShowChat","groups","setGroups","contacts","setContacts","currentCall","sec","setSec","mute","setMute","dropdownOpen","setDropdownOpen","toggle","ChatProfileSidebar","closeUserChat","deleteMessage","e","init","loop","setTimeout","clearTimeout","segundosParaHora","horas","Math","floor","resto","minutos","segundos","ceil","t","backgroundColor","height","profilePicture","jid","includes","maxHeight","maxWidth","name","trim","charAt","width","endCall","alert"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Dropdown,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  DropdownToggle,\r\n  Media,\r\n  Button,\r\n  Row,\r\n  Col,\r\n} from \"reactstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useChat } from \"../contexts/ChatContext\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport ReactImageFallback from \"react-image-fallback\";\r\nimport defaultAvatar from \"../assets/images/default.png\";\r\nimport { onImgError } from \"../helpers/ImageUtils\";\r\nimport { useGroup } from \"../contexts/GroupContext\";\r\nimport { useContact } from \"../contexts/ContactContext\";\r\nimport { zeroLeft } from \"../helpers/zeroLeft\";\r\nimport { useCall } from \"../contexts/CallContext\";\r\n\r\ninterface IProps {\r\n  chatProfileSidebarOpen: boolean;\r\n  setChatProfileSidebarOpen(value: boolean): void;\r\n}\r\n\r\nconst ChatHeadConference: React.FC<IProps> = ({\r\n  chatProfileSidebarOpen,\r\n  setChatProfileSidebarOpen,\r\n}) => {\r\n  const { chats, activeChat, setChats, setShowChat } = useChat();\r\n  const { groups, setGroups } = useGroup();\r\n  const { contacts, setContacts } = useContact();\r\n  const { currentCall } = useCall();\r\n\r\n  const [sec, setSec] = useState(0);\r\n\r\n  const [mute, setMute] = useState(false);\r\n  const [dropdownOpen, setDropdownOpen] = useState(false);\r\n\r\n  const toggle = () => setDropdownOpen(!dropdownOpen);\r\n\r\n  const ChatProfileSidebar = () => {\r\n    setChatProfileSidebarOpen(!chatProfileSidebarOpen);\r\n  };\r\n\r\n  function closeUserChat() {\r\n    setShowChat(false);\r\n  }\r\n\r\n  function deleteMessage(e: any) {}\r\n\r\n  const init = () => {\r\n    var loop = setTimeout(() => {\r\n      setSec(sec + 1);\r\n    }, 1000);\r\n\r\n    return () => clearTimeout(loop);\r\n  };\r\n\r\n  function segundosParaHora() {\r\n    var horas = Math.floor(sec / (60 * 60));\r\n\r\n    var resto = sec % (60 * 60);\r\n    var minutos = Math.floor(sec / 60);\r\n\r\n    resto %= 60;\r\n    var segundos = Math.ceil(resto);\r\n\r\n    return `${zeroLeft(horas, 2)}:${zeroLeft(minutos, 2)}:${zeroLeft(\r\n      segundos,\r\n      2\r\n    )}`;\r\n  }\r\n\r\n  useEffect(init, [sec]);\r\n\r\n  const { t } = useTranslation();\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div\r\n        className=\"p-3 border-bottom\"\r\n        style={{ backgroundColor: \"#e6ebf5\", height: \"89px\" }}\r\n      >\r\n        <Row className=\"align-items-center\">\r\n          <Col sm={4} xs={8}>\r\n            <Media className=\"align-items-center\">\r\n              <div className=\"d-block d-lg-none mr-2\">\r\n                <Link\r\n                  to=\"#\"\r\n                  onClick={() => closeUserChat()}\r\n                  className=\"user-chat-remove text-muted font-size-16 p-2\"\r\n                >\r\n                  <i className=\"ri-arrow-left-s-line\"></i>\r\n                </Link>\r\n              </div>\r\n              {activeChat.profilePicture ? (\r\n                <div className=\"mr-3\">\r\n                  <ReactImageFallback\r\n                    src={activeChat.profilePicture}\r\n                    onError={() => {\r\n                      if (activeChat.jid.includes(\"@conference.\"))\r\n                        onImgError(\r\n                          chats,\r\n                          groups,\r\n                          contacts,\r\n                          setChats,\r\n                          setGroups,\r\n                          setContacts,\r\n                          activeChat\r\n                        );\r\n                    }}\r\n                    style={{ maxHeight: \"40px\", maxWidth: \"40px\" }}\r\n                    fallbackImage={defaultAvatar}\r\n                    className=\"rounded-circle avatar-lg img-thumbnail\"\r\n                    alt=\"chatvia\"\r\n                  />\r\n                </div>\r\n              ) : (\r\n                <div className=\"chat-user-img align-self-center mr-3\">\r\n                  <div className=\"avatar-xs\">\r\n                    <span className=\"avatar-title rounded-circle bg-soft-primary text-primary\">\r\n                      {activeChat.name.trim().charAt(0)}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              <Media body className=\"overflow-hidden\">\r\n                <h5 className=\"font-size-16 mb-0 text-truncate\">\r\n                  <Link\r\n                    to=\"#\"\r\n                    onClick={() => ChatProfileSidebar()}\r\n                    className=\"text-reset user-profile-show\"\r\n                  >\r\n                    <div className=\"p-1\">\r\n                      <div>{activeChat.name}</div>\r\n                      <div className=\"text-muted h7 mt-1\">\r\n                        Kaline, Vinicius, Lucas, Romero, Daniel e 2+\r\n                      </div>\r\n                    </div>\r\n                  </Link>\r\n                </h5>\r\n              </Media>\r\n            </Media>\r\n          </Col>\r\n          <Col sm={8} xs={4}>\r\n            <ul className=\"list-inline user-chat-nav text-right mb-0\">\r\n              <li className=\"list-inline-item d-none d-lg-inline-block\">\r\n                <div className=\"d-flex justify-content-center align-items-center\">\r\n                  <span className=\"h4 mr-3\">{t(\"Call In Progress\")}</span>\r\n                  <span\r\n                    className=\"h4 d-flex justify-content-center align-items-center\"\r\n                    style={{ width: \"100px\" }}\r\n                  >\r\n                    {segundosParaHora()}\r\n                  </span>\r\n                </div>\r\n              </li>\r\n              <li className=\"list-inline-item d-none d-lg-inline-block ml-3\">\r\n                <Button\r\n                  type=\"button\"\r\n                  color=\"none\"\r\n                  onClick={() => currentCall?.endCall && currentCall.endCall()}\r\n                  className=\"nav-btn user-profile-show btn-head-conference red\"\r\n                >\r\n                  <i className=\"ri-phone-line\"></i>\r\n                </Button>\r\n              </li>\r\n\r\n              <li className=\"list-inline-item d-none d-lg-inline-block\">\r\n                <Button\r\n                  type=\"button\"\r\n                  color=\"none\"\r\n                  onClick={() => setMute(!mute)}\r\n                  className={`nav-btn user-profile-show btn-head-conference ${\r\n                    mute ? \"red\" : \"white\"\r\n                  }`}\r\n                >\r\n                  {!mute ? (\r\n                    <i className=\"ri-mic-line\"></i>\r\n                  ) : (\r\n                    <i className=\"ri-mic-off-line\"></i>\r\n                  )}\r\n                </Button>\r\n              </li>\r\n\r\n              <li className=\"list-inline-item d-none d-lg-inline-block mr-3\">\r\n                <Button\r\n                  type=\"button\"\r\n                  color=\"none\"\r\n                  onClick={() => alert(\"start video\")}\r\n                  className=\"nav-btn user-profile-show btn-head-conference white\"\r\n                >\r\n                  <i className=\"ri-vidicon-line\"></i>\r\n                </Button>\r\n              </li>\r\n\r\n              <li className=\"list-inline-item d-none d-lg-inline-block\">\r\n                <Button\r\n                  type=\"button\"\r\n                  color=\"none\"\r\n                  onClick={() => ChatProfileSidebar()}\r\n                  className=\"nav-btn user-profile-show d-flex justify-content-center align-items-center h-100\"\r\n                >\r\n                  <i className=\"ri-user-2-line\"></i>\r\n                </Button>\r\n              </li>\r\n\r\n              <li className=\"list-inline-item\">\r\n                <Dropdown isOpen={dropdownOpen} toggle={toggle}>\r\n                  <DropdownToggle\r\n                    className=\"btn nav-btn d-flex justify-content-center align-items-center h-100\"\r\n                    color=\"none\"\r\n                    type=\"button\"\r\n                  >\r\n                    <i className=\"ri-more-fill\"></i>\r\n                  </DropdownToggle>\r\n                  <DropdownMenu right>\r\n                    <DropdownItem\r\n                      className=\"d-block d-lg-none user-profile-show\"\r\n                      onClick={() => ChatProfileSidebar()}\r\n                    >\r\n                      {t(\"View profile\")}{\" \"}\r\n                      <i className=\"ri-user-2-line float-right text-muted\"></i>\r\n                    </DropdownItem>\r\n                    <DropdownItem>\r\n                      {t(\"Archive\")}{\" \"}\r\n                      <i className=\"ri-archive-line float-right text-muted\"></i>\r\n                    </DropdownItem>\r\n                    <DropdownItem>\r\n                      {t(\"Muted\")}{\" \"}\r\n                      <i className=\"ri-volume-mute-line float-right text-muted\"></i>\r\n                    </DropdownItem>\r\n                    <DropdownItem onClick={(e) => deleteMessage(e)}>\r\n                      {t(\"Remove\")}\r\n                      <i className=\"ri-delete-bin-line float-right text-muted\"></i>\r\n                    </DropdownItem>\r\n                  </DropdownMenu>\r\n                </Dropdown>\r\n              </li>\r\n            </ul>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default ChatHeadConference;\r\n"]},"metadata":{},"sourceType":"module"}