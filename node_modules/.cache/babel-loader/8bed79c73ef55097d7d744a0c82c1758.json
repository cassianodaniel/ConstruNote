{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Digivox\\\\dev\\\\Digivox\\\\Refatoracao\\\\squad\\\\src\\\\components\\\\VideoBox.tsx\";\nimport React, { useState } from \"react\";\nimport { useCall } from \"../contexts/CallContext\";\nimport { tagsRange } from \"../services/voice/voicecommunicator\";\nimport { motion } from \"framer-motion\";\nimport { height, width } from \"../helpers/windowSize\";\nimport { Button, DropdownItem, DropdownMenu, DropdownToggle\n/* Tooltip */\n, Tooltip, UncontrolledDropdown } from \"reactstrap\";\nimport Swal from \"sweetalert2\";\nimport { useTranslation } from \"react-i18next\";\nimport { useConference } from \"../contexts/ConferenceContext\";\nimport CopyModeratorLinkButtonInActiveCall from \"./CopyModeratorLinkButtonInActiveCall\";\nimport CopyParticipantLinkButtonInActiveCall from \"./CopyParticipantLinkButtonInActiveCall\";\nimport { useAuth } from \"../contexts/AuthContext\";\n\nconst VideoBox = () => {\n  var _activeConference$con, _activeConference$con2;\n\n  const {\n    t\n  } = useTranslation();\n  const {\n    activeConference\n  } = useConference();\n\n  const toggleOpacity = () => {\n    if (flagToTimeOut === true) {\n      setFlagToOpacity(true);\n      setFlagToTimeOut(false);\n      setTimeout(() => {\n        setFlagToOpacity(false);\n        setFlagToTimeOut(true);\n      }, 6000);\n    }\n  };\n\n  const [flagToOpacity, setFlagToOpacity] = useState(false);\n  const [flagToTimeOut, setFlagToTimeOut] = useState(true);\n  const [widthBox, setWidthBox] = useState(400);\n  const [pictureInPictureEnabled, setPictureInPictureEnabled] = useState(false);\n  const [pictureInPictureTag, setPictureInPictureTag] = useState(undefined);\n  const {\n    currentCalls,\n    setConferenceCommand\n  } = useCall();\n  const {\n    user\n  } = useAuth();\n\n  const togglePictureInPicture = tagId => {\n    const doc = document;\n\n    if (!doc.pictureInPictureElement && doc.pictureInPictureEnabled) {\n      const video = document.querySelector(`#remote-stream-${tagId}`);\n      video === null || video === void 0 ? void 0 : video.requestPictureInPicture().catch(error => {});\n    } else {\n      if (doc.pictureInPictureEnabled) {\n        document.exitPictureInPicture().catch(error => {});\n      }\n    }\n  };\n\n  const listenPictureInPictureChanges = () => {\n    tagsRange.forEach(tagId => {\n      const videoEl = document.querySelector(`#remote-stream-${tagId}`);\n\n      if (videoEl && !videoEl.disablePictureInPicture) {\n        videoEl.addEventListener(\"enterpictureinpicture\", () => {\n          // Video entered Picture-in-Picture mode.\n          setPictureInPictureEnabled(true);\n          setPictureInPictureTag(tagId);\n        });\n        videoEl.addEventListener(\"leavepictureinpicture\", () => {\n          // Video left Picture-in-Picture mode.\n          setPictureInPictureEnabled(false);\n          setPictureInPictureTag(undefined);\n        });\n      }\n    });\n  };\n\n  const removeListeners = () => {\n    tagsRange.forEach(tagId => {\n      const videoEl = document.querySelector(`#remote-stream-${tagId}`);\n\n      if (videoEl) {\n        videoEl.removeEventListener(\"enterpictureinpicture\", () => {});\n        videoEl.removeEventListener(\"leavepictureinpicture\", () => {});\n      }\n    });\n  };\n\n  const isVisible = tagId => {\n    const callTag = getCallByTag(tagId);\n    return callTag && pictureInPictureTag !== tagId && (callTag.sendingVideo || (callTag === null || callTag === void 0 ? void 0 : callTag.receivingVideo));\n  };\n\n  const getCallByTag = tagId => {\n    return Array.from(currentCalls.values()).find(call => call.tagId === `remote-stream-${tagId}`);\n  };\n\n  const getCallerObjectId = callerObject => {\n    return callerObject.id || callerObject.groupId || callerObject.id;\n  };\n\n  const isConference = call => {\n    if (call) return !!(call.callerObject.participantPin || call.callerObject.groupId);\n    return false;\n  };\n\n  const sendConfCommand = (call, command) => {\n    if (call) {\n      if (command === \"tmute\") {\n        call.sendDTMF(\"0\");\n      } else if (command === \"tvmute\") {\n        call.sendDTMF(\"*\");\n      }\n    }\n  };\n\n  removeListeners();\n  listenPictureInPictureChanges();\n  const [tooltipOpen100, setTooltipOpen100] = useState(false);\n  const [tooltipOpen101, setTooltipOpen101] = useState(false);\n  const [tooltipOpen102, setTooltipOpen102] = useState(false);\n  const [tooltipOpen103, setTooltipOpen103] = useState(false);\n  const [tooltipOpen104, setTooltipOpen104] = useState(false);\n  const [tooltipOpen105, setTooltipOpen105] = useState(false);\n  const [tooltipOpen106, setTooltipOpen106] = useState(false);\n  const [tooltipOpen107, setTooltipOpen107] = useState(false);\n  const [tooltipOpen108, setTooltipOpen108] = useState(false);\n  const [tooltipOpen109, setTooltipOpen109] = useState(false);\n  const [tooltipOpen110, setTooltipOpen110] = useState(false);\n  const [tooltipOpen111, setTooltipOpen111] = useState(false);\n  const [tooltipOpen112, setTooltipOpen112] = useState(false);\n  const [tooltipOpen113, setTooltipOpen113] = useState(false);\n\n  const toggleTooltip100 = () => setTooltipOpen100(!tooltipOpen100);\n\n  const toggleTooltip101 = () => setTooltipOpen101(!tooltipOpen101);\n\n  const toggleTooltip102 = () => setTooltipOpen102(!tooltipOpen102);\n\n  const toggleTooltip103 = () => setTooltipOpen103(!tooltipOpen103);\n\n  const toggleTooltip104 = () => setTooltipOpen104(!tooltipOpen104);\n\n  const toggleTooltip105 = () => setTooltipOpen105(!tooltipOpen105);\n\n  const toggleTooltip106 = () => setTooltipOpen106(!tooltipOpen106);\n\n  const toggleTooltip107 = () => setTooltipOpen107(!tooltipOpen107);\n\n  const toggleTooltip108 = () => setTooltipOpen108(!tooltipOpen108);\n\n  const toggleTooltip109 = () => setTooltipOpen109(!tooltipOpen109);\n\n  const toggleTooltip110 = () => setTooltipOpen110(!tooltipOpen110);\n\n  const toggleTooltip111 = () => setTooltipOpen111(!tooltipOpen111);\n\n  const toggleTooltip112 = () => setTooltipOpen112(!tooltipOpen112);\n\n  const toggleTooltip113 = () => setTooltipOpen113(!tooltipOpen113);\n\n  const layouts = call => {\n    if ((call === null || call === void 0 ? void 0 : call.callerObject) && isConference(call)) {\n      const conferenceId = getCallerObjectId(call.callerObject);\n      const layoutsName = {\n        \"group:grid\": \"Distribute in degree\",\n        \"group:grid-zoom\": \"Highlight users\",\n        \"1up_top_left+9\": \"Highlight who talks to others around\",\n        overlaps: \"Highlight who talks to others below\",\n        \"presenter-overlap-small-bot-right\": \"Highlight presentation\"\n      };\n      return Object.keys(layoutsName).map(k => /*#__PURE__*/React.createElement(DropdownItem, {\n        onClick: () => {\n          setConferenceCommand({\n            command: \"setLayout\",\n            conferenceId,\n            extraParam: k\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"text-muted\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }\n      }, t(layoutsName[k]))));\n    }\n  };\n\n  const boxVideo = {\n    position: \"fixed\",\n    right: \"50px\",\n    bottom: \"50px\",\n    zIndex: 100,\n    maxWidth: `${widthBox}px`,\n    borderRadius: \"2px\",\n    backgroundColor: \"#000000\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  };\n  const video = {\n    position: \"relative\",\n    width: `${widthBox}px`\n  };\n  const optionBox = {\n    position: \"absolute\",\n    zIndex: 110,\n    top: \"2%\",\n    right: \"2%\",\n    color: \"#ffffff\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  };\n  const option = {\n    cursor: \"pointer\",\n    marginLeft: \"5px\",\n    fontSize: \"18px\",\n    padding: \"5px\"\n  };\n  const buttonBox = {\n    position: \"absolute\",\n    zIndex: 10,\n    width: \"100%\",\n    bottom: 0,\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    flexDirection: \"row\"\n  };\n  const plus = {\n    position: \"absolute\",\n    bottom: \"10px\",\n    right: \"10px\",\n    zIndex: 13,\n    color: \"black\"\n  };\n  const minus = {\n    position: \"absolute\",\n    bottom: \"10px\",\n    right: \"30px\",\n    zIndex: 13,\n    color: \"black\"\n  };\n  const amIaModerator = (activeConference === null || activeConference === void 0 ? void 0 : (_activeConference$con = activeConference.conferenceRoomParticipants) === null || _activeConference$con === void 0 ? void 0 : (_activeConference$con2 = _activeConference$con.find(member => member.userUuid === user.id)) === null || _activeConference$con2 === void 0 ? void 0 : _activeConference$con2.userModerator) === true;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 5\n    }\n  }, tagsRange.map(tagId => {\n    var _getCallByTag4, _getCallByTag5, _getCallByTag9, _getCallByTag10, _getCallByTag15, _getCallByTag16, _getCallByTag17, _getCallByTag17$confe;\n\n    return /*#__PURE__*/React.createElement(motion.div, {\n      drag: true,\n      dragConstraints: {\n        top: (height() - 400) * -1,\n        bottom: height() - 1100,\n        left: (width() - 500) * -1,\n        right: 0\n      },\n      style: { ...boxVideo,\n        display: isVisible(tagId) ? boxVideo.display : \"none\"\n      },\n      key: `remote-stream-${tagId}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: optionBox,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 11\n      }\n    }, flagToOpacity && document.pictureInPictureEnabled ? /*#__PURE__*/React.createElement(React.Fragment, null, flagToOpacity && activeConference && amIaModerator && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(CopyModeratorLinkButtonInActiveCall, {\n      moderatorLink: activeConference === null || activeConference === void 0 ? void 0 : activeConference.anonymousModeratorUrl,\n      buttonIcon: \"ri-link-unlink\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 23\n      }\n    })), flagToOpacity && activeConference && amIaModerator && /*#__PURE__*/React.createElement(CopyParticipantLinkButtonInActiveCall, {\n      participantLink: activeConference === null || activeConference === void 0 ? void 0 : activeConference.anonymousParticipantUrl,\n      buttonIcon: \"ri-links-line\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 23\n      }\n    }), !pictureInPictureEnabled && /*#__PURE__*/React.createElement(\"div\", {\n      style: option,\n      onClick: () => togglePictureInPicture(tagId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      style: {\n        backgroundColor: \"white\",\n        borderRadius: 4,\n        color: \"black\"\n      },\n      className: \"ri-picture-in-picture-2-line\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 21\n      }\n    })), pictureInPictureTag === tagId && /*#__PURE__*/React.createElement(\"div\", {\n      style: option,\n      onClick: () => togglePictureInPicture(tagId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      style: {\n        backgroundColor: \"white\",\n        borderRadius: 4,\n        color: \"black\"\n      },\n      className: \"ri-picture-in-picture-exit-line\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: option,\n      onClick: () => {\n        if (widthBox === width() - 300) {\n          setWidthBox(400);\n        } else {\n          setWidthBox(width() - 300);\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      style: {\n        backgroundColor: \"white\",\n        borderRadius: 4,\n        color: \"black\"\n      },\n      className: \"ri-window-2-fill\",\n      id: \"TooltipExample2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 19\n      }\n    }))) : null, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"TooltipExample100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 13\n      }\n    }, flagToOpacity && /*#__PURE__*/React.createElement(\"div\", {\n      style: option,\n      onClick: () => {\n        const call = getCallByTag(tagId);\n        (call === null || call === void 0 ? void 0 : call.endCall) && call.endCall();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      style: {\n        backgroundColor: \"white\",\n        borderRadius: 4,\n        color: \"black\"\n      },\n      className: \"ri-close-line\",\n      id: \"TooltipExample3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 19\n      }\n    })))), flagToOpacity && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      style: buttonBox,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      color: \"none\",\n      onClick: () => {\n        const call = getCallByTag(tagId);\n        (call === null || call === void 0 ? void 0 : call.endCall) && call.endCall();\n      },\n      className: \"nav-btn user-profile-show btn-head-conference red\"\n      /* id=\"TooltipExample6\" */\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"ri-phone-line\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      color: \"none\"\n      /* id=\"TooltipExample7\" */\n      ,\n      onClick: () => {\n        var _getCallByTag;\n\n        if ((_getCallByTag = getCallByTag(tagId)) === null || _getCallByTag === void 0 ? void 0 : _getCallByTag.micMuted) {\n          var _getCallByTag2;\n\n          (_getCallByTag2 = getCallByTag(tagId)) === null || _getCallByTag2 === void 0 ? void 0 : _getCallByTag2.unMuteMic();\n        } else {\n          var _getCallByTag3;\n\n          (_getCallByTag3 = getCallByTag(tagId)) === null || _getCallByTag3 === void 0 ? void 0 : _getCallByTag3.muteMic();\n        }\n\n        sendConfCommand(getCallByTag(tagId), \"tmute\");\n      },\n      className: `nav-btn user-profile-show btn-head-conference ${((_getCallByTag4 = getCallByTag(tagId)) === null || _getCallByTag4 === void 0 ? void 0 : _getCallByTag4.micMuted) ? \"red\" : \"white\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 17\n      }\n    }, !((_getCallByTag5 = getCallByTag(tagId)) === null || _getCallByTag5 === void 0 ? void 0 : _getCallByTag5.micMuted) ? /*#__PURE__*/React.createElement(\"i\", {\n      className: \"ri-mic-line\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 21\n      }\n    }) : /*#__PURE__*/React.createElement(\"i\", {\n      className: \"ri-mic-off-line\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      color: \"none\"\n      /* id=\"TooltipExample8\" */\n      ,\n      onClick: () => {\n        var _getCallByTag6, _getCallByTag7, _getCallByTag8;\n\n        if ((_getCallByTag6 = getCallByTag(tagId)) === null || _getCallByTag6 === void 0 ? void 0 : _getCallByTag6.hold) (_getCallByTag7 = getCallByTag(tagId)) === null || _getCallByTag7 === void 0 ? void 0 : _getCallByTag7.unHoldCall();else (_getCallByTag8 = getCallByTag(tagId)) === null || _getCallByTag8 === void 0 ? void 0 : _getCallByTag8.holdCall();\n      },\n      className: `nav-btn user-profile-show btn-head-conference ${((_getCallByTag9 = getCallByTag(tagId)) === null || _getCallByTag9 === void 0 ? void 0 : _getCallByTag9.hold) ? \"red\" : \"white\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 17\n      }\n    }, ((_getCallByTag10 = getCallByTag(tagId)) === null || _getCallByTag10 === void 0 ? void 0 : _getCallByTag10.hold) ? /*#__PURE__*/React.createElement(\"i\", {\n      className: \"ri-play-line\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 21\n      }\n    }) : /*#__PURE__*/React.createElement(\"i\", {\n      className: \"ri-pause-line\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      color: \"none\"\n      /* id=\"TooltipExample9\" */\n      ,\n      onClick: () => {\n        var _getCallByTag11;\n\n        if ((_getCallByTag11 = getCallByTag(tagId)) === null || _getCallByTag11 === void 0 ? void 0 : _getCallByTag11.sendingVideo) {\n          var _getCallByTag12;\n\n          if ((_getCallByTag12 = getCallByTag(tagId)) === null || _getCallByTag12 === void 0 ? void 0 : _getCallByTag12.videoMuted) {\n            var _getCallByTag13;\n\n            (_getCallByTag13 = getCallByTag(tagId)) === null || _getCallByTag13 === void 0 ? void 0 : _getCallByTag13.enableCam();\n          } else {\n            var _getCallByTag14;\n\n            (_getCallByTag14 = getCallByTag(tagId)) === null || _getCallByTag14 === void 0 ? void 0 : _getCallByTag14.disableCam();\n          }\n\n          sendConfCommand(getCallByTag(tagId), \"tvmute\");\n        } else {\n          alert(\"Mudança de tipo de chamada ainda não está disponivel :(\");\n        }\n      },\n      className: `nav-btn user-profile-show btn-head-conference white ${((_getCallByTag15 = getCallByTag(tagId)) === null || _getCallByTag15 === void 0 ? void 0 : _getCallByTag15.videoMuted) ? \"red\" : \"white\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 17\n      }\n    }, ((_getCallByTag16 = getCallByTag(tagId)) === null || _getCallByTag16 === void 0 ? void 0 : _getCallByTag16.videoMuted) ? /*#__PURE__*/React.createElement(\"i\", {\n      className: \"ri-camera-off-line\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 21\n      }\n    }) : /*#__PURE__*/React.createElement(\"i\", {\n      className: \"ri-camera-line\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 21\n      }\n    })), isConference(getCallByTag(tagId)) && /*#__PURE__*/React.createElement(UncontrolledDropdown, {\n      className: \"align-self-start box-top-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 480,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(DropdownToggle, {\n      tag: \"a\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 481,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      color: \"none\"\n      /* id=\"TooltipExample9\" */\n      ,\n      onClick: () => {},\n      className: `nav-btn user-profile-show btn-head-conference white`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"ri-layout-4-fill\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 489,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(DropdownMenu, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 492,\n        columnNumber: 21\n      }\n    }, layouts(getCallByTag(tagId)))), isConference(getCallByTag(tagId)) && /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      color: \"none\"\n      /* id=\"TooltipExample9\" */\n      ,\n      onClick: () => {\n        const call = getCallByTag(tagId);\n\n        if (call === null || call === void 0 ? void 0 : call.shareScreen) {\n          call.shareScreen();\n        }\n      },\n      className: `nav-btn user-profile-show btn-head-conference white`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 496,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"Screen Share\",\n      src: require(\"../assets/images/ic-screen-share.svg\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      style: plus\n      /* id=\"TooltipExample10\" */\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: { ...option,\n        fontSize: \"14px\"\n      },\n      onClick: () => {\n        setWidthBox(widthBox + 100);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 517,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      style: {\n        backgroundColor: \"white\",\n        borderRadius: 4\n      },\n      className: \"ri-add-line\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 523,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      style: minus\n      /* id=\"TooltipExample11\" */\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: { ...option,\n        fontSize: \"14px\"\n      },\n      onClick: () => {\n        if (widthBox > 400) {\n          setWidthBox(widthBox - 100);\n        } else {\n          Swal.fire({\n            position: \"top-end\",\n            icon: \"error\",\n            title: t(\"Size can not be smaller\"),\n            showConfirmButton: false,\n            timer: 3000,\n            customClass: {\n              popup: \"swal-mini-popup\"\n            }\n          });\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      style: {\n        backgroundColor: \"white\",\n        borderRadius: 4\n      },\n      className: \"ri-subtract-line\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 550,\n        columnNumber: 19\n      }\n    })))), /*#__PURE__*/React.createElement(\"video\", {\n      style: video,\n      onMouseOver: toggleOpacity,\n      id: `remote-stream-${tagId}`,\n      hidden: !isVisible(tagId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 558,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"ul\", {\n      style: {\n        position: \"absolute\",\n        background: \"white\",\n        border: \"1px solid #000\",\n        width: \"100%\",\n        minHeight: \"100px\",\n        left: 0,\n        bottom: \"-116px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 564,\n        columnNumber: 11\n      }\n    }, (_getCallByTag17 = getCallByTag(tagId)) === null || _getCallByTag17 === void 0 ? void 0 : (_getCallByTag17$confe = _getCallByTag17.conferenceParticipants) === null || _getCallByTag17$confe === void 0 ? void 0 : _getCallByTag17$confe.map(participant => {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: participant.memberId,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 577,\n          columnNumber: 17\n        }\n      }, participant.callerName, \" -\", /*#__PURE__*/React.createElement(\"span\", {\n        onClick: e => {\n          e.preventDefault();\n          setConferenceCommand({\n            command: \"tmute\",\n            conferenceId: participant.conferenceName,\n            extraParam: `${participant.memberId}`\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 579,\n          columnNumber: 19\n        }\n      }, !participant.mute ? /*#__PURE__*/React.createElement(\"i\", {\n        className: \"ri-mic-off-line\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 590,\n          columnNumber: 23\n        }\n      }) : /*#__PURE__*/React.createElement(\"i\", {\n        className: \"ri-mic-line\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 592,\n          columnNumber: 23\n        }\n      }), \" \", \"|\"), /*#__PURE__*/React.createElement(\"span\", {\n        onClick: e => {\n          e.preventDefault();\n          setConferenceCommand({\n            command: \"tvmute\",\n            conferenceId: participant.conferenceName,\n            extraParam: `${participant.memberId}`\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 596,\n          columnNumber: 19\n        }\n      }, \" \", !participant.video ? /*#__PURE__*/React.createElement(\"i\", {\n        className: \"ri-camera-off-line\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 608,\n          columnNumber: 23\n        }\n      }) : /*#__PURE__*/React.createElement(\"i\", {\n        className: \"ri-camera-line\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 610,\n          columnNumber: 23\n        }\n      }), \" \"), participant.talking ? /*#__PURE__*/React.createElement(\"i\", {\n        className: \"ri-volume-up-line\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 614,\n          columnNumber: 21\n        }\n      }) : /*#__PURE__*/React.createElement(\"i\", {\n        className: \"ri-volume-down-line\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 616,\n          columnNumber: 21\n        }\n      }));\n    })), /*#__PURE__*/React.createElement(Tooltip, {\n      placement: \"right\",\n      isOpen: tooltipOpen100,\n      target: \"TooltipExample100\",\n      toggle: toggleTooltip100,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 622,\n        columnNumber: 13\n      }\n    }, t(\"End call\")), /*#__PURE__*/React.createElement(Tooltip, {\n      placement: \"right\",\n      isOpen: tooltipOpen101,\n      target: \"TooltipExample101\",\n      toggle: toggleTooltip101,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 633,\n        columnNumber: 11\n      }\n    }, t(\"Maximize/minimize\")), /*#__PURE__*/React.createElement(Tooltip, {\n      placement: \"right\",\n      isOpen: tooltipOpen102,\n      target: \"TooltipExample102\",\n      toggle: toggleTooltip102,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 644,\n        columnNumber: 11\n      }\n    }, t(\"Picture-in-picture\")), /*#__PURE__*/React.createElement(Tooltip, {\n      placement: \"right\",\n      isOpen: tooltipOpen103,\n      target: \"TooltipExample103\",\n      toggle: toggleTooltip103,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 655,\n        columnNumber: 11\n      }\n    }, t(\"Copy moderator invitation link\")), /*#__PURE__*/React.createElement(Tooltip, {\n      placement: \"right\",\n      isOpen: tooltipOpen104,\n      target: \"TooltipExample104\",\n      toggle: toggleTooltip104,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 664,\n        columnNumber: 11\n      }\n    }, t(\"Copy participant invitation link\")), /*#__PURE__*/React.createElement(Tooltip, {\n      placement: \"right\",\n      isOpen: tooltipOpen105,\n      target: \"TooltipExample105\",\n      toggle: toggleTooltip105,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 673,\n        columnNumber: 11\n      }\n    }, t(\"Put call on hold\")), /*#__PURE__*/React.createElement(Tooltip, {\n      placement: \"right\",\n      isOpen: tooltipOpen106,\n      target: \"TooltipExample106\",\n      toggle: toggleTooltip106,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 682,\n        columnNumber: 11\n      }\n    }, t(\"Mute/unmute\")), /*#__PURE__*/React.createElement(Tooltip, {\n      placement: \"right\",\n      isOpen: tooltipOpen107,\n      target: \"TooltipExample107\",\n      toggle: toggleTooltip107,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 691,\n        columnNumber: 11\n      }\n    }, t(\"Distribute screen\")), /*#__PURE__*/React.createElement(Tooltip, {\n      placement: \"right\",\n      isOpen: tooltipOpen108,\n      target: \"TooltipExample108\",\n      toggle: toggleTooltip108,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 700,\n        columnNumber: 11\n      }\n    }, t(\"Enable/disable cam\")), /*#__PURE__*/React.createElement(Tooltip, {\n      placement: \"right\",\n      isOpen: tooltipOpen109,\n      target: \"TooltipExample109\",\n      toggle: toggleTooltip109,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 708,\n        columnNumber: 11\n      }\n    }, t(\"Zoom in\")), /*#__PURE__*/React.createElement(Tooltip, {\n      placement: \"right\",\n      isOpen: tooltipOpen110,\n      target: \"TooltipExample110\",\n      toggle: toggleTooltip110,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 716,\n        columnNumber: 11\n      }\n    }, t(\"Zoom out\")), /*#__PURE__*/React.createElement(Tooltip, {\n      placement: \"right\",\n      isOpen: tooltipOpen111,\n      target: \"TooltipExample111\",\n      toggle: toggleTooltip111,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 724,\n        columnNumber: 11\n      }\n    }, t(\"Share screen\")));\n  }));\n};\n\nexport default VideoBox;","map":{"version":3,"sources":["C:/Users/Digivox/dev/Digivox/Refatoracao/squad/src/components/VideoBox.tsx"],"names":["React","useState","useCall","tagsRange","motion","height","width","Button","DropdownItem","DropdownMenu","DropdownToggle","Tooltip","UncontrolledDropdown","Swal","useTranslation","useConference","CopyModeratorLinkButtonInActiveCall","CopyParticipantLinkButtonInActiveCall","useAuth","VideoBox","t","activeConference","toggleOpacity","flagToTimeOut","setFlagToOpacity","setFlagToTimeOut","setTimeout","flagToOpacity","widthBox","setWidthBox","pictureInPictureEnabled","setPictureInPictureEnabled","pictureInPictureTag","setPictureInPictureTag","undefined","currentCalls","setConferenceCommand","user","togglePictureInPicture","tagId","doc","document","pictureInPictureElement","video","querySelector","requestPictureInPicture","catch","error","exitPictureInPicture","listenPictureInPictureChanges","forEach","videoEl","disablePictureInPicture","addEventListener","removeListeners","removeEventListener","isVisible","callTag","getCallByTag","sendingVideo","receivingVideo","Array","from","values","find","call","getCallerObjectId","callerObject","id","groupId","isConference","participantPin","sendConfCommand","command","sendDTMF","tooltipOpen100","setTooltipOpen100","tooltipOpen101","setTooltipOpen101","tooltipOpen102","setTooltipOpen102","tooltipOpen103","setTooltipOpen103","tooltipOpen104","setTooltipOpen104","tooltipOpen105","setTooltipOpen105","tooltipOpen106","setTooltipOpen106","tooltipOpen107","setTooltipOpen107","tooltipOpen108","setTooltipOpen108","tooltipOpen109","setTooltipOpen109","tooltipOpen110","setTooltipOpen110","tooltipOpen111","setTooltipOpen111","tooltipOpen112","setTooltipOpen112","tooltipOpen113","setTooltipOpen113","toggleTooltip100","toggleTooltip101","toggleTooltip102","toggleTooltip103","toggleTooltip104","toggleTooltip105","toggleTooltip106","toggleTooltip107","toggleTooltip108","toggleTooltip109","toggleTooltip110","toggleTooltip111","toggleTooltip112","toggleTooltip113","layouts","conferenceId","layoutsName","overlaps","Object","keys","map","k","extraParam","boxVideo","position","right","bottom","zIndex","maxWidth","borderRadius","backgroundColor","display","justifyContent","alignItems","optionBox","top","color","option","cursor","marginLeft","fontSize","padding","buttonBox","flexDirection","plus","minus","amIaModerator","conferenceRoomParticipants","member","userUuid","userModerator","left","anonymousModeratorUrl","anonymousParticipantUrl","endCall","micMuted","unMuteMic","muteMic","hold","unHoldCall","holdCall","videoMuted","enableCam","disableCam","alert","shareScreen","require","fire","icon","title","showConfirmButton","timer","customClass","popup","background","border","minHeight","conferenceParticipants","participant","memberId","callerName","e","preventDefault","conferenceName","mute","talking"],"mappings":"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","sourcesContent":["import React, { CSSProperties, useState } from \"react\";\r\nimport { useCall } from \"../contexts/CallContext\";\r\nimport { tagsRange } from \"../services/voice/voicecommunicator\";\r\nimport { motion } from \"framer-motion\";\r\nimport { height, width } from \"../helpers/windowSize\";\r\nimport {\r\n  Button,\r\n  DropdownItem,\r\n  DropdownMenu,\r\n  DropdownToggle /* Tooltip */,\r\n  Tooltip,\r\n  UncontrolledDropdown,\r\n} from \"reactstrap\";\r\nimport Swal from \"sweetalert2\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport ICall from \"../alias/ICall\";\r\nimport { useConference } from \"../contexts/ConferenceContext\";\r\nimport CopyModeratorLinkButtonInActiveCall from \"./CopyModeratorLinkButtonInActiveCall\";\r\nimport CopyParticipantLinkButtonInActiveCall from \"./CopyParticipantLinkButtonInActiveCall\";\r\nimport { IConference } from \"../alias/IConference\";\r\nimport IGroup from \"../alias/IGroup\";\r\nimport IContact from \"../alias/IContact\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\n\r\ninterface DocumentPictureInPicture extends Document {\r\n  pictureInPictureEnabled: boolean;\r\n  pictureInPictureElement: HTMLVideoElementPictureInPicture;\r\n  exitPictureInPicture(): Promise<any>;\r\n}\r\n\r\ninterface HTMLVideoElementPictureInPicture extends HTMLVideoElement {\r\n  requestPictureInPicture(): Promise<any>;\r\n  disablePictureInPicture: any;\r\n}\r\n\r\nconst VideoBox: React.FC = () => {\r\n  const { t } = useTranslation();\r\n  const { activeConference } = useConference();\r\n  const toggleOpacity = () => {\r\n    if (flagToTimeOut === true) {\r\n      setFlagToOpacity(true);\r\n      setFlagToTimeOut(false);\r\n      setTimeout(() => {\r\n        setFlagToOpacity(false);\r\n        setFlagToTimeOut(true);\r\n      }, 6000);\r\n    }\r\n  };\r\n  const [flagToOpacity, setFlagToOpacity] = useState<boolean>(false);\r\n  const [flagToTimeOut, setFlagToTimeOut] = useState<boolean>(true);\r\n  const [widthBox, setWidthBox] = useState(400);\r\n  const [\r\n    pictureInPictureEnabled,\r\n    setPictureInPictureEnabled,\r\n  ] = useState<boolean>(false);\r\n\r\n  const [pictureInPictureTag, setPictureInPictureTag] = useState<\r\n    number | undefined\r\n  >(undefined);\r\n\r\n  const { currentCalls, setConferenceCommand } = useCall();\r\n  const { user } = useAuth();\r\n\r\n  const togglePictureInPicture = (tagId: number) => {\r\n    const doc = document as DocumentPictureInPicture;\r\n    if (!doc.pictureInPictureElement && doc.pictureInPictureEnabled) {\r\n      const video = document.querySelector(\r\n        `#remote-stream-${tagId}`\r\n      ) as HTMLVideoElementPictureInPicture;\r\n      video?.requestPictureInPicture().catch((error) => {});\r\n    } else {\r\n      if (doc.pictureInPictureEnabled) {\r\n        (document as DocumentPictureInPicture)\r\n          .exitPictureInPicture()\r\n          .catch((error) => {});\r\n      }\r\n    }\r\n  };\r\n\r\n  const listenPictureInPictureChanges = () => {\r\n    tagsRange.forEach((tagId) => {\r\n      const videoEl = document.querySelector(`#remote-stream-${tagId}`);\r\n      if (\r\n        videoEl &&\r\n        !(videoEl as HTMLVideoElementPictureInPicture).disablePictureInPicture\r\n      ) {\r\n        videoEl.addEventListener(\"enterpictureinpicture\", () => {\r\n          // Video entered Picture-in-Picture mode.\r\n          setPictureInPictureEnabled(true);\r\n          setPictureInPictureTag(tagId);\r\n        });\r\n        videoEl.addEventListener(\"leavepictureinpicture\", () => {\r\n          // Video left Picture-in-Picture mode.\r\n          setPictureInPictureEnabled(false);\r\n          setPictureInPictureTag(undefined);\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const removeListeners = () => {\r\n    tagsRange.forEach((tagId) => {\r\n      const videoEl = document.querySelector(`#remote-stream-${tagId}`);\r\n      if (videoEl) {\r\n        videoEl.removeEventListener(\"enterpictureinpicture\", () => {});\r\n        videoEl.removeEventListener(\"leavepictureinpicture\", () => {});\r\n      }\r\n    });\r\n  };\r\n\r\n  const isVisible = (tagId: number) => {\r\n    const callTag = getCallByTag(tagId);\r\n    return (\r\n      callTag &&\r\n      pictureInPictureTag !== tagId &&\r\n      (callTag.sendingVideo || callTag?.receivingVideo)\r\n    );\r\n  };\r\n\r\n  const getCallByTag = (tagId: number) => {\r\n    return Array.from(currentCalls.values()).find(\r\n      (call) => call.tagId === `remote-stream-${tagId}`\r\n    );\r\n  };\r\n  const getCallerObjectId = (callerObject: IConference | IGroup | IContact) => {\r\n    return (\r\n      (callerObject as IConference).id ||\r\n      (callerObject as IGroup).groupId ||\r\n      (callerObject as IContact).id\r\n    );\r\n  };\r\n  const isConference = (call: ICall | undefined) => {\r\n    if (call)\r\n      return !!(\r\n        (call.callerObject as IConference).participantPin ||\r\n        (call.callerObject as IGroup).groupId\r\n      );\r\n    return false;\r\n  };\r\n  const sendConfCommand = (\r\n    call: ICall | undefined,\r\n    command: \"tvmute\" | \"tmute\"\r\n  ) => {\r\n    if (call) {\r\n      if (command === \"tmute\") {\r\n        call.sendDTMF(\"0\");\r\n      } else if (command === \"tvmute\") {\r\n        call.sendDTMF(\"*\");\r\n      }\r\n    }\r\n  };\r\n  removeListeners();\r\n  listenPictureInPictureChanges();\r\n\r\n  const [tooltipOpen100, setTooltipOpen100] = useState(false);\r\n  const [tooltipOpen101, setTooltipOpen101] = useState(false);\r\n  const [tooltipOpen102, setTooltipOpen102] = useState(false);\r\n  const [tooltipOpen103, setTooltipOpen103] = useState(false);\r\n  const [tooltipOpen104, setTooltipOpen104] = useState(false);\r\n  const [tooltipOpen105, setTooltipOpen105] = useState(false);\r\n  const [tooltipOpen106, setTooltipOpen106] = useState(false);\r\n  const [tooltipOpen107, setTooltipOpen107] = useState(false);\r\n  const [tooltipOpen108, setTooltipOpen108] = useState(false);\r\n  const [tooltipOpen109, setTooltipOpen109] = useState(false);\r\n  const [tooltipOpen110, setTooltipOpen110] = useState(false); \r\n  const [tooltipOpen111, setTooltipOpen111] = useState(false); \r\n  const [tooltipOpen112, setTooltipOpen112] = useState(false); \r\n  const [tooltipOpen113, setTooltipOpen113] = useState(false); \r\n  \r\n  const toggleTooltip100 = () => setTooltipOpen100(!tooltipOpen100);\r\n  const toggleTooltip101 = () => setTooltipOpen101(!tooltipOpen101);\r\n  const toggleTooltip102 = () => setTooltipOpen102(!tooltipOpen102);\r\n  const toggleTooltip103 = () => setTooltipOpen103(!tooltipOpen103);\r\n  const toggleTooltip104 = () => setTooltipOpen104(!tooltipOpen104);\r\n  const toggleTooltip105 = () => setTooltipOpen105(!tooltipOpen105);\r\n  const toggleTooltip106 = () => setTooltipOpen106(!tooltipOpen106);\r\n  const toggleTooltip107 = () => setTooltipOpen107(!tooltipOpen107);\r\n  const toggleTooltip108 = () => setTooltipOpen108(!tooltipOpen108);\r\n  const toggleTooltip109 = () => setTooltipOpen109(!tooltipOpen109);\r\n  const toggleTooltip110 = () => setTooltipOpen110(!tooltipOpen110);\r\n  const toggleTooltip111 = () => setTooltipOpen111(!tooltipOpen111);\r\n  const toggleTooltip112 = () => setTooltipOpen112(!tooltipOpen112);\r\n  const toggleTooltip113 = () => setTooltipOpen113(!tooltipOpen113);\r\n\r\n  const layouts = (call: ICall | undefined) => {\r\n    if (call?.callerObject && isConference(call)) {\r\n      const conferenceId = getCallerObjectId(call.callerObject);\r\n      const layoutsName: any = {\r\n        \"group:grid\": \"Distribute in degree\",\r\n        \"group:grid-zoom\": \"Highlight users\",\r\n        \"1up_top_left+9\": \"Highlight who talks to others around\",\r\n        overlaps: \"Highlight who talks to others below\",\r\n        \"presenter-overlap-small-bot-right\": \"Highlight presentation\",\r\n      };\r\n      return Object.keys(layoutsName).map((k) => (\r\n        <DropdownItem\r\n          onClick={() => {\r\n            setConferenceCommand({\r\n              command: \"setLayout\",\r\n              conferenceId,\r\n              extraParam: k,\r\n            });\r\n          }}\r\n        >\r\n          <span className=\"text-muted\">{t(layoutsName[k])}</span>\r\n        </DropdownItem>\r\n      ));\r\n    }\r\n  };\r\n  const boxVideo: CSSProperties = {\r\n    position: \"fixed\",\r\n    right: \"50px\",\r\n    bottom: \"50px\",\r\n    zIndex: 100,\r\n    maxWidth: `${widthBox}px`,\r\n    borderRadius: \"2px\",\r\n    backgroundColor: \"#000000\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  };\r\n\r\n  const video: CSSProperties = {\r\n    position: \"relative\",\r\n    width: `${widthBox}px`,\r\n  };\r\n\r\n  const optionBox: CSSProperties = {\r\n    position: \"absolute\",\r\n    zIndex: 110,\r\n    top: \"2%\",\r\n    right: \"2%\",\r\n    color: \"#ffffff\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  };\r\n\r\n  const option: CSSProperties = {\r\n    cursor: \"pointer\",\r\n    marginLeft: \"5px\",\r\n    fontSize: \"18px\",\r\n    padding: \"5px\",\r\n  };\r\n\r\n  const buttonBox: CSSProperties = {\r\n    position: \"absolute\",\r\n    zIndex: 10,\r\n    width: \"100%\",\r\n    bottom: 0,\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    flexDirection: \"row\",\r\n  };\r\n\r\n  const plus: CSSProperties = {\r\n    position: \"absolute\",\r\n    bottom: \"10px\",\r\n    right: \"10px\",\r\n    zIndex: 13,\r\n    color: \"black\",\r\n  };\r\n\r\n  const minus: CSSProperties = {\r\n    position: \"absolute\",\r\n    bottom: \"10px\",\r\n    right: \"30px\",\r\n    zIndex: 13,\r\n    color: \"black\",\r\n  };\r\n\r\n  const amIaModerator =\r\n    activeConference?.conferenceRoomParticipants?.find((member) => member.userUuid === user.id)?.userModerator ===\r\n  true;\r\n\r\n  return (\r\n    <div>\r\n      {tagsRange.map((tagId) => (\r\n        <motion.div\r\n          drag\r\n          dragConstraints={{\r\n            top: (height() - 400) * -1,\r\n            bottom: height() - 1100,\r\n            left: (width() - 500) * -1,\r\n            right: 0,\r\n          }}\r\n          style={{\r\n            ...boxVideo,\r\n            display: isVisible(tagId) ? boxVideo.display : \"none\",\r\n          }}\r\n          key={`remote-stream-${tagId}`}\r\n        >\r\n          <div style={optionBox}>\r\n            {flagToOpacity &&\r\n            (document as DocumentPictureInPicture).pictureInPictureEnabled ? (\r\n              <>\r\n                {flagToOpacity && activeConference && amIaModerator && (\r\n                    <div \r\n                    >\r\n                      <CopyModeratorLinkButtonInActiveCall\r\n                        moderatorLink={\r\n                          activeConference?.anonymousModeratorUrl as string\r\n                        }\r\n                        buttonIcon={\"ri-link-unlink\"}\r\n                      />\r\n                  </div>\r\n                  )}\r\n                  {flagToOpacity && activeConference && amIaModerator && (\r\n                      <CopyParticipantLinkButtonInActiveCall\r\n                        participantLink={\r\n                          activeConference?.anonymousParticipantUrl as string\r\n                        }\r\n                        buttonIcon={\"ri-links-line\"}\r\n                      />\r\n                )}\r\n                {!pictureInPictureEnabled && (\r\n                  <div\r\n                    style={option}\r\n                    onClick={() => togglePictureInPicture(tagId)}\r\n                  >\r\n                    <i\r\n                      style={{\r\n                        backgroundColor: \"white\",\r\n                        borderRadius: 4,\r\n                        color: \"black\",\r\n                      }}\r\n                      className=\"ri-picture-in-picture-2-line\"\r\n                    />\r\n                  </div>\r\n                )}\r\n                {pictureInPictureTag === tagId && (\r\n                  <div\r\n                    style={option}\r\n                    onClick={() => togglePictureInPicture(tagId)}\r\n                  >\r\n                    <i\r\n                      style={{\r\n                        backgroundColor: \"white\",\r\n                        borderRadius: 4,\r\n                        color: \"black\",\r\n                      }}\r\n                      className=\"ri-picture-in-picture-exit-line\"\r\n                    ></i>\r\n                  </div>\r\n                )}\r\n                <div\r\n                  style={option}\r\n                  onClick={() => {\r\n                    if (widthBox === width() - 300) {\r\n                      setWidthBox(400);\r\n                    } else {\r\n                      setWidthBox(width() - 300);\r\n                    }\r\n                  }}\r\n                >\r\n                  <i\r\n                    style={{\r\n                      backgroundColor: \"white\",\r\n                      borderRadius: 4,\r\n                      color: \"black\",\r\n                    }}\r\n                    className=\"ri-window-2-fill\"\r\n                    id=\"TooltipExample2\"\r\n                  ></i>\r\n                </div>\r\n              </>\r\n            ) : null}           \r\n            <div id=\"TooltipExample100\">\r\n              {flagToOpacity && (\r\n                <div\r\n                  style={option}\r\n                  onClick={() => {\r\n                    const call = getCallByTag(tagId);\r\n                    call?.endCall && call.endCall();\r\n                  }}\r\n                >\r\n                  <i\r\n                    style={{\r\n                      backgroundColor: \"white\",\r\n                      borderRadius: 4,\r\n                      color: \"black\",\r\n                    }}\r\n                    className=\"ri-close-line\"\r\n                    id=\"TooltipExample3\"\r\n                  ></i>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {flagToOpacity && (\r\n            <>\r\n              <div style={buttonBox}>\r\n                <Button\r\n                  type=\"button\"\r\n                  color=\"none\"\r\n                  onClick={() => {\r\n                    const call = getCallByTag(tagId);\r\n                    call?.endCall && call.endCall();\r\n                  }}\r\n                  className=\"nav-btn user-profile-show btn-head-conference red\"\r\n                  /* id=\"TooltipExample6\" */\r\n                >\r\n                  <i className=\"ri-phone-line\"></i>\r\n                </Button>\r\n\r\n                <Button\r\n                  type=\"button\"\r\n                  color=\"none\"\r\n                  /* id=\"TooltipExample7\" */\r\n                  onClick={() => {\r\n                    if (getCallByTag(tagId)?.micMuted) {\r\n                      getCallByTag(tagId)?.unMuteMic();\r\n                    } else {\r\n                      getCallByTag(tagId)?.muteMic();\r\n                    }\r\n                    sendConfCommand(getCallByTag(tagId), \"tmute\");\r\n                  }}\r\n                  className={`nav-btn user-profile-show btn-head-conference ${\r\n                    getCallByTag(tagId)?.micMuted ? \"red\" : \"white\"\r\n                  }`}\r\n                >\r\n                  {!getCallByTag(tagId)?.micMuted ? (\r\n                    <i className=\"ri-mic-line\"></i>\r\n                  ) : (\r\n                    <i className=\"ri-mic-off-line\"></i>\r\n                  )}\r\n                </Button>\r\n\r\n                <Button\r\n                  type=\"button\"\r\n                  color=\"none\"\r\n                  /* id=\"TooltipExample8\" */\r\n                  onClick={() => {\r\n                    if (getCallByTag(tagId)?.hold)\r\n                      getCallByTag(tagId)?.unHoldCall();\r\n                    else getCallByTag(tagId)?.holdCall();\r\n                  }}\r\n                  className={`nav-btn user-profile-show btn-head-conference ${\r\n                    getCallByTag(tagId)?.hold ? \"red\" : \"white\"\r\n                  }`}\r\n                >\r\n                  {getCallByTag(tagId)?.hold ? (\r\n                    <i className=\"ri-play-line\"></i>\r\n                  ) : (\r\n                    <i className=\"ri-pause-line\"></i>\r\n                  )}\r\n                </Button>\r\n\r\n                <Button\r\n                  type=\"button\"\r\n                  color=\"none\"\r\n                  /* id=\"TooltipExample9\" */\r\n                  onClick={() => {\r\n                    if (getCallByTag(tagId)?.sendingVideo) {\r\n                      if (getCallByTag(tagId)?.videoMuted) {\r\n                        getCallByTag(tagId)?.enableCam();\r\n                      } else {\r\n                        getCallByTag(tagId)?.disableCam();\r\n                      }\r\n                      sendConfCommand(getCallByTag(tagId), \"tvmute\");\r\n                    } else {\r\n                      alert(\r\n                        \"Mudança de tipo de chamada ainda não está disponivel :(\"\r\n                      );\r\n                    }\r\n                  }}\r\n                  className={`nav-btn user-profile-show btn-head-conference white ${\r\n                    getCallByTag(tagId)?.videoMuted ? \"red\" : \"white\"\r\n                  }`}\r\n                >\r\n                  {getCallByTag(tagId)?.videoMuted ? (\r\n                    <i className=\"ri-camera-off-line\"></i>\r\n                  ) : (\r\n                    <i className=\"ri-camera-line\"></i>\r\n                  )}\r\n                </Button>\r\n                {isConference(getCallByTag(tagId)) && (\r\n                  <UncontrolledDropdown className=\"align-self-start box-top-right\">\r\n                    <DropdownToggle tag=\"a\">\r\n                      <Button\r\n                        type=\"button\"\r\n                        color=\"none\"\r\n                        /* id=\"TooltipExample9\" */\r\n                        onClick={() => {}}\r\n                        className={`nav-btn user-profile-show btn-head-conference white`}\r\n                      >\r\n                        <i className=\"ri-layout-4-fill\" />\r\n                      </Button>\r\n                    </DropdownToggle>\r\n                    <DropdownMenu>{layouts(getCallByTag(tagId))}</DropdownMenu>\r\n                  </UncontrolledDropdown>\r\n                )}\r\n                {isConference(getCallByTag(tagId)) && (\r\n                  <Button\r\n                    type=\"button\"\r\n                    color=\"none\"\r\n                    /* id=\"TooltipExample9\" */\r\n                    onClick={() => {\r\n                      const call = getCallByTag(tagId);\r\n                      if (call?.shareScreen) {\r\n                        call.shareScreen();\r\n                      }\r\n                    }}\r\n                    className={`nav-btn user-profile-show btn-head-conference white`}\r\n                  >\r\n                    <img\r\n                      alt=\"Screen Share\"\r\n                      src={require(\"../assets/images/ic-screen-share.svg\")}\r\n                    />\r\n                  </Button>\r\n                )}\r\n              </div>\r\n\r\n              <div style={plus} /* id=\"TooltipExample10\" */>\r\n                <span\r\n                  style={{ ...option, fontSize: \"14px\" }}\r\n                  onClick={() => {\r\n                    setWidthBox(widthBox + 100);\r\n                  }}\r\n                >\r\n                  <i\r\n                    style={{ backgroundColor: \"white\", borderRadius: 4 }}\r\n                    className=\"ri-add-line\"\r\n                  ></i>\r\n                </span>\r\n              </div>\r\n\r\n              <div style={minus} /* id=\"TooltipExample11\" */>\r\n                <span\r\n                  style={{ ...option, fontSize: \"14px\" }}\r\n                  onClick={() => {\r\n                    if (widthBox > 400) {\r\n                      setWidthBox(widthBox - 100);\r\n                    } else {\r\n                      Swal.fire({\r\n                        position: \"top-end\",\r\n                        icon: \"error\",\r\n                        title: t(\"Size can not be smaller\"),\r\n                        showConfirmButton: false,\r\n                        timer: 3000,\r\n                        customClass: {\r\n                          popup: \"swal-mini-popup\",\r\n                        },\r\n                      });\r\n                    }\r\n                  }}\r\n                >\r\n                  <i\r\n                    style={{ backgroundColor: \"white\", borderRadius: 4 }}\r\n                    className=\"ri-subtract-line\"\r\n                  ></i>\r\n                </span>\r\n              </div>\r\n            </>\r\n          )}\r\n          <video\r\n            style={video}\r\n            onMouseOver={toggleOpacity}\r\n            id={`remote-stream-${tagId}`}\r\n            hidden={!isVisible(tagId)}\r\n          />\r\n          <ul\r\n            style={{\r\n              position: \"absolute\",\r\n              background: \"white\",\r\n              border: \"1px solid #000\",\r\n              width: \"100%\",\r\n              minHeight: \"100px\",\r\n              left: 0,\r\n              bottom: \"-116px\",\r\n            }}\r\n          >\r\n            {getCallByTag(tagId)?.conferenceParticipants?.map((participant) => {\r\n              return (\r\n                <li key={participant.memberId}>\r\n                  {participant.callerName} -\r\n                  <span\r\n                    onClick={(e) => {\r\n                      e.preventDefault();\r\n                      setConferenceCommand({\r\n                        command: \"tmute\",\r\n                        conferenceId: participant.conferenceName,\r\n                        extraParam: `${participant.memberId}`,\r\n                      });\r\n                    }}\r\n                  >\r\n                    {!participant.mute ? (\r\n                      <i className=\"ri-mic-off-line\" />\r\n                    ) : (\r\n                      <i className=\"ri-mic-line\" />\r\n                    )}{\" \"}\r\n                    |\r\n                  </span>\r\n                  <span\r\n                    onClick={(e) => {\r\n                      e.preventDefault();\r\n                      setConferenceCommand({\r\n                        command: \"tvmute\",\r\n                        conferenceId: participant.conferenceName,\r\n                        extraParam: `${participant.memberId}`,\r\n                      });\r\n                    }}\r\n                  >\r\n                    {\" \"}\r\n                    {!participant.video ? (\r\n                      <i className=\"ri-camera-off-line\" />\r\n                    ) : (\r\n                      <i className=\"ri-camera-line\" />\r\n                    )}{\" \"}\r\n                  </span>\r\n                  {participant.talking ? (\r\n                    <i className=\"ri-volume-up-line\" />\r\n                  ) : (\r\n                    <i className=\"ri-volume-down-line\" />\r\n                  )}\r\n                </li>\r\n              );\r\n            })}\r\n          </ul>\r\n            <Tooltip\r\n            placement=\"right\"\r\n            isOpen={tooltipOpen100}\r\n            target=\"TooltipExample100\"\r\n            toggle={toggleTooltip100}\r\n          >\r\n            {t(\r\n              \"End call\"\r\n            )}\r\n          </Tooltip>\r\n\r\n          <Tooltip\r\n            placement=\"right\"\r\n            isOpen={tooltipOpen101}\r\n            target=\"TooltipExample101\"\r\n            toggle={toggleTooltip101}\r\n          >\r\n            {t(\r\n              \"Maximize/minimize\"\r\n            )}\r\n          </Tooltip>\r\n\r\n          <Tooltip\r\n            placement=\"right\"\r\n            isOpen={tooltipOpen102}\r\n            target=\"TooltipExample102\"\r\n            toggle={toggleTooltip102}\r\n          >\r\n            {t(\r\n              \"Picture-in-picture\"\r\n            )}\r\n          </Tooltip>\r\n\r\n          <Tooltip\r\n            placement=\"right\"\r\n            isOpen={tooltipOpen103}\r\n            target=\"TooltipExample103\"\r\n            toggle={toggleTooltip103}\r\n          >\r\n            {t(\"Copy moderator invitation link\")}\r\n          </Tooltip>\r\n\r\n          <Tooltip\r\n            placement=\"right\"\r\n            isOpen={tooltipOpen104}\r\n            target=\"TooltipExample104\"\r\n            toggle={toggleTooltip104}\r\n          >\r\n            {t(\"Copy participant invitation link\")}\r\n          </Tooltip>\r\n\r\n          <Tooltip\r\n            placement=\"right\"\r\n            isOpen={tooltipOpen105}\r\n            target=\"TooltipExample105\"\r\n            toggle={toggleTooltip105}\r\n          >\r\n            {t(\"Put call on hold\")}\r\n          </Tooltip>\r\n\r\n          <Tooltip\r\n            placement=\"right\"\r\n            isOpen={tooltipOpen106}\r\n            target=\"TooltipExample106\"\r\n            toggle={toggleTooltip106}\r\n          >\r\n            {t(\"Mute/unmute\")}\r\n          </Tooltip>\r\n\r\n          <Tooltip\r\n            placement=\"right\"\r\n            isOpen={tooltipOpen107}\r\n            target=\"TooltipExample107\"\r\n            toggle={toggleTooltip107}\r\n          >\r\n            {t(\"Distribute screen\")}\r\n          </Tooltip>\r\n\r\n          <Tooltip\r\n            placement=\"right\"\r\n            isOpen={tooltipOpen108}\r\n            target=\"TooltipExample108\"\r\n            toggle={toggleTooltip108}\r\n          >\r\n            {t(\"Enable/disable cam\")}\r\n          </Tooltip>\r\n          <Tooltip\r\n            placement=\"right\"\r\n            isOpen={tooltipOpen109}\r\n            target=\"TooltipExample109\"\r\n            toggle={toggleTooltip109}\r\n          >\r\n            {t(\"Zoom in\")}\r\n          </Tooltip>\r\n          <Tooltip\r\n            placement=\"right\"\r\n            isOpen={tooltipOpen110}\r\n            target=\"TooltipExample110\"\r\n            toggle={toggleTooltip110}\r\n          >\r\n            {t(\"Zoom out\")}\r\n          </Tooltip>\r\n          <Tooltip\r\n            placement=\"right\"\r\n            isOpen={tooltipOpen111}\r\n            target=\"TooltipExample111\"\r\n            toggle={toggleTooltip111}\r\n          >\r\n            {t(\"Share screen\")}\r\n          </Tooltip>\r\n        </motion.div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoBox;\r\n"]},"metadata":{},"sourceType":"module"}