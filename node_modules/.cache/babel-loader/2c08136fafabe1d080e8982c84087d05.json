{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Digivox\\\\dev\\\\Digivox\\\\Refatoracao\\\\squad\\\\src\\\\components\\\\ChatHead.tsx\";\nimport React from \"react\";\nimport { Media, Button, Row, Col } from \"reactstrap\";\nimport { Link } from \"react-router-dom\";\nimport { useChat } from \"../contexts/ChatContext\";\nimport ReactImageFallback from \"react-image-fallback\";\nimport { onImgError } from \"../helpers/ImageUtils\";\nimport { useGroup } from \"../contexts/GroupContext\";\nimport defaultAvatar from \"../assets/images/default.png\";\nimport { useContact } from \"../contexts/ContactContext\";\nimport { useModal } from \"../contexts/ModalContext\";\nimport ModalManageGroup from \"./ModalManageGroup\";\nimport { useAuth } from \"../contexts/AuthContext\";\n\nconst ChatHead = ({\n  chatProfileSidebarOpen,\n  setChatProfileSidebarOpen\n}) => {\n  var _activeChat$members, _activeChat$members$f;\n\n  const {\n    user\n  } = useAuth();\n  const {\n    chats,\n    activeChat,\n    setChats,\n    setShowChat\n  } = useChat();\n  const {\n    groups,\n    setGroups\n  } = useGroup();\n  const {\n    contacts,\n    setContacts\n  } = useContact();\n  const {\n    setShowModalManageGroup\n  } = useModal();\n\n  const ChatProfileSidebar = () => {\n    setChatProfileSidebarOpen(!chatProfileSidebarOpen);\n  };\n\n  function closeUserChat() {\n    setShowChat(false);\n  }\n\n  const isAdmin = ((_activeChat$members = activeChat.members) === null || _activeChat$members === void 0 ? void 0 : (_activeChat$members$f = _activeChat$members.find(member => member.userId === user.id)) === null || _activeChat$members$f === void 0 ? void 0 : _activeChat$members$f.role) === \"admin\";\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ModalManageGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-3 p-lg-4 border-bottom\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    sm: 4,\n    xs: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Media, {\n    className: \"align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-block d-lg-none mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"#\",\n    onClick: () => closeUserChat(),\n    className: \"user-chat-remove text-muted font-size-16 p-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ri-arrow-left-s-line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 19\n    }\n  }))), activeChat.profilePicture ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mr-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ReactImageFallback, {\n    src: activeChat.profilePicture,\n    onError: () => {\n      if (activeChat.jid.includes(\"@conference.\")) onImgError(chats, groups, contacts, setChats, setGroups, setContacts, activeChat);\n    },\n    style: {\n      maxHeight: \"40px\",\n      maxWidth: \"40px\"\n    },\n    fallbackImage: defaultAvatar,\n    className: \"rounded-circle avatar-lg img-thumbnail\",\n    alt: \"chatvia\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 19\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-user-img align-self-center mr-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"avatar-xs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"avatar-title rounded-circle bg-soft-primary text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }, activeChat.name.trim().charAt(0)))), /*#__PURE__*/React.createElement(Media, {\n    body: true,\n    className: \"overflow-hidden\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"font-size-16 mb-0 text-truncate\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"#\",\n    onClick: () => ChatProfileSidebar(),\n    className: \"text-reset user-profile-show\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 19\n    }\n  }, activeChat.name), (() => {\n    switch (activeChat.status) {\n      case \"online\":\n        return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"i\", {\n          className: \"ri-record-circle-fill font-size-10 text-success d-inline-block ml-1\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 29\n          }\n        }));\n\n      case \"away\":\n        return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"i\", {\n          className: \"ri-record-circle-fill font-size-10 text-warning d-inline-block ml-1\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 29\n          }\n        }));\n\n      case \"offline\":\n        return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"i\", {\n          className: \"ri-record-circle-fill font-size-10 text-secondary d-inline-block ml-1\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 29\n          }\n        }));\n\n      default:\n        return;\n    }\n  })())))), /*#__PURE__*/React.createElement(Col, {\n    sm: 8,\n    xs: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"list-inline user-chat-nav text-right mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }, activeChat.jid.includes(\"@conference.\") && isAdmin && /*#__PURE__*/React.createElement(\"li\", {\n    className: \"list-inline-item d-none d-lg-inline-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    color: \"none\",\n    onClick: () => setShowModalManageGroup(true),\n    className: \"nav-btn user-profile-show\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ri-todo-line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"list-inline-item d-none d-lg-inline-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    color: \"none\",\n    onClick: () => ChatProfileSidebar(),\n    className: \"nav-btn user-profile-show\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"ri-user-2-line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 19\n    }\n  }))))))));\n};\n\nexport default ChatHead;\n/*\r\n\r\n  <li className=\"list-inline-item\">\r\n    // SEARCH\r\n    <Dropdown isOpen={dropdownOpen} toggle={toggle}>\r\n    <DropdownToggle\r\n        color=\"none\"\r\n        className=\"btn nav-btn \"\r\n        type=\"button\"\r\n    >\r\n        <i className=\"ri-search-line\"></i>\r\n    </DropdownToggle>\r\n    \r\n    <DropdownMenu right className=\"p-0  dropdown-menu-md\">\r\n        <div className=\"search-box p-2\">\r\n        <Input\r\n            type=\"text\"\r\n            className=\"form-control bg-light border-0\"\r\n            placeholder=\"Search..\"\r\n        />\r\n        </div>\r\n    </DropdownMenu>\r\n    </Dropdown>\r\n  </li>\r\n\r\n  <li className=\"list-inline-item\">\r\n    <Dropdown isOpen={dropdownOpen} toggle={toggle}>\r\n      <DropdownToggle\r\n        className=\"btn nav-btn \"\r\n        color=\"none\"\r\n        type=\"button\"\r\n      >\r\n        <i className=\"ri-more-fill\"></i>\r\n      </DropdownToggle>\r\n      <DropdownMenu right>\r\n        <DropdownItem\r\n          className=\"d-block d-lg-none user-profile-show\"\r\n          onClick={() => ChatProfileSidebar()}\r\n        >\r\n          View profile{\" \"}\r\n          <i className=\"ri-user-2-line float-right text-muted\"></i>\r\n        </DropdownItem>\r\n        <DropdownItem>\r\n          Archive{\" \"}\r\n          <i className=\"ri-archive-line float-right text-muted\"></i>\r\n        </DropdownItem>\r\n        <DropdownItem>\r\n          Muted{\" \"}\r\n          <i className=\"ri-volume-mute-line float-right text-muted\"></i>\r\n        </DropdownItem>\r\n        <DropdownItem onClick={(e) => deleteMessage(e)}>\r\n          Delete{\" \"}\r\n          <i className=\"ri-delete-bin-line float-right text-muted\"></i>\r\n        </DropdownItem>\r\n      </DropdownMenu>\r\n    </Dropdown>\r\n  </li>\r\n\r\n*/","map":{"version":3,"sources":["C:/Users/Digivox/dev/Digivox/Refatoracao/squad/src/components/ChatHead.tsx"],"names":["React","Media","Button","Row","Col","Link","useChat","ReactImageFallback","onImgError","useGroup","defaultAvatar","useContact","useModal","ModalManageGroup","useAuth","ChatHead","chatProfileSidebarOpen","setChatProfileSidebarOpen","user","chats","activeChat","setChats","setShowChat","groups","setGroups","contacts","setContacts","setShowModalManageGroup","ChatProfileSidebar","closeUserChat","isAdmin","members","find","member","userId","id","role","profilePicture","jid","includes","maxHeight","maxWidth","name","trim","charAt","status"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Media, Button, Row, Col } from \"reactstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useChat } from \"../contexts/ChatContext\";\r\nimport ReactImageFallback from \"react-image-fallback\";\r\nimport { onImgError } from \"../helpers/ImageUtils\";\r\nimport { useGroup } from \"../contexts/GroupContext\";\r\nimport defaultAvatar from \"../assets/images/default.png\";\r\nimport { useContact } from \"../contexts/ContactContext\";\r\nimport { useModal } from \"../contexts/ModalContext\";\r\nimport ModalManageGroup from \"./ModalManageGroup\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\n\r\ninterface IProps {\r\n  chatProfileSidebarOpen: boolean;\r\n  setChatProfileSidebarOpen(value: boolean): void;\r\n}\r\n\r\nconst ChatHead: React.FC<IProps> = ({\r\n  chatProfileSidebarOpen,\r\n  setChatProfileSidebarOpen,\r\n}) => {\r\n  const { user } = useAuth();\r\n  const { chats, activeChat, setChats, setShowChat } = useChat();\r\n  const { groups, setGroups } = useGroup();\r\n  const { contacts, setContacts } = useContact();\r\n  const { setShowModalManageGroup } = useModal();\r\n\r\n  const ChatProfileSidebar = () => {\r\n    setChatProfileSidebarOpen(!chatProfileSidebarOpen);\r\n  };\r\n\r\n  function closeUserChat() {\r\n    setShowChat(false);\r\n  }\r\n  const isAdmin =\r\n    activeChat.members?.find((member) => member.userId === user.id)?.role ===\r\n    \"admin\";\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ModalManageGroup />\r\n      <div className=\"p-3 p-lg-4 border-bottom\">\r\n        <Row className=\"align-items-center\">\r\n          <Col sm={4} xs={8}>\r\n            <Media className=\"align-items-center\">\r\n              <div className=\"d-block d-lg-none mr-2\">\r\n                <Link\r\n                  to=\"#\"\r\n                  onClick={() => closeUserChat()}\r\n                  className=\"user-chat-remove text-muted font-size-16 p-2\"\r\n                >\r\n                  <i className=\"ri-arrow-left-s-line\"></i>\r\n                </Link>\r\n              </div>\r\n              {activeChat.profilePicture ? (\r\n                <div className=\"mr-3\">\r\n                  <ReactImageFallback\r\n                    src={activeChat.profilePicture}\r\n                    onError={() => {\r\n                      if (activeChat.jid.includes(\"@conference.\"))\r\n                        onImgError(\r\n                          chats,\r\n                          groups,\r\n                          contacts,\r\n                          setChats,\r\n                          setGroups,\r\n                          setContacts,\r\n                          activeChat\r\n                        );\r\n                    }}\r\n                    style={{ maxHeight: \"40px\", maxWidth: \"40px\" }}\r\n                    fallbackImage={defaultAvatar}\r\n                    className=\"rounded-circle avatar-lg img-thumbnail\"\r\n                    alt=\"chatvia\"\r\n                  />\r\n                </div>\r\n              ) : (\r\n                <div className=\"chat-user-img align-self-center mr-3\">\r\n                  <div className=\"avatar-xs\">\r\n                    <span className=\"avatar-title rounded-circle bg-soft-primary text-primary\">\r\n                      {activeChat.name.trim().charAt(0)}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              <Media body className=\"overflow-hidden\">\r\n                <h5 className=\"font-size-16 mb-0 text-truncate\">\r\n                  <Link\r\n                    to=\"#\"\r\n                    onClick={() => ChatProfileSidebar()}\r\n                    className=\"text-reset user-profile-show\"\r\n                  >\r\n                    {activeChat.name}\r\n                  </Link>\r\n                  {(() => {\r\n                    switch (activeChat.status) {\r\n                      case \"online\":\r\n                        return (\r\n                          <>\r\n                            <i className=\"ri-record-circle-fill font-size-10 text-success d-inline-block ml-1\"></i>\r\n                          </>\r\n                        );\r\n\r\n                      case \"away\":\r\n                        return (\r\n                          <>\r\n                            <i className=\"ri-record-circle-fill font-size-10 text-warning d-inline-block ml-1\"></i>\r\n                          </>\r\n                        );\r\n\r\n                      case \"offline\":\r\n                        return (\r\n                          <>\r\n                            <i className=\"ri-record-circle-fill font-size-10 text-secondary d-inline-block ml-1\"></i>\r\n                          </>\r\n                        );\r\n\r\n                      default:\r\n                        return;\r\n                    }\r\n                  })()}\r\n                </h5>\r\n              </Media>\r\n            </Media>\r\n          </Col>\r\n          <Col sm={8} xs={4}>\r\n            <ul className=\"list-inline user-chat-nav text-right mb-0\">\r\n              {activeChat.jid.includes(\"@conference.\") && isAdmin && (\r\n                <li className=\"list-inline-item d-none d-lg-inline-block\">\r\n                  <Button\r\n                    type=\"button\"\r\n                    color=\"none\"\r\n                    onClick={() => setShowModalManageGroup(true)}\r\n                    className=\"nav-btn user-profile-show\"\r\n                  >\r\n                    <i className=\"ri-todo-line\"></i>\r\n                  </Button>\r\n                </li>\r\n              )}\r\n              <li className=\"list-inline-item d-none d-lg-inline-block\">\r\n                <Button\r\n                  type=\"button\"\r\n                  color=\"none\"\r\n                  onClick={() => ChatProfileSidebar()}\r\n                  className=\"nav-btn user-profile-show\"\r\n                >\r\n                  <i className=\"ri-user-2-line\"></i>\r\n                </Button>\r\n              </li>\r\n            </ul>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default ChatHead;\r\n\r\n/*\r\n\r\n  <li className=\"list-inline-item\">\r\n    // SEARCH\r\n    <Dropdown isOpen={dropdownOpen} toggle={toggle}>\r\n    <DropdownToggle\r\n        color=\"none\"\r\n        className=\"btn nav-btn \"\r\n        type=\"button\"\r\n    >\r\n        <i className=\"ri-search-line\"></i>\r\n    </DropdownToggle>\r\n    \r\n    <DropdownMenu right className=\"p-0  dropdown-menu-md\">\r\n        <div className=\"search-box p-2\">\r\n        <Input\r\n            type=\"text\"\r\n            className=\"form-control bg-light border-0\"\r\n            placeholder=\"Search..\"\r\n        />\r\n        </div>\r\n    </DropdownMenu>\r\n    </Dropdown>\r\n  </li>\r\n\r\n  <li className=\"list-inline-item\">\r\n    <Dropdown isOpen={dropdownOpen} toggle={toggle}>\r\n      <DropdownToggle\r\n        className=\"btn nav-btn \"\r\n        color=\"none\"\r\n        type=\"button\"\r\n      >\r\n        <i className=\"ri-more-fill\"></i>\r\n      </DropdownToggle>\r\n      <DropdownMenu right>\r\n        <DropdownItem\r\n          className=\"d-block d-lg-none user-profile-show\"\r\n          onClick={() => ChatProfileSidebar()}\r\n        >\r\n          View profile{\" \"}\r\n          <i className=\"ri-user-2-line float-right text-muted\"></i>\r\n        </DropdownItem>\r\n        <DropdownItem>\r\n          Archive{\" \"}\r\n          <i className=\"ri-archive-line float-right text-muted\"></i>\r\n        </DropdownItem>\r\n        <DropdownItem>\r\n          Muted{\" \"}\r\n          <i className=\"ri-volume-mute-line float-right text-muted\"></i>\r\n        </DropdownItem>\r\n        <DropdownItem onClick={(e) => deleteMessage(e)}>\r\n          Delete{\" \"}\r\n          <i className=\"ri-delete-bin-line float-right text-muted\"></i>\r\n        </DropdownItem>\r\n      </DropdownMenu>\r\n    </Dropdown>\r\n  </li>\r\n\r\n*/\r\n"]},"metadata":{},"sourceType":"module"}