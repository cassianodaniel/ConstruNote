{"ast":null,"code":"'use strict';\n\nconst Context = require('./Context');\n\nconst JID = require('@xmpp/jid');\n\nmodule.exports = class IncomingContext extends Context {\n  constructor(entity, stanza) {\n    super(entity, stanza);\n    const {\n      jid,\n      domain\n    } = entity;\n    const to = stanza.attrs.to || jid && jid.toString();\n    const from = stanza.attrs.from || domain;\n    if (to) this.to = new JID(to);\n\n    if (from) {\n      this.from = new JID(from);\n      this.local = this.from.local;\n      this.domain = this.from.domain;\n      this.resource = this.from.resource;\n    }\n  }\n\n};","map":{"version":3,"sources":["C:/Users/Digivox/dev/Digivox/Refatoracao/squad/node_modules/@xmpp/middleware/lib/IncomingContext.js"],"names":["Context","require","JID","module","exports","IncomingContext","constructor","entity","stanza","jid","domain","to","attrs","toString","from","local","resource"],"mappings":"AAAA;;AAEA,MAAMA,OAAO,GAAGC,OAAO,CAAC,WAAD,CAAvB;;AACA,MAAMC,GAAG,GAAGD,OAAO,CAAC,WAAD,CAAnB;;AAEAE,MAAM,CAACC,OAAP,GAAiB,MAAMC,eAAN,SAA8BL,OAA9B,CAAsC;AACrDM,EAAAA,WAAW,CAACC,MAAD,EAASC,MAAT,EAAiB;AAC1B,UAAMD,MAAN,EAAcC,MAAd;AAEA,UAAM;AAACC,MAAAA,GAAD;AAAMC,MAAAA;AAAN,QAAgBH,MAAtB;AAEA,UAAMI,EAAE,GAAGH,MAAM,CAACI,KAAP,CAAaD,EAAb,IAAoBF,GAAG,IAAIA,GAAG,CAACI,QAAJ,EAAtC;AACA,UAAMC,IAAI,GAAGN,MAAM,CAACI,KAAP,CAAaE,IAAb,IAAqBJ,MAAlC;AAEA,QAAIC,EAAJ,EAAQ,KAAKA,EAAL,GAAU,IAAIT,GAAJ,CAAQS,EAAR,CAAV;;AAER,QAAIG,IAAJ,EAAU;AACR,WAAKA,IAAL,GAAY,IAAIZ,GAAJ,CAAQY,IAAR,CAAZ;AACA,WAAKC,KAAL,GAAa,KAAKD,IAAL,CAAUC,KAAvB;AACA,WAAKL,MAAL,GAAc,KAAKI,IAAL,CAAUJ,MAAxB;AACA,WAAKM,QAAL,GAAgB,KAAKF,IAAL,CAAUE,QAA1B;AACD;AACF;;AAjBoD,CAAvD","sourcesContent":["'use strict'\n\nconst Context = require('./Context')\nconst JID = require('@xmpp/jid')\n\nmodule.exports = class IncomingContext extends Context {\n  constructor(entity, stanza) {\n    super(entity, stanza)\n\n    const {jid, domain} = entity\n\n    const to = stanza.attrs.to || (jid && jid.toString())\n    const from = stanza.attrs.from || domain\n\n    if (to) this.to = new JID(to)\n\n    if (from) {\n      this.from = new JID(from)\n      this.local = this.from.local\n      this.domain = this.from.domain\n      this.resource = this.from.resource\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"script"}