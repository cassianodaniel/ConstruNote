{"ast":null,"code":"export function isTextMessage(stanza) {\n  return stanza.getChild(\"body\") !== undefined && (!stanza.getChild(\"x\") || stanza.getChild(\"x\").attrs.xmlns !== \"jabber:x:oob\");\n}\nexport function isFileMessage(stanza) {\n  return stanza.getChild(\"x\") && stanza.getChild(\"x\").attrs.xmlns === \"jabber:x:oob\";\n}\nexport function isReceived(stanza) {\n  return !!stanza.getChild('received');\n}\nexport function isDisplayed(stanza) {\n  return !!stanza.getChild('displayed');\n}\nexport function isComposing(stanza) {\n  return !!stanza.getChild('composing');\n}\nexport function isActive(stanza) {\n  return !!stanza.getChild('active');\n}\nexport function getReceivedMessageId(stanza) {\n  return stanza.getChild('received').attrs.id;\n}\nexport function getDisplayedMessageId(stanza) {\n  return stanza.getChild('displayed').attrs.id;\n}\nexport function getMessage(stanza) {\n  if (isTextMessage(stanza)) {\n    return stanza.getChild(\"body\").children[0];\n  }\n}\nexport function getFileUrl(stanza) {\n  return stanza.getChild(\"body\").children[0];\n}\nexport function getMessageId(stanza) {\n  return stanza.attrs.id;\n}\nexport function getFrom(stanza) {\n  if (stanza.attrs.from.includes('@conference.')) {\n    return stanza.attrs.from;\n  }\n\n  return stanza.attrs.from.split(\"/\")[0];\n}\nexport function getTo(stanza) {\n  return stanza.attrs.to.split(\"/\")[0];\n}\nexport function getMessageType(stanza) {\n  return stanza.attrs.type;\n}\nexport function getMessagFileUrl(stanza) {\n  return stanza.getChild(\"body\").children[0];\n}\nexport function getReplyTo(stanza) {\n  if (stanza.getChild(\"extraParams\")) return stanza.getChild(\"extraParams\").getChild(\"reply_to\").children[0];else return undefined;\n}\nexport function getReplyMsg(stanza) {\n  if (stanza.getChild(\"extraParams\")) return stanza.getChild(\"extraParams\").getChild(\"reply_msg\").children[0];else return undefined;\n}\nexport function getReplyMsgId(stanza) {\n  if (stanza.getChild(\"extraParams\")) return stanza.getChild(\"extraParams\").getChild(\"reply_msg_id\").children[0];else return undefined;\n}","map":{"version":3,"sources":["C:/Users/Digivox/dev/Digivox/Refatoracao/squad/src/services/chat/util/stanzaUtils.ts"],"names":["isTextMessage","stanza","getChild","undefined","attrs","xmlns","isFileMessage","isReceived","isDisplayed","isComposing","isActive","getReceivedMessageId","id","getDisplayedMessageId","getMessage","children","getFileUrl","getMessageId","getFrom","from","includes","split","getTo","to","getMessageType","type","getMessagFileUrl","getReplyTo","getReplyMsg","getReplyMsgId"],"mappings":"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","sourcesContent":["export function isTextMessage(stanza: any) {\r\n  return (\r\n    stanza.getChild(\"body\") !== undefined &&\r\n    (!stanza.getChild(\"x\") ||\r\n      stanza.getChild(\"x\").attrs.xmlns !== \"jabber:x:oob\")\r\n  );\r\n}\r\nexport function isFileMessage(stanza: any) {\r\n  return (\r\n    stanza.getChild(\"x\") && stanza.getChild(\"x\").attrs.xmlns === \"jabber:x:oob\"\r\n  );\r\n}\r\nexport function isReceived(stanza: any) {\r\n  return (!!stanza.getChild('received'))\r\n}\r\nexport function isDisplayed(stanza: any) {\r\n  return (!!stanza.getChild('displayed'))\r\n}\r\nexport function isComposing(stanza: any) {\r\n  return (!!stanza.getChild('composing'))\r\n}\r\nexport function isActive(stanza: any) {\r\n  return (!!stanza.getChild('active'))\r\n}\r\nexport function getReceivedMessageId(stanza: any) {\r\n  return stanza.getChild('received').attrs.id\r\n}\r\nexport function getDisplayedMessageId(stanza: any) {\r\n  return stanza.getChild('displayed').attrs.id\r\n}\r\nexport function getMessage(stanza: any) {\r\n  if (isTextMessage(stanza)) {\r\n    return stanza.getChild(\"body\").children[0];\r\n  }\r\n}\r\nexport function getFileUrl(stanza: any) {\r\n  return stanza.getChild(\"body\").children[0];\r\n}\r\nexport function getMessageId(stanza: any) {\r\n  return stanza.attrs.id;\r\n}\r\nexport function getFrom(stanza: any): string {\r\n  if (stanza.attrs.from.includes('@conference.')) {\r\n    return stanza.attrs.from;\r\n  }\r\n  return stanza.attrs.from.split(\"/\")[0];\r\n}\r\nexport function getTo(stanza: any) {\r\n  return stanza.attrs.to.split(\"/\")[0];\r\n}\r\nexport function getMessageType(stanza: any) {\r\n  return stanza.attrs.type;\r\n}\r\nexport function getMessagFileUrl(stanza: any) {\r\n  return stanza.getChild(\"body\").children[0];\r\n}\r\nexport function getReplyTo(stanza: any) {\r\n  if (stanza.getChild(\"extraParams\"))\r\n    return stanza.getChild(\"extraParams\").getChild(\"reply_to\").children[0];\r\n  else return undefined;\r\n}\r\nexport function getReplyMsg(stanza: any) {\r\n  if (stanza.getChild(\"extraParams\"))\r\n    return stanza.getChild(\"extraParams\").getChild(\"reply_msg\").children[0];\r\n  else return undefined;\r\n}\r\nexport function getReplyMsgId(stanza: any) {\r\n  if (stanza.getChild(\"extraParams\"))\r\n    return stanza.getChild(\"extraParams\").getChild(\"reply_msg_id\").children[0];\r\n  else return undefined;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}