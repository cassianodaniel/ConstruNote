{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Digivox\\\\dev\\\\DathApp\\\\ConstruNote\\\\src\\\\components\\\\ModalEditInfo.tsx\";\nimport React, { useEffect, useRef } from \"react\";\nimport { Formik, Form as FormFormik, Field, ErrorMessage } from \"formik\";\nimport { useTranslation } from \"react-i18next\";\nimport * as yup from \"yup\";\nimport { useModal } from \"./../contexts/ModalContext\";\nimport { useAuth } from \"./../contexts/AuthContext\";\nimport { Modal, ModalHeader, ModalBody, CardBody, Button, ModalFooter } from \"reactstrap\";\n\nconst ModalEditInfo = () => {\n  const {\n    t\n  } = useTranslation();\n  const {\n    showModalEditInfo,\n    setShowModalEditInfo\n  } = useModal();\n  const {\n    setChangedUserData,\n    user\n  } = useAuth();\n  const initialValues = {\n    name: user.name,\n    email: user.email\n  };\n\n  const onSubmit = data => {\n    setChangedUserData({\n      name: data.name,\n      email: data.email\n    });\n    setShowModalEditInfo(false);\n  };\n\n  const close = () => setShowModalEditInfo(false);\n\n  const validations = yup.object().shape({\n    name: yup.string().required(t(\"The field is required\")).min(3, t(\"The field must be at least 3 characters long\")),\n    email: yup.string().required(t(\"The field is required\")).email(t(\"The field must be an email\"))\n  });\n  const inputName = useRef(null);\n  useEffect(() => {\n    setTimeout(() => {\n      var _inputName$current;\n\n      return (_inputName$current = inputName.current) === null || _inputName$current === void 0 ? void 0 : _inputName$current.focus();\n    }, 500);\n  }, [showModalEditInfo]);\n  return /*#__PURE__*/React.createElement(Modal, {\n    backdrop: \"static\",\n    isOpen: showModalEditInfo,\n    centered: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ModalHeader, {\n    toggle: close,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, \"Edit personal info\"), /*#__PURE__*/React.createElement(ModalBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Formik, {\n    initialValues: initialValues,\n    onSubmit: onSubmit,\n    validationSchema: validations,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormFormik, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, t(\"Name\")), /*#__PURE__*/React.createElement(Field, {\n    innerRef: inputName,\n    name: \"name\",\n    className: \"form-control\",\n    placeholder: t(\"Name\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(ErrorMessage, {\n    component: \"small\",\n    name: \"name\",\n    className: \"form-text text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, t(\"Email\")), /*#__PURE__*/React.createElement(Field, {\n    name: \"email\",\n    className: \"form-control\",\n    placeholder: t(\"Email\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(ErrorMessage, {\n    component: \"small\",\n    name: t(\"Email\"),\n    className: \"form-text text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(ModalFooter, {\n    className: \"border-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"default\",\n    onClick: close,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, t(\"Close\")), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, t(\"Confirm\"))))))));\n};\n\nexport default ModalEditInfo;","map":{"version":3,"sources":["C:/Users/Digivox/dev/DathApp/ConstruNote/src/components/ModalEditInfo.tsx"],"names":["React","useEffect","useRef","Formik","Form","FormFormik","Field","ErrorMessage","useTranslation","yup","useModal","useAuth","Modal","ModalHeader","ModalBody","CardBody","Button","ModalFooter","ModalEditInfo","t","showModalEditInfo","setShowModalEditInfo","setChangedUserData","user","initialValues","name","email","onSubmit","data","close","validations","object","shape","string","required","min","inputName","setTimeout","current","focus"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef } from \"react\";\r\nimport { Formik, Form as FormFormik, Field, ErrorMessage } from \"formik\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport * as yup from \"yup\";\r\nimport { useModal } from \"./../contexts/ModalContext\";\r\nimport { useAuth } from \"./../contexts/AuthContext\";\r\nimport {\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  CardBody,\r\n  Button,\r\n  ModalFooter,\r\n} from \"reactstrap\";\r\n\r\ninterface IValue {\r\n  name: string;\r\n  email: string;\r\n}\r\n\r\nconst ModalEditInfo: React.FC = () => {\r\n  const { t } = useTranslation();\r\n  const { showModalEditInfo, setShowModalEditInfo } = useModal();\r\n  const { setChangedUserData, user } = useAuth();\r\n\r\n  const initialValues: IValue = {\r\n    name: user.name,\r\n    email: user.email,\r\n  };\r\n\r\n  const onSubmit = (data: IValue) => {\r\n    setChangedUserData({ name: data.name, email: data.email });\r\n    setShowModalEditInfo(false);\r\n  };\r\n\r\n  const close = () => setShowModalEditInfo(false);\r\n\r\n  const validations = yup.object().shape({\r\n    name: yup\r\n      .string()\r\n      .required(t(\"The field is required\"))\r\n      .min(3, t(\"The field must be at least 3 characters long\")),\r\n    email: yup\r\n      .string()\r\n      .required(t(\"The field is required\"))\r\n      .email(t(\"The field must be an email\")),\r\n  });\r\n\r\n  const inputName = useRef<HTMLInputElement>(null);\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => inputName.current?.focus(), 500);\r\n  }, [showModalEditInfo]);\r\n\r\n  return (\r\n    <Modal backdrop=\"static\" isOpen={showModalEditInfo} centered>\r\n      <ModalHeader toggle={close}>Edit personal info</ModalHeader>\r\n      <ModalBody>\r\n        <CardBody>\r\n          <Formik\r\n            initialValues={initialValues}\r\n            onSubmit={onSubmit}\r\n            validationSchema={validations}\r\n          >\r\n            <FormFormik>\r\n              <div className=\"form-group\">\r\n                <label>{t(\"Name\")}</label>\r\n                <Field\r\n                  innerRef={inputName}\r\n                  name=\"name\"\r\n                  className=\"form-control\"\r\n                  placeholder={t(\"Name\")}\r\n                />\r\n                <ErrorMessage\r\n                  component=\"small\"\r\n                  name=\"name\"\r\n                  className=\"form-text text-danger\"\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>{t(\"Email\")}</label>\r\n                <Field\r\n                  name=\"email\"\r\n                  className=\"form-control\"\r\n                  placeholder={t(\"Email\")}\r\n                />\r\n                <ErrorMessage\r\n                  component=\"small\"\r\n                  name={t(\"Email\")}\r\n                  className=\"form-text text-danger\"\r\n                />\r\n              </div>\r\n              <ModalFooter className=\"border-0\">\r\n                <Button color=\"default\" onClick={close}>\r\n                  {t(\"Close\")}\r\n                </Button>\r\n                <Button type=\"submit\" color=\"primary\">\r\n                  {t(\"Confirm\")}\r\n                </Button>\r\n              </ModalFooter>\r\n            </FormFormik>\r\n          </Formik>\r\n        </CardBody>\r\n      </ModalBody>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default ModalEditInfo;\r\n"]},"metadata":{},"sourceType":"module"}