{"ast":null,"code":"'use strict';\n\nconst xml = require('@xmpp/xml'); // https://tools.ietf.org/html/draft-cridland-xmpp-session-01\n\n\nconst NS = 'urn:ietf:params:xml:ns:xmpp-session';\n\nmodule.exports = function ({\n  iqCaller,\n  streamFeatures\n}) {\n  streamFeatures.use('session', NS, async (context, next, feature) => {\n    if (feature.getChild('optional')) return next();\n    await iqCaller.set(xml('session', NS));\n    return next();\n  });\n};","map":{"version":3,"sources":["C:/Users/Digivox/dev/Digivox/Refatoracao/squad/node_modules/@xmpp/session-establishment/index.js"],"names":["xml","require","NS","module","exports","iqCaller","streamFeatures","use","context","next","feature","getChild","set"],"mappings":"AAAA;;AAEA,MAAMA,GAAG,GAAGC,OAAO,CAAC,WAAD,CAAnB,C,CAEA;;;AAEA,MAAMC,EAAE,GAAG,qCAAX;;AAEAC,MAAM,CAACC,OAAP,GAAiB,UAAS;AAACC,EAAAA,QAAD;AAAWC,EAAAA;AAAX,CAAT,EAAqC;AACpDA,EAAAA,cAAc,CAACC,GAAf,CAAmB,SAAnB,EAA8BL,EAA9B,EAAkC,OAAOM,OAAP,EAAgBC,IAAhB,EAAsBC,OAAtB,KAAkC;AAClE,QAAIA,OAAO,CAACC,QAAR,CAAiB,UAAjB,CAAJ,EAAkC,OAAOF,IAAI,EAAX;AAClC,UAAMJ,QAAQ,CAACO,GAAT,CAAaZ,GAAG,CAAC,SAAD,EAAYE,EAAZ,CAAhB,CAAN;AACA,WAAOO,IAAI,EAAX;AACD,GAJD;AAKD,CAND","sourcesContent":["'use strict'\n\nconst xml = require('@xmpp/xml')\n\n// https://tools.ietf.org/html/draft-cridland-xmpp-session-01\n\nconst NS = 'urn:ietf:params:xml:ns:xmpp-session'\n\nmodule.exports = function({iqCaller, streamFeatures}) {\n  streamFeatures.use('session', NS, async (context, next, feature) => {\n    if (feature.getChild('optional')) return next()\n    await iqCaller.set(xml('session', NS))\n    return next()\n  })\n}\n"]},"metadata":{},"sourceType":"script"}