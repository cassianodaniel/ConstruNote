{"ast":null,"code":"var _toConsumableArray = require(\"C:\\\\Users\\\\Digivox\\\\dev\\\\Digivox\\\\Refatoracao\\\\squad\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/toConsumableArray\");\n\nvar _objectSpread = require(\"C:\\\\Users\\\\Digivox\\\\dev\\\\Digivox\\\\Refatoracao\\\\squad\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/objectSpread2\");\n\n/**\n * Created by Samuel on 6/4/2016.\n * Simple wrapper functions to produce shorter UUIDs for cookies, maybe everything?\n */\nvar anyBase = require('any-base');\n\nvar uuidV4 = require('uuid').v4;\n\nvar flickrBase58 = '123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ';\nvar cookieBase90 = \"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!#$%&'()*+-./:<=>?@[]^_`{|}~\";\nvar baseOptions = {\n  consistentLength: true\n}; // A default generator, instantiated only if used.\n\nvar toFlickr;\n/**\n * Takes a UUID, strips the dashes, and translates.\n * @param {string} longId\n * @param {function(string)} translator\n * @param {Object} [paddingParams]\n * @returns {string}\n */\n\nvar shortenUUID = function shortenUUID(longId, translator, paddingParams) {\n  var translated = translator(longId.toLowerCase().replace(/-/g, ''));\n  if (!paddingParams || !paddingParams.consistentLength) return translated;\n  return translated.padStart(paddingParams.shortIdLength, paddingParams.paddingChar);\n};\n/**\n * Translate back to hex and turn back into UUID format, with dashes\n * @param {string} shortId\n * @param {function(string)} translator\n * @returns {string}\n */\n\n\nvar enlargeUUID = function enlargeUUID(shortId, translator) {\n  var uu1 = translator(shortId).padStart(32, '0'); // Join the zero padding and the UUID and then slice it up with match\n\n  var m = uu1.match(/(\\w{8})(\\w{4})(\\w{4})(\\w{4})(\\w{12})/); // Accumulate the matches and join them.\n\n  return [m[1], m[2], m[3], m[4], m[5]].join('-');\n}; // Calculate length for the shortened ID\n\n\nvar getShortIdLength = function getShortIdLength(alphabetLength) {\n  return Math.ceil(Math.log(Math.pow(2, 128)) / Math.log(alphabetLength));\n};\n\nmodule.exports = function () {\n  /**\n   * @param {string} toAlphabet - Defaults to flickrBase58 if not provided\n   * @param {Object} [options]\n   *\n   * @returns {{new: (function()),\n   *  uuid: (function()),\n   *  fromUUID: (function(string)),\n   *  toUUID: (function(string)),\n   *  alphabet: (string)}}\n   */\n  var makeConvertor = function makeConvertor(toAlphabet, options) {\n    // Default to Flickr 58\n    var useAlphabet = toAlphabet || flickrBase58; // Default to baseOptions\n\n    var selectedOptions = _objectSpread(_objectSpread({}, baseOptions), options); // Check alphabet for duplicate entries\n\n\n    if (_toConsumableArray(new Set(Array.from(useAlphabet))).length !== useAlphabet.length) {\n      throw new Error('The provided Alphabet has duplicate characters resulting in unreliable results');\n    }\n\n    var shortIdLength = getShortIdLength(useAlphabet.length); // Padding Params\n\n    var paddingParams = {\n      shortIdLength: shortIdLength,\n      consistentLength: selectedOptions.consistentLength,\n      paddingChar: useAlphabet[0]\n    }; // UUIDs are in hex, so we translate to and from.\n\n    var fromHex = anyBase(anyBase.HEX, useAlphabet);\n    var toHex = anyBase(useAlphabet, anyBase.HEX);\n\n    var generate = function generate() {\n      return shortenUUID(uuidV4(), fromHex, paddingParams);\n    };\n\n    var translator = {\n      new: generate,\n      generate: generate,\n      uuid: uuidV4,\n      fromUUID: function fromUUID(uuid) {\n        return shortenUUID(uuid, fromHex, paddingParams);\n      },\n      toUUID: function toUUID(shortUuid) {\n        return enlargeUUID(shortUuid, toHex);\n      },\n      alphabet: useAlphabet,\n      maxLength: shortIdLength\n    };\n    Object.freeze(translator);\n    return translator;\n  }; // Expose the constants for other purposes.\n\n\n  makeConvertor.constants = {\n    flickrBase58: flickrBase58,\n    cookieBase90: cookieBase90\n  }; // Expose the generic v4 UUID generator for convenience\n\n  makeConvertor.uuid = uuidV4; // Provide a generic generator\n\n  makeConvertor.generate = function () {\n    if (!toFlickr) {\n      // Generate on first use;\n      toFlickr = makeConvertor(flickrBase58).generate;\n    }\n\n    return toFlickr();\n  };\n\n  return makeConvertor;\n}();","map":{"version":3,"sources":["C:/Users/Digivox/dev/Digivox/Refatoracao/squad/node_modules/short-uuid/index.js"],"names":["anyBase","require","uuidV4","v4","flickrBase58","cookieBase90","baseOptions","consistentLength","toFlickr","shortenUUID","longId","translator","paddingParams","translated","toLowerCase","replace","padStart","shortIdLength","paddingChar","enlargeUUID","shortId","uu1","m","match","join","getShortIdLength","alphabetLength","Math","ceil","log","module","exports","makeConvertor","toAlphabet","options","useAlphabet","selectedOptions","Set","Array","from","length","Error","fromHex","HEX","toHex","generate","new","uuid","fromUUID","toUUID","shortUuid","alphabet","maxLength","Object","freeze","constants"],"mappings":"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","sourcesContent":["/**\n * Created by Samuel on 6/4/2016.\n * Simple wrapper functions to produce shorter UUIDs for cookies, maybe everything?\n */\n\nconst anyBase = require('any-base');\nconst uuidV4 = require('uuid').v4;\n\nconst flickrBase58 = '123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ';\nconst cookieBase90 = \"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!#$%&'()*+-./:<=>?@[]^_`{|}~\";\n\nconst baseOptions = {\n  consistentLength: true,\n};\n\n// A default generator, instantiated only if used.\nlet toFlickr;\n\n/**\n * Takes a UUID, strips the dashes, and translates.\n * @param {string} longId\n * @param {function(string)} translator\n * @param {Object} [paddingParams]\n * @returns {string}\n */\nconst shortenUUID = (longId, translator, paddingParams) => {\n  const translated = translator(longId.toLowerCase().replace(/-/g, ''));\n\n  if (!paddingParams || !paddingParams.consistentLength) return translated;\n\n  return translated.padStart(\n    paddingParams.shortIdLength,\n    paddingParams.paddingChar,\n  );\n};\n\n/**\n * Translate back to hex and turn back into UUID format, with dashes\n * @param {string} shortId\n * @param {function(string)} translator\n * @returns {string}\n */\nconst enlargeUUID = (shortId, translator) => {\n  const uu1 = translator(shortId).padStart(32, '0');\n\n  // Join the zero padding and the UUID and then slice it up with match\n  const m = uu1.match(/(\\w{8})(\\w{4})(\\w{4})(\\w{4})(\\w{12})/);\n\n  // Accumulate the matches and join them.\n  return [m[1], m[2], m[3], m[4], m[5]].join('-');\n};\n\n// Calculate length for the shortened ID\nconst getShortIdLength = (alphabetLength) => (\n  Math.ceil(Math.log(2 ** 128) / Math.log(alphabetLength)));\n\nmodule.exports = (() => {\n  /**\n   * @param {string} toAlphabet - Defaults to flickrBase58 if not provided\n   * @param {Object} [options]\n   *\n   * @returns {{new: (function()),\n   *  uuid: (function()),\n   *  fromUUID: (function(string)),\n   *  toUUID: (function(string)),\n   *  alphabet: (string)}}\n   */\n  const makeConvertor = (toAlphabet, options) => {\n    // Default to Flickr 58\n    const useAlphabet = toAlphabet || flickrBase58;\n\n    // Default to baseOptions\n    const selectedOptions = { ...baseOptions, ...options };\n\n    // Check alphabet for duplicate entries\n    if ([...new Set(Array.from(useAlphabet))].length !== useAlphabet.length) {\n      throw new Error('The provided Alphabet has duplicate characters resulting in unreliable results');\n    }\n\n    const shortIdLength = getShortIdLength(useAlphabet.length);\n\n    // Padding Params\n    const paddingParams = {\n      shortIdLength,\n      consistentLength: selectedOptions.consistentLength,\n      paddingChar: useAlphabet[0],\n    };\n\n    // UUIDs are in hex, so we translate to and from.\n    const fromHex = anyBase(anyBase.HEX, useAlphabet);\n    const toHex = anyBase(useAlphabet, anyBase.HEX);\n    const generate = () => shortenUUID(uuidV4(), fromHex, paddingParams);\n\n    const translator = {\n      new: generate,\n      generate,\n      uuid: uuidV4,\n      fromUUID: (uuid) => shortenUUID(uuid, fromHex, paddingParams),\n      toUUID: (shortUuid) => enlargeUUID(shortUuid, toHex),\n      alphabet: useAlphabet,\n      maxLength: shortIdLength,\n    };\n\n    Object.freeze(translator);\n\n    return translator;\n  };\n\n  // Expose the constants for other purposes.\n  makeConvertor.constants = {\n    flickrBase58,\n    cookieBase90,\n  };\n\n  // Expose the generic v4 UUID generator for convenience\n  makeConvertor.uuid = uuidV4;\n\n  // Provide a generic generator\n  makeConvertor.generate = () => {\n    if (!toFlickr) {\n      // Generate on first use;\n      toFlickr = makeConvertor(flickrBase58).generate;\n    }\n    return toFlickr();\n  };\n\n  return makeConvertor;\n})();\n"]},"metadata":{},"sourceType":"script"}