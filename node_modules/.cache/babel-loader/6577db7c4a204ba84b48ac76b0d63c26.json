{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Digivox\\\\dev\\\\Digivox\\\\Refatoracao\\\\squad\\\\src\\\\components\\\\ChatBox.tsx\";\nimport React from \"react\"; //Import Components\n\nimport ModalForwardMessageTo from \"./ModalForwardMessageTo\";\nimport ChatProfileSidebar from \"./ChatProfileSidebar\";\nimport ChatInput from \"./ChatInput\";\nimport ChatHead from \"./ChatHead\";\nimport ChatHeadConference from \"./ChatHeadConference\";\nimport ChatInputAnswer from \"./ChatInputAnswer\";\nimport ChatBody from \"./ChatBody\";\nimport { useChat } from \"../contexts/ChatContext\";\nimport { useCall } from \"../contexts/CallContext\";\nimport CallStatus from \"../enuns/CallStatus\";\nimport { tagsRange } from \"../services/voice/voicecommunicator\";\nimport DragNDropCaller from './DragNDropCaller';\n\nconst ChatBox = () => {\n  const {\n    showChatProfileSidebar,\n    setShowChatProfileSidebar\n  } = useChat();\n  const {\n    activeChat,\n    showChat\n  } = useChat();\n  const {\n    currentCalls\n  } = useCall();\n  const currentCall = Array.from(currentCalls.values()).find(call => {\n    var _call$callerObject;\n\n    return ((_call$callerObject = call.callerObject) === null || _call$callerObject === void 0 ? void 0 : _call$callerObject.jid) === activeChat.jid;\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 5\n    }\n  }, showChat && /*#__PURE__*/React.createElement(\"div\", {\n    className: `user-chat w-100 ${showChat ? \"user-chat-show\" : \"\"}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-lg-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: showChatProfileSidebar ? \"w-70\" : \"w-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }\n  }, (currentCall === null || currentCall === void 0 ? void 0 : currentCall.callStatus) === CallStatus.ON_GOING || (currentCall === null || currentCall === void 0 ? void 0 : currentCall.callStatus) === CallStatus.CONNECTING || (currentCall === null || currentCall === void 0 ? void 0 : currentCall.callStatus) === CallStatus.CALLING ? /*#__PURE__*/React.createElement(ChatHeadConference, {\n    chatProfileSidebarOpen: showChatProfileSidebar,\n    setChatProfileSidebarOpen: setShowChatProfileSidebar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 17\n    }\n  }) : /*#__PURE__*/React.createElement(ChatHead, {\n    chatProfileSidebarOpen: showChatProfileSidebar,\n    setChatProfileSidebarOpen: setShowChatProfileSidebar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(ChatBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(ModalForwardMessageTo, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(ChatInputAnswer, {\n    showChatProfileSidebar: showChatProfileSidebar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(DragNDropCaller, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(ChatInput, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(ChatProfileSidebar, {\n    show: showChatProfileSidebar,\n    setShow: setShowChatProfileSidebar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }))), tagsRange.map(tagId => /*#__PURE__*/React.createElement(\"video\", {\n    id: `remote-stream-${tagId}`,\n    key: `remote-stream-${tagId}`,\n    hidden: !((currentCall === null || currentCall === void 0 ? void 0 : currentCall.tagId) === `remote-stream-${tagId}` && (currentCall.receivingVideo || currentCall.sendingVideo)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default ChatBox;","map":{"version":3,"sources":["C:/Users/Digivox/dev/Digivox/Refatoracao/squad/src/components/ChatBox.tsx"],"names":["React","ModalForwardMessageTo","ChatProfileSidebar","ChatInput","ChatHead","ChatHeadConference","ChatInputAnswer","ChatBody","useChat","useCall","CallStatus","tagsRange","DragNDropCaller","ChatBox","showChatProfileSidebar","setShowChatProfileSidebar","activeChat","showChat","currentCalls","currentCall","Array","from","values","find","call","callerObject","jid","callStatus","ON_GOING","CONNECTING","CALLING","map","tagId","receivingVideo","sendingVideo"],"mappings":"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","sourcesContent":["import React from \"react\";\r\n\r\n//Import Components\r\nimport ModalForwardMessageTo from \"./ModalForwardMessageTo\";\r\nimport ChatProfileSidebar from \"./ChatProfileSidebar\";\r\nimport ChatInput from \"./ChatInput\";\r\nimport ChatHead from \"./ChatHead\";\r\nimport ChatHeadConference from \"./ChatHeadConference\";\r\nimport ChatInputAnswer from \"./ChatInputAnswer\";\r\nimport ChatBody from \"./ChatBody\";\r\nimport { useChat } from \"../contexts/ChatContext\";\r\nimport { useCall } from \"../contexts/CallContext\";\r\nimport CallStatus from \"../enuns/CallStatus\";\r\nimport { tagsRange } from \"../services/voice/voicecommunicator\";\r\nimport DragNDropCaller from './DragNDropCaller';\r\n\r\nconst ChatBox = () => {\r\n  const { showChatProfileSidebar, setShowChatProfileSidebar } = useChat();\r\n  const { activeChat, showChat } = useChat();\r\n  const { currentCalls } = useCall();\r\n  const currentCall = Array.from(currentCalls.values()).find(\r\n    (call) => call.callerObject?.jid === activeChat.jid\r\n  );\r\n  return (\r\n    <React.Fragment>\r\n      {showChat && (\r\n        <div className={`user-chat w-100 ${showChat ? \"user-chat-show\" : \"\"}`}>\r\n          <div className=\"d-lg-flex\">\r\n            <div className={showChatProfileSidebar ? \"w-70\" : \"w-100\"}>\r\n              {/* render user head */}\r\n              {currentCall?.callStatus === CallStatus.ON_GOING ||\r\n              currentCall?.callStatus === CallStatus.CONNECTING ||\r\n              currentCall?.callStatus === CallStatus.CALLING ? (\r\n                <ChatHeadConference\r\n                  chatProfileSidebarOpen={showChatProfileSidebar}\r\n                  setChatProfileSidebarOpen={setShowChatProfileSidebar}\r\n                />\r\n              ) : (\r\n                <ChatHead\r\n                  chatProfileSidebarOpen={showChatProfileSidebar}\r\n                  setChatProfileSidebarOpen={setShowChatProfileSidebar}\r\n                />\r\n              )}\r\n              <ChatBody />\r\n              <ModalForwardMessageTo />\r\n              <ChatInputAnswer\r\n                showChatProfileSidebar={showChatProfileSidebar}\r\n              />\r\n              <DragNDropCaller>\r\n                <ChatInput />\r\n              </DragNDropCaller>\r\n            </div>\r\n\r\n            <ChatProfileSidebar\r\n              show={showChatProfileSidebar}\r\n              setShow={setShowChatProfileSidebar}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n      {tagsRange.map((tagId) => (\r\n        <video\r\n          id={`remote-stream-${tagId}`}\r\n          key={`remote-stream-${tagId}`}\r\n          hidden={\r\n            !(\r\n              currentCall?.tagId === `remote-stream-${tagId}` &&\r\n              (currentCall.receivingVideo || currentCall.sendingVideo)\r\n            )\r\n          }\r\n        ></video>\r\n      ))}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default ChatBox;\r\n"]},"metadata":{},"sourceType":"module"}